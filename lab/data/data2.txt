StanfordArtificialIntelligenceLaboratoryJuly1976if)MemoAIM-286LC)UComputerScienceDepartment,ReportNo.STAN-CS-76-570,AM:AnArtificialIntelligenceApproachtoDiscoveryinMathematicsasHeuristicSearchbyDouglasB.Len-tAPPROVEDFORPUBLICRELEASE;DISTRIBUTIONISUNLIMITED(A)ResearchsponsoredbyAdvancedResearchProjectsAgencyARPAOrderNo.2494COMPUTERSCIENCEDEPARTMENTStanfordUniversity0_.J,~~...:...U..7984,!!JU,85061140StanfordArtificialIntelligenceLaboratoryJuly1976MemoAIM-286ComputerScienceDepartmentReportNo.STAN-CS-76-570AM:AnArtificialIntelligenceApproachtoDiscoveryinMathematicsasHeuristicSearchbyDouglasB.LenatABSTRACTAprogram,called"AM",isdescribedwhichmodelsoneaspectofelementarymathematicsresearch:developingnewconceptsundertheguidanceofalargebodyofheuristicrules."Mathematics"isconsideredasatypeofintelligentbehavior,notasafinishedproduct.ThisdissertationwassubmittedtotheDepartmentofComputerScienceandtheCommitteeonGraduateStudiesofStanfordUniversityinpartialfulfillmentoftherequirementsforthedegreeofDoctorofPhilosophy.ThisresearchwassupportedbytheAdvancedResearchProjectsAgencyoftheDepartmentofDefenseunderContractMDA903-76-C-0206Theviewsandconclusionscontainedinthisdocumentarethoseoftheauthor(s)andshouldnotbeinterpretedasnecessarilyrepresentingtheofficialpolicies,eitherexpressedorimplied,ofStanfordUniversity,ARPA,ortheU.S.Government.ReproducedintheU.S.A.AvailablefromtheNationalTechnicalInformationService,Springfield,Virginia22161.AccessionForNTISGRA&IDTICTABUnannouncedVTCJustification-Pwpecret,Distribution/AvailabilityCodesJAvailand/orDitIDcaiAknowledgmetIoweagreatdebtofthankstomanypeople,bothfortheinputofnewideasandfortheevaluation,channelling,andpruningofmyown.Letmebeginbyalphabeticallythankingmycommittee:BruceBuchanan,EdFeigenbaum,CordellGreen,DonKnuth,andAllenNewell.Interactingwitheachofthemhasbeenanexcitingexperience,andmythesishasgreatlybenefitedfromtheirguidance.Thefollowingincividualshaveeachinformallysuppliedsomeideasorcommentsthatappearwithinthisthesis.Theyallhaeearnedmygratitude,andhavesignificantlyimprovedtheexperenceyouareabouttohave,thatcfreadingthisthesis:DannyBobrow,DonCohen,PaulCoehn,AvraCohn,RandyDavis,BobFloyd,CarlHewitt,EarlSacerdoti,RichardWeyrauch,andTerryWinograd.LetmealsothankSAIL,SRI,andSUMEXforprovidingasophisticatedcomputingenvironmentinwhichtowork.AroundthispointintheAcknowledgements,mosttheseshavesomesortoftributetothecandidate'swife.UntilIwasinthfethroesofthisresearch,Ineverfullyappreciatedtheimportanceofsuchsupport.SoletmesincerelyacknowledgetheindispensableaidIreceivedfromMerle,mywonderfulwife,whoputupwithinvertedschedulesandwhogavemetheconfidencetotacklethisproblemandtheenthusiasmtokeepgoing.-iv,.++"P.+..++"".,',"-+"+,s+""""-"-+,.,.+.+'TableofCntents1.Overview1.1.AbstractofthisThesisI1.2.Five-pageSummaryoftheProject2Detour:AnalysisofadiscoveryWhatAMdoes:SynthesesofdiscoveriesResultsMotilation[optionsllconclusions1.3.WaysofviewingAMassomecommonprocess6AMasHill-climbingAMasHeuristicSearchAMtoeaMathematicianAMtoaThesis[optional)2.AnExample:DiscoveringPrimeNumbersC2.1.DiscussionoftheAMProgram1RepresentationAgendaandHeuristics21.2.WhattogetoutofandNOTgetoutofthisexample172.3.DecipheringtheExample182.4.TheExampleItself202.5.RecappingtheExample27S.ControlStructure3.1.AM'sSearch28S.2.ConstrainingAM'sSearch303.3.TheAgenda3S2WhyanAgenda?DetailsoftheAgendascheme4.HeuristicRules4.1.SyntaxoftheHeuristics35SyntaxoftheLeft-handSideSyntaxoftheRight-handSide4.2.HeuristicsSuggestNewTasks38AnIllustration."FillinGeneralizationsofEquality'TheRatingsGame4.3.HeuristicsCreateNewConcepts42AnIllustration:DiscoveringPrimesTheTheoryofCreatingNowConceptsAnotherIllustration:Squaringanumberr-~.....4.4.HeuristicsFillinEntri.tsforaSpecificFacet47AnIllustration:"FillinExamplesofSet-union"HeuristicsProposeNowConjecturesGahrneean0ersis..5AnIllustration;"Allprimesexcept2areodd"*Anotherillustration:DiscoveringUniqueFrctorustonDomainofApplicabilityRipplingOrderingtheRelevantHeuristics4..AM'sStartingHeuristics58HeuristicsGroupedbytheKnowledgteTheyEmbodyHeuristicsGroupedbyHowSpecificTheyAreS.AM'sConcepts5.1.MotivationandOverview.~61AGlimpseofaTypicalConceptThemainconstraint.-FixedsetoffacetsBEING*RepresentationofKnowledge5.2.Facets66Generalizations/SpecializationeExamples/lea'sIn-Domain-of/In-Range-o*ViewsIntuitionsAnalogisConjec'sDefinitionsAlgorithmsDomain/RangeWorthInterestSuggestFillin/CheckOtherFacetswhichwereConsidered5.3.AM'sStartingConcepts105DiagramofInitialConceptsSummaryoflnitlalConceptsRationalebehindChoiceofConcepts6.Results6.1.WhatAMDid114LinearTask-by-taskSummaryofaGoodRunTwo-DimnensionalBehaviorGraph*AMsaComputerProgram-vi-%6.2.ExperimentswithAM125iMusttheWorthnumbersbefinelytuned?NowfinelytunedistheAgenda?Howvaluableistackingreasonsontoseecntask?Whatifcertainconcotsareeliminated/adedWhatifcertainheuristicsaretemperedwith?CanAMworkinea~woramPlaneGeometry?7.EvaluatingAM7.1.judgingPerform~ance135AM'sUltimateDiscoverierTheMagnitudeofAM'sProgressTheQualityofAM'sRouteTheCharacter.7f#*Ussr-SystemInteractionsAM'sIntuitivePi-wersExperimentsonAMHowtoPerformExperimentsonAMFuturnImplicationsofihisProjectOpenProblem*:SuggestionsforFutureResearchComparisontoOtherSystems7.2.CapabilitiesandLimitationsofAM153CurrentAbilitiesCurrentLimitationsLimitationsoftheAgendaschemeLimitingAssumptionsUChoiceofDomainLimitationsoftheModelofMathResearchUltimatepowersandweaknesses7.3.FinalConclusions163Appendix1.GlossaryofTechnicalTerms165U11lMtemGlossaryofahTermsAppendix2.AM'sConceptsI172i.InitialConceptsIndexofInitialConceptsAnything,Any-concopt,Active,Predic.,t,Object-equality,Constant-prd.icate,Constant-True,Constant-False,Operation,Compose,Insert,Set-insert,Nos-insert,List-insert,Bag-insert,Delete,Set-Delete,Bag-Dilete,List-Dlft,,.et-Delete,Intersect,List-Intersect,Oset-Irtersect,Set-Intersect,Sag-I-"srssot,Union,List-Union,Oset-Union,Set-Union,Bag-Union,Difference,List-OnI,Osqt-Diff,Set-Diff,Bag-Diff,Coalesce,Canonize,Parallel-roplace2,Parallel-eplca,Rspost2,Repast,Parallel-join2,Parallel-join,Reverse-ord-pair,Last-uj'ament,Fis-lm-,Albtt4-is-lmnMK:PFP-ojectioni,Projection2,Identity,Restrict,Invert-an-operation,Inverted-op,R,'ttion,Logical-combination,Object,Conjecture,Atom-obj,Truth-vake,Structure,Structure-of-Structures,Ord-Structure,Unord-Structure,Mulliple-elements-I-~~struciure,No-multiple-elemerts-structure,Empty-structure,ompty-stcu,Sets,Bags,List*,Ordered-poi's,Oets,Conceptsneverfullyimplemented'V-vii-WIJL.-1','ConceptsandHeuristicsascodedinLISPThe'Compose'ConceptThe'Cets'ConceptConceptsci'eatedbyA14Appendix3.AM'sHeuristics226HeuristicsfordealingwithAnythingHeuristicsfordealingwithAny-conceptHeuristicsforanyfs.etofAny-conceptHeuristicsfortheExamplesfacetsofAny-concept:sticsfortheConjecsfacetofAny-conceptHeuristicsfortheAnalogiesfacetofAny-conceptHeuristicsfortheGenl/SpecfacetsofAny-conceptHeutisticsfortheViewfacetofAny-conceptHeuristicsfortheIn-dom/ran-offacetsofAny-conceptHeuristicsfortheDefinitionfacetofAny-conceptHeuristicsfordealingwithanyActiveconceptHeuristicsfordealingwithanyPredicateHeuristicsfordealingwithanyOperationHeuristicsfordealingwithanyCompositionHeuristicsfordealingwithanyInsertionsHeuristicsfordealingwiththeoperationCoalesceHeuristicsfordealingwiththeoperationCanonizeHeuristicsfordealingwiththeoperationSubstituteHeuristicsfordealingwiththeoperationRestrictHeuristicsfordealingwiththeoperationInvertHeuristicsfordealingwithLogicalcombinationsHeuristicsfordealingwithStructuresHeuristicsfordealingwithOrdered-structuresHeuristicsfordealingwithUnordered-structuresHeuristicsfordealingwithMultiple-eles-structuresHeuristicsfordealingwithSetsAppendix4.Maximally-Divisible-Numbers277AMeaningfulQuestionSpecialCase:n2a3bSpecialCase:n2a3b5cTheGeneralCaseAnevenstrongerclaimAMandRamanujanAppf.ndix5.TracesofAMinAction287ProseTracesA'Nice'Task-by.askTraceAn'Unadulterated'TraceAppendix6.Bibliography337Documentation-viii--.~~''1TrillT"'.-II....71Chapter1.OverviewIndeed,youcanbuildamachinetodrawdemonitretiwtconclusionsforyou,butIthinkyoucanneverbuildamachinethatwilldrawplausibleinfertnces.--Polys1.1.AbstractofthisThesisAprogram,called"AM",isdescribedwhichmodelsoneaspectofelementarymathematicsresearch:developingnewconceptsundertheguidanceofalargebodyofheuristicrules."Mathematics"isconsideredaatypeofintalligentbehavior,notasafinishedproduct.Thelocalheuristicscommunicateviaanagendamechanism,agloballistoftasksforthesystemtoperformandreasonswhyeachtaskIsplausible.AsingletaskmightdirectAMtodefineanewconcept,ortoexploresomefacetofanexistingconcept,ortoexaminesomeempiricaldataforregularities,etc.Repeatedly,theprogramselectsfromtheagendathetaskhavingthebestsupportingreasons,andthenexecutesit.Eachconceptisanactive,structuredknowledgemodule.AhundredveryIncompletemodulesareinitiallyprovided,eachonecorrespondingtoanelementaryset-theoreticconcept(e.g.,union).Thisprovidesadefinitebutimmense"space"whitchAMbeginstoexplore.AMextendsitsknowledgebase,ultimatelyrediscoveringhundredsofcommonconcepts(e.g.,numbers)andtheorems(e.g.,uniquefactorization).This4pproachtoplausibleinferencecontainsgreatpowersandgreatlimitations.'KChapterIAM:DiscoveryinMathematicsasHeuristicSearch-2-1.2.Five-pageSummaryoftheProjectScientistsoft!nfacethedifficulttaskofformulatingnontrivialresearchproblemswhicharesolvable.Inanygivenbranchofscience,Itisusuallyeasiertotackleaspecificgivenproblemthantoproposeinterestingyetmanagablenewquestionstoinvestigate.Forexample,contrastsolvingtheMissionariesandCannibalsproblemwiththemoreill-definedreasoningwhichledtoinventingit.Thisthesisisconcernedwithcreativetheoryformationinmautiematics:howtoproposeinterestingnewconceptsandplausiblehypothesesconnectingthem.TheexperimentalvehicleofmyresearchisacumputerprogramcalledAM'Initially,AMisgiventhe*definitionsof115simpleset-theoreticconcepts(like"Delete","Equality").Eachconceptisrepresentedinternallyasadatastructurewithacoupledozenslotsorfacets(like"Definition","Examples","Worth").Initially,mostfacetsofmostconceptsareblank,andAMusesacollectionof250heuristicsplausiblerulesofthumbforguidance,asittriestoPlinthoseblanks.Someheuristicsareusedtoselectwhichspecificfacetofwhichspecificconcepttoexplorenext,whileothersareusedtoactuallyfindsomeappropriateinformationaboutthechosenfacet.OtherrulepromptAMtonoticesimplerelationshipsbetweenknownconcepts,todefinepromisingnewconceptstoinvestigate,andtoestimatehowinterestingeachconceptis.1.2.1.Detour:AnalysisofadiscoveryBeforediscussinghowtosynthesizeanewtheory,considerbrieflyhowtoanalyzeone,howtoconstructaplausiblechainofreasoningwhichterminatesinagivendiscovery.Onecandothisbyworkingbackwards,byreducingthecreativeacttosimplerandsimplercreativeacts.Forexample,considertheconceptofprimenumbers.Howmightoneb!'ledtodefinesuchanotion?Noticethefollowingplausiblestrategy:"iffisafunctionwhichtransformselementsofAIntoelementsofB,and-:,Bisordered,thenconsidrJustthosemembersofAwhicharetransformedintoextremalelementsofB.ThissetisaninterestingsubsetofA."Whenfx)means"divisorsofx",andtheorderingis"bylength*,thisheuristicsaystoconsiderthosenumberswhichhaveaminimal2numberoffactorsthatis,theprimes.Sothisruleactuallyreducesourtaskfrom"proposingtheconceptofprimenumbers"tothemoreelementaryproblemsof"discoveringordering-by-length"and"inventingdivisors-o.Butsupposeweknowthisgeneralrule:."Iffisaninterestingfunction,consideritsinverse."ItTheoriginalmeanirgoflIhimmnemonichasbeenabandoned.AsExoduselatewiAMthatIAM2Theotherextreme,numberswithaMAXIMALnumberoffactors,wssalsoproposedbyAMasworthinvestigating.ThisledAMtomonyinterttingquestiont.SeeAppendix4.0"ChapterIAM:DiscoveryinMathematicsasHeuristicSearch-3-reducesthetaskofdiscoveringdivisors-oftothesimplertaskofdiscoveringmultiplication3.Eventually,thistaskreducestothediscoveryofverybasicnotions,likesi',bstitution,set-union,andequality.Toexplainhowagivenresearchermighthavemadeagivendiscovery,suchananalysisiscontinueduntilthatinductivetaskisreducedto"discovering"notionswhichtheresearcheralreadyknew,whichwerehisconceptualprimitives.1.2.2.WhatAMdoes:SynthesesofdiscoveriesThisleadstotheparadoxthatthemoreoriginaladiscoverythemoreobviousitseemsafterwards.ThecreativeactisnotanactofcreationinthesenseoftheOldTestament.Itdoesnotcreatesomethingoutofnothing;ituncovers,selects,re-shuffles,combines,synthesizesalreadyexistingfacts,faculties,skills.Themorefamiliartheparts,themorestrikingthenewwhole.--KoestlerSupposealargecollectionoftheseheuristicstrategieshasbeenassembled(e.g.,byanalyzingagreatmanydiscoveries,andwritingdownnewheuristicruleswhenevernecessary).Insteadofusingthemtoexplainhowagivenideamighthaveevolved,onecanimaginestartingfromabasiccoreofknowledgeand"running"theheuristicstogeneratenewconcepts.We'retalkingaboutreversingtheprocessdescribedInthelastsection:nothowtoexplaindiscoveries,buthowtomakethem.SuchsynthesesarepreciselywhatAMdoes.Theprogramconsistsofalargecorpusofprimitivemathematicalconcepts,eachwithafewassociatedheuristics4.AM'sactivitiesallservetoexpandAMitself,toenlargeuponagivenbodyofmathematicalknowledge.Tocopewiththeenormityofthepotential"searchspace"Involved,AMusesitsheuristicsasJudgmentalcriteriatoguidedevelopmentinthemostpromisingdirection.Itappearsthattheprocessofinventingworthwhilenewconceptscanbeguidedsuccessfullyusingacollectionofafewhundredsuchheuristics.Eachconceptisrepresentedasaframe-likedatastructurewith25differentfatetsorslots.Thetypesoffacetsinclude:Examples,Definitions,Generalizations,D(izin/Range,Analogies,Interestingness,andmanyothers.Modularrepresentationofconceptsprovidesconvenientschemefororganizingtheheuristics;forexample,thefollowingstrategyfitsintotheExamplesfacetofthePredicateconcept:"If,empirically,10timesasmanyelementsfailsomepredicateP,assatisfyit,thensomegeneralization(weakenedversion)ofPmightbemoreinterestingthanP".AMconsidersthissuggestionaftertryi:ngtofillinexamplesofeachPlusnoticingthatmultiplicationisassociativeandcommutative4Stuation/actionnAM,whichfunctionaslocatplibl,movegenhrator*".Somesuggesttasksforthesystemtocarryout,somsuggestwaysofsatisfyingagiventask,etcTypically,'new"meownowtoAM,nottoMankind;and'worthwhile"canonlybejudgedinhindsight.ChapterIAM:DiscoveryinMathematicuasHeuristicSearch-4-predicatee.AMisinitiallygivenacollectionof115coteconcepts,withonlyafewfacetsfilledinforeach.Itssoleactivityistochoosesomefacetofsomeconcept,andfillinthatparticularslot.Insodoing,newnotionswilloftenemerge.Uninterestingonesareforgotten,mildlyinterestingonesarekeptaspartsofonefacetofoneconcept,andveryinterestingonesaregrantedfullconcept-modulestatus.Eachofthesenewmoddleshasdozensofblankslots,hencethespaceofpossibleactions(blankfacetstofillin)growsrapidly.Thesameheuristicsareusedbothtosuggestnewdirectionsforinvestigation,andtolimitattention:bothtosproutandtoprune.1.2.3.ResultsTheparticularmathematicaldomainsinwhichAMoperatesdependuponthechoiceofinitialconcepts.Currently,AMbeginswithnothingbutascantyknowledgeofconceptswhichPiagetmightdescribeasprenumerical:Sets,substitution,operations,equality,andsoon.Inparticular,AMisnottoldanythingaboutproof,single-valuedfunctions,ornumbers.Fromthisprimitivebasis,AMquicklydiscovered7elementarynumericalconcepts(correspondingtothosewerefertoasnaturalnumbers,multiplication,factors,andprimes)andwanderedaroundinthedomainofelementarynumbertheory.AMwasnotdesignedtoproveanything,butitdidconjecturemanywell-knownrelationships(e.g.,theuniquefactorizationtheorem).AMwasnotabletodiscoverany"new-to-Mankind"mathematicspurelyonitsown,buthasdiscoveredseveralinterestingnotionshithertounknowntotheauthor.AcouplebitsofnewmathematicshavebeeninipiredbyAM.2AsynergeticAM-humancombinationcansometimesproducebetterresearchthaneithercouldalone.8AlthoughmostoftheconceptsAMproposedanddevelopedwerealreadyverywellknown,AMdefinedsomeoftheminnovelways(e.g.,primepairsweredefinedbyrestrictingadditiontoprimes;thatis,forwhichprimesp,q,risitpossiblethatp4q-r?9).EverythingthatAMdoescanbeviewedastestingtheunderlyingbodyofheuristicrules.Gradually,thisknowledgebecomesbetterorganized,itsimplicationsclearer.Theresultantbodyofdetailedheuristicsmaybethegermofamoreefficientprogrammeforeducatingi.Infact,afterAMattemptstofindexamplesofSET-EQUALITY,sofewarefoundthatAMdecidestogeneralizoethatpredicate.Theresultisthecreationofanowpredicatewhichmeans"Hs-theoame-length-ae"--i.e.,arudimentaryprecursortonaturalnumbers.Dicovsring*aconceptmeansthat(1)AMrecognizeditasadistinguishedentity(ag,byformulatingitsdefinition)andalso(2)AMdecideditwasworthinvestigating(eitherbecauseoftheinterestingwayitwasformed,orbecauseofsurprisingpreliminaryempiricalresults)JThisissupportedbyGolernter'sexperinceswithhisIgeometryprog~ram-lWh~ielecturingabouthowitmaightproveacertaintheoremaboutisoscelestriantles,hecomeupwithanow,cuteproof.Similarly,GuardendEastmannoticedanintermediateresultoftheirSAMresolutiontheoremprover,andwiselyinterpreteditasahontrivielresultinlatticetheory(nowknownasSAM'slemma).Theansweristhateitherporqmustbe2,andthettheothertwoprimesareaprimepair--ie.,theydifferbyIwo.I,if-X-1r.*7S".ChapterIAM:DiscoveryinMathematicsasHiuristicSearch-5-mathstudentsthanthecurrentdogma'0.AnotherbenefitofactuallyconstructingAMisthatofexperimentation:onecanvarytheconceptsAMstartswith,varytheheuristicsavailable,etc.,andstudytheeffectsonAM'sbehavior.Severalsuchexperimentswereperformed.Oneinvolvedaddingacoupledozennewconceptsfromanentirelynewdomain:p!?negeometry.AMbusieditselfexploringelementarygeometricconcepts,andwasalmostasproductivethereasinitsoriginaldomain.Newconceptsweredefined,andnewconjecturesformulated.OtherexperimentsindicatedthatAMwasmorerobustthananticipated;itwithstoodmanykindsof"de-tuning".Othersdemonstratedthetremendousimpactthatafewkeyconcepts(e.g.,Equality)hadonAM'sbehavior.Severalmoreexperimentsandextensionshavebeenplannedforthefuture.1.2.4.MotivationloptionallWeneedasuper-mathematicsinwhichtheoperationsareasunknownasthequantitiestheyoperateon,andasuper-mathematician,whodoesnotknowwhatheisdoingwhenheperformstheseoperations.--EddingtonAlthoughthemotivationforcarryingoutthisresearchofcourseprecededtheeffort,Ihavedelayeduntilthissectionadiscussionofwhythisisworthwhi!e,whyitwasattempted.Firsttherewastheinherentinterestofgettingahandleonscientificcreativity.AMispartlyademonstrationthatsomeaspectsofcreativetheoryformationcanbedemystified,canbemodelledassimplerule.governedbehavior.RelatedtothisisthepotentialforlearningfromAMmoreabouttheprocessesofconceptformation.Thiswastouchedonpreviously,andseveralexperimentsalreadyperformedonAMwillbedetailedlater.Third,AMitselfmaygrowintosomethingofpragmaticvalue.Perhapsitwillbecomeausefultoolformathematicians,foreducators,orasamodelforsimilarsystemsinmore"practical"fields.Perhapsinthefuturewescientistswillbeabletorelyonautomatedassistantstocarryoutthe"hack"phasesofresearch,thetiresomelegworknecessaryfor"secondary"creativity.Historically,thedomainofAMcamefromasearchforascientificfieldwhoseactivitieshadnospecificgoal,andinwhichnaturallanguageabilitieswereunnecessary.ThiswastotestouttheBEINGs[Lenat75bJideasforamodularrepresentationofknowledge.10Currently,aneducatortu1:8stheverybestworkanymathematicianhaseverdone,polishesituntilitsbrillianceitblinding,'henpresentsittothestudenttoinduceupon.Manyindividuals(eg,KnuthandPolys)havepointedoutthisblunder.Afew(og.,PapertatMIT,AdamsatStanford)areexperimentintwithmorerealisticstrategiesfor"teaching"creativity.Seethereferencesbytheseauthorsinthebibliography.ChapterIAM:DiscoveryinMathematicsasHeuristicSearch-6-Itwouldbeunfairnottomentiontheusualbadreasonsforthisresearch:the"Lookma.,nohands"syndrome,theAlresearcher'sclassicmaternalurges,ego,theusualthesisdrives,etc.1.2..ConclusionsAMisforcedtojudgeapriorithevalueofeachnewconcept,toloseinterestquicklyinconceptswhicharen'tgoingtodevelopintoanything.Often,suchjudgmentscanonlybebasedonhindsight.Forsimilarreasons,AMhasdifficultyformulatingnewheuristicswhicharerelevanttothenewconceptsitcreates.Heuristicsareoftenmerelycompiledhindsight.WhileAM's"approach"toempiricalresearchmaybeusedinotherscientificdomains,themainlimitation(relianceonhindsight)willprobablyrecur.ThispreventsAMfromprogressingindefinitelyfaronitsown.Thisultimatelimitationwasreached.AM'sperformacedegradedmoreandmoreasitprogressedfurtherawayfromitsinitialbaseofconcepts.Nevertheless,AMdemonstratedthatselectedaspectsofcreativediscoveryhielementarymathematicscouldbeadequatelyrepresentedasaheuristicsearchprocess.Actuallyconstructingacomputermodelofthisactivityhasprovidedanexperimentalvehicleforstudyingthedynamicsofplausibleempiricalinference.1.3.WaysofviewingAMassomecommonprocesThissectionwillprovideafewmetaphors:somehintsforsqueezingAMintoparadigmswithwhichthereadermightbefamiliar."'rexample,theexistenceofheuristicsinAMisfunctionallythesameasthepresenceofdomain-specificinformationinanyknowledge-basedsystem.Considerassumptions,axioms,definitions,andtheoremstobesyntacticrulesforthelanguagethatwecallMathematics.Thustheorem-proving,andthewholeoftextbookmathematics,isapurelysyntacticprocess.Thentheheuristicrulesusedbyamathematician(andbyAM)wouldcorrespondtothesemanticknowledgeassociatedwiththesemoreformalmethods.justasonecanupgradenatural-language-understandingbyincorporatingsemanticknowledge,soAMisonlyassuccessfulastheheuristicsitknows.Fourmorewaysof"viewing"AMassomethingelsewillbeprovided:(i)AMasahill-climber,(ii)AMasaheuristicsearchprogram,(iii)AMasamathematician,and(iv)AMasathesis.1.3.1.AMasHill-climbingLet'sdrawananalogybetweentheprocessofdevelopingnewmathematicsandthefamiliar-rocessofhill-climbing.WemayvisualizeAMasexploringaspaceusingameasuringorevaluation"functionwhichimpartstoitatopography.ChapterIAM:DiscoveryinMathematicsasHeuristicSearch-7-ConsiderAM'scoreofverysimpleknowledge.Bycompoundingitsknownconceptsandmethods,AMcanexplorebeyondthefrontierofthisfoundationalittlewhereveritwishes.Theincrediblevarietyofalternativestoinvestigateincludesallknownmathematics,muchtrivia,countlessdeadends,andsoon.Theonly"successful"pathsnearthecorearethenarrowridgesofknownmathematics(plusperhapsafewas-yet-undiscoveredisolatedpeaks).HowcanAMwalkthroughthisimmensespace,withanyhopeoffollowingthefew,slendertrailsofalready-establishedmathematics(orsomeequallysuccessfulnewfields)?AMmustdohill-climbing:Asnewconceptsareformed,decidehowpromisingtheyare,andalwaysexplorethecurrentlymost-prbrnisingnewconcept.Theevaluationfunctionisquitenontrivial,andthisthesismaybeviewedasanattempttostudyandexplainandduplicatetheJudgmentalcriteriapeopleemploy.Preliminaryattemptsiatcodifyingsuch"mysterious"emotiveforcesasintuition,aesthetics,utility,richness,lnterestingness,relevance...indicatedthatalargebutnotunmanageablecollectionofheuristicrulesshouldsuffice.Theimportantvisualizationtomakeisthatwithproperevaluationcriteria,AM'splanarmassofinterrelatedconceptsistransformedintoathree-dimensionalreliefmap:theknowrdlinesofdevelopmentbecomemountainranges,soaringabovethevastflatplainsoftriviaandinconsistencybelow.Occasionallyanisolatedhillisdiscoverednearthecore,t2certainlywholerangeslieundiscoveredforlongperiodsoftimet3andtheterrrainfarfromtheinitialcoreisnotyetexploredatall.1.3.2.AMasHeuristicSearchAsthetitleofthissectionandthisthesisproclaims,AMisakindof"heuristicsearch"program.ThatmustmeanthatAMisexploringaparticular"space,"usingsomeinformalevaluationcriteriatoguideit.Theflavorofsearchwhichisusedhereisthatofprogressivelyenlargingatree.Certain"evaluation-function"heuristicsareusedtodecidewhichnodeofthetreetoexpandnext,andotherguidingrulesarethenusedtoproducefromthatnodeafewinterestingsuccessornodes.Todomathematicalresearchwell,Iclaimthatitisnecessaryandsufficenttohavegoodmethodsforproposingnewconceptsfromexistingones,andfordecidinghowinterestingeach"node"(partially-studiedconcept)is.AMisinitiallysuppliedwithafewfactsaboutsomesimplemathconcepts.AMthenThe.tooktheformofinformalsimulations.Althoughfarfromcontrolledexperiments,theyindicatedthefeasabilityofattemptingtocreateAM,byyieldinganapproximetefigurefortheamountofinformalknowledgouchssystemwouldneed12E.g.,Conway'onumbers,asdescribedin[Knuth741Eg.,non-Euclideongeometriesweren'tthoughtofuntil184&%,r.----ChapterIAM:DiscoveryinMathematicsasHeuristicSearch-8-exploresmathematicsbyselectivelyenlargingthatbasis.OnecouldsaythatAMconsistsofanactivebodyofmathematicalconcepts,plusenough"wisdom"touseanddevelopthemeffectively.For"wisdom",read"heuristics".Looselyspeaking,then,AMIsaheuristicsearchprogram.Toseethismoreclearly,wemustexplainwhatthenodesofAM'ssearchspaceare,whatthesuccessoroperatorsorlinksare,andwhattheevaluationfunctionis.AM'sspacecanbeconsideredtoconsistofallnodeswhichareconsistent,partially-filled-inconcepts.Thenaprimitive"legalmove"forAMwouldbeto(i)enlargesomefacetofsomeconcept,or(i)createanew,partially-completeconcept.Considermomentarilythesizeof.ithisspace.Iftherewerenoconstraintonwhatthenewconceptscanbe,andnoinformalknowledgeforquicklyfindingentriesforadesiredfacet,ablind"legal-move"programwouldgonowhereslowly!Oneshouldn'tevencalltheactivitysuchaprogramwouldbedoing"mathresearch."Theheuristicrulesareusedaslittle"plausiblemovegenerators".Theysuggestwr1ichfacetofwhichconcepttoenlargenext,andtheysuggestspecificnewconceptstocreate.Theonly-activitieswhichAMwillconsiderdoingarethosewhichhavebeenmotivatedforsomespecificgood'4reason.AglobalagendaoftasksIsmaintained,listingalltheactivitiessuggestedbutnotyetworkedon.AMhasadefinitealgorithmforratingthenodesofitsspace.Manyheuristicsexistmerelytoestimatetheworthofanygivenconcept.Otherheuristicsusetheseworthratingstoorderthetasksontheglobalagendalist.YetAMhasnospecificgoalcriteria:itcannever"halt",neversucceedorfailinanyabsolutesense.AMgoesonforeverConsiderNilsson'sdescriptionsofdepth-firstsearchingandbreadth-firstsearching([Nilsson71]).Hehasusmaintainalistof"open"nodes.Repeatedly,heplucksthetoponeandexpandsit.Intheprocess,somenewnodesmaybeaddedtotheOpenlist.Inthecaseofdepth-firstsearching,theyareaddedatthetop;thenextnodetoexpandistheonemostrecentlycreated;theOpen-listisbeingusedasapush-downstack.Forbreadth-firstsearch,newnodesareaddedatthebottom;theyaren'texpandeduntilalltheoldernodeshavebeen;theOpen-listisusedasaqueue.Forheuristicsearch,or"best-first"search,newnodesareevaluatedinsomenumericway,andthen"merged"Intothealready-sortedlistofOpennodes.ThisprocessisverysimilartotheagendamechanismAMusestomanageitssearch.ThiswillbediscussedindetailinChapterS.Eachentryontheagendaconsistsofthreeparts:(i)aplausibletaskforAMtodo,(ii)alistofreasonssupportingthattask,and(iII)anumericestimateoftheoverallprioritythistaskshouldhave.Whenataskissuggestedfor-i-.-:somereason,itisaddedtotheagenda.Ataskmaybesuggestedseveraltimes,fordifferent--.reasons.TheglobalpriorityvalueassignedtoeachtaskIsbasedonthecombinedvalueofitsreasons.ThecontrolstructureofAMIssimplytoselectthetaskwiththehighest":priority,executeIt,andselectanewone.Theagendamechanismappearstobeaverywell-suiteddatastructureformanaginga"best-first"searchprocess.f14Ocourse,AMthinksareasonis"good"if--andonlyif--itwastoldthatbyaheuristicrule;sothoseruleshadKbetterbeplatsble,orefirablytheonesactuallyusedbytheexperts.Technically,foreverisabout100,000listcellsandacouplecpuhours."S%'x'.---,-js-J-,W,W..W.:..ChapterIAM:DiscoveryinMathematicsasHeuristicSearch-9-SimilarcontrolstructureswereusedinLT[Newell,Shaw,Simon57],thepredictorpartofDendral[Buchananetai69),SIMULA-67[Dahl681,andKRL(BobrowWinograd77].ThemaindifferenceisthatinAM,symbolicreasonsareused(albeitintrivialtoken-likeways)todecidewhetherandhowmuchtoboostthepriorityofataskwhenitIssuggestedagain.ThereareseveraldifficultiesandanomaliesinforcingAMIntotheheuristicsearchparadigm.Inatypicalheuristicsearch(e.g.,Dendral[Feigenbaumetal71),Meta-Dendral(Buchananetal72),mostgame-playingprograms[Samuel67)),a"searchspace"isdefinedimplicitlybya"legalmovegenerator".Heuristicsarepresenttoconstrainthatgeneratorsothatonlyplausiblenodesareproduced.Thesecondkindofheuristicsearch,ofwhichAMisanexample,containsno"legalmovegenerator".Instead,AM'sheuristicsareusedasplau.iblemovegenerators.ThoseheuristicsthemselvesImplicitlydefinethepossibletasksAMmightconsider,andallsuchtasksshouldbeplausibleone.Inthefirstkindofsearch,removingaheuristicwidensthesearchspace;InAM'skindofsearch,removingaheuristicreducesit.AnotheranomalyIsthattheoperatorswhichAMusestoenlargeandexplorethespaceo.7conceptsarethemselvesmathematicalconcepts(e.g.,someheuristicrulesresultinthecreationofnewheuristicrules;"Compose"isbothaconceptandanoperationwhichresultsinnewconcepts).ThusAMshouldbeviewedasamassofknowledgewhichenlargesitselfrepeatedly.Typically,computerprogramskeeptheinformationthey"discover"quiteseparatefromtheknowledgetheyusetomakediscoveriesPerhapsthegratstdifferencebetweenAMardtypicalheuristicsearchproceduresIsthatAMhasnowell-definedtargetconceptsortargetrelationships.Rather,its"goalcriterion"-itssoleaimistomaximizetheinterestingnessleveloftheactivitiesitperforms,thepriorityratingsofthetoptasksontheagenda.Itdoesn'tmatterpreciselywhichdefinitionsorconjecturesAMdiscoversormissessolongasItspendsitstimeonplausibletasks.ThereisnofixedsetoftheoremsthatAMshoulddiscover,soAMisnotatypicalproblem-solver.ThereisnofixedsetoftrapsAMshouldavoid,nosmallsetoflegalmoves,andnowinning/losingbehavior,soAMisnotatypicalgame-player.Forexample,nostigmaisattachedtothefactthatAMneverdiscoveredrealnumbers7ItwasrathersurprisingthatAMmanagedtodiscovernaturalnumbers!EvenifIthadn'tdonethat,itwouldhavebeenacceptablesifAMhadsimplygoneoffanddevelopedideasinsettheory.Ofcoursethisisoftenbecausethetwokindsofknowledgeareverydifferent.Forachess-player,thefirstkindis"goodboardpositions,"andthesecondis"strategiesformakingagoodmove,"Theorem-proversareanexceptiornTheyproduceanewtheorem,andthenuseit(almostlikeanewoperator)infutureproofs.Aprogramtolearntoplaycheckers[Samuel67)hasthissameflavor,therebyindicatingthatthis'self-help'propertyisnotafunctionofthetaskdomain,netsimplyacharacteristicofmathematics.Therearemany"nice"thingswhichAMdidn't--andcan't--do.eg.,devisingtsometricconceptsfromitsinitialsimpleset-theoreticknowledge.SeethediscussionofthelimitationsofAM,Section7.2.Acceptaletowhom?Istherereallyadomain-invariantcriterionforJudgingthequalityofAM'sactioneSeothediscussionsinSection7.1f17?ChapterIAM:DiscoveryinMathemalicsasHeuristicSearch-10-1.3.3.AMasaMathematicianLBeforedivingintotheinnardsofAM,let'stakeamomenttodiscussthetotalityofthemathematicswhichAMcarriedout.LikeacontemporaryhistoriansummarizingtheworkoftheBabylonianmathematicians,weshan'thesitatetousecurrenttermsandcriticizebycurrentstandards.AMbeganitsinvestigationswithscantyknowledgeofafewset-theoreticconcepts(sets,equalityofsets,setoperations).Mostoftheobviousset-theoryrelations(e.g.,deMorgan'slaws)wereeventuallyuncovered;sinceAMneverfullyunderstoodabstractalgebra,thestatementandverificationofeachofthesewasquiteobscure.AMneverderivedaformalnotionofinfinity,butitnaivelyestablishedconjectureslike"asetcanneverbeamemberofitself",andproceduresformakingchainsofnewsets("insertasetIntoitself").Nosophisticatedsettheory(e.g.,diagonalization)waseverdone.Afterthisinitialperiodofexploration,AMdecidedthat"equality"wasworthgeneralizing,andtherebydiscoveredtherelation"same-size-as"."Naturalnumbers"werebasedonthis,andsoonmostsimplearithmeticoperationsweredefined.Sinceadditionaroseasananalogtounion,andmultiplicationasarepeatedsubstitutionfollowedbyageneralizedkindofunioninglgitcameasquiteasurprisewhenAMnoticedthattheywererelated(namely,N+N-2xN).AMlaterre-discoveredmultiplicationinthreeotherways:asrepeatedaddition,asthenumericanalogoftheCartesianproductofsets,andbystudyingthecardinalityofpowersets20Theseoperationsweredefinedindifferentways,soitwasanunexpected(toAM)disrnverywhentheyallturnedouttobeequivalent.ThesesurprisescausedAMtogivetheconcept'Times'quiteahighWorthrating.Exponentlationwasdefinedasrepeatedmultiplication.Unfortunately,AMneverfoundanyobviouspropertiesofexponentiation,hencelostallinterestinit.Soonafterdefiningmultiplication,AMinvestigatedtheprocessofmultiplyinganumberbyitself:squarIng.Theinverseofthisturnedouttobeinteresting,ardledtothedefinitionofsquare-root.AMremainedcontenttoplayaroundwiththeconceptofinteger-square-root.Althoughitisolatedthesetofnumberswhichhadnosquareroot,AMwasneverclosetodiscoveringrationals,letaloneirrationals.Raisingtofourth-powers,andfourth-rooting,werediscoveredatthistime.Perfectsquaresandperfectfourth-powerswereisolated.Manyothernumericoperationsandkindsofnumberswereisolated:Odds,Evens,Doubling,Halving,etc.PrimitivenotionsofnumericinequalityweredefinedbutAMneverevendiscoveredTrichotomy.TheassociativityandcommutativityofmultiplicationindicatedthatitcouldacceptaBAG-199TaketwobagsAandB.ReplaceeachelementofAbythebigB.RemoveonelevelofparenthesesbytakingtheunionofallelementsofthetransfiguredbagA.Thenthatnowbagwillhaveasmanyelementsastheproductofthelengthsofthetwooriginalbags.ThesizeofthesatofallsubsetsofSis2S.ThusthepowersetofAUBhaslengthequaltotheProductofthelengthsofthepowersetsofAandBindividually(assumingAandBarediesoust).-4i"Fl..ChapterIAM:DiscoveryinMathematic,asHeuristicSearch-11.ofnumbersasitsargument.WhenAMdefinedtheinverseoprationcorrespondingtoTimes,thispropertyallowEdthedefinitiontobe:"anybagofnumbers(>1)whoseproductisx".Thiswasjustthenotionoffactoringanumberx.Minimally-factorablenumbersturnedouttobewhatwecallprimes.Maximallyfactorablenumberswerealsothoughttobeinteresting.Primepairswerediscoveredinabizarreway:byrestrictingaddition(itsargumentsanditsvalues)toPrimes.2tAMconjecturedthefundamentaltheoremofarithmetic(uniquefactorizationintoprimes)andoldbach'sconjecture(everyevennumber>2isthesumoftwoprimes)inasurprisinglysymmetricway.Theunaryrepresentationofnumbersgavewaytoarepresentationasabagofprimes(basedonuniquefac.1rization),butAMneverthoughtofexponentialnotation.22Sincethekeyconceptsofremainder,greater-than,gcd,andexponentiationwerenevermastered,progressinntmbertheorywasarrested.Whenanewbaseofgeometricconceptswasadded,AMbeganfindingsomemoregeneralassociations.Inplaceofthestrictdefinitionsfortheequalityoflines,angles,andtriangles,camenewdefinitionsofconceptswerefertoasParallel,Equal-measure,Similar,Congruent,Translation,Rotation,plusmanywhichhavenocommonname(e.g.therelationshipoftwotrianglessharingacommonangle).AcutegeometricInterpretationofGoldbach'sconjecturewasfound23Lackingageometry"model"(ananalogicrepresentationliketheoneGelernteremloyed),AMwasdoomedtofailurewithrespecttoproposinganlyplausiblegeometricconjectures.Similarrestrictionsduetopoor"visualization"abilitieswouldcropupintopology.Theconceptsofcontinuity,Infinity,andmeasurewouldhavetobefedtoAMbeforeitcouldenterthedomainsofanalysis.Moreandmoredrasticchangesinitsinitialbasewouldberequired,asthedesireddomaingetsfurtherandfurtherfromsimplefinitesettheoryandelementarynumbertheory.21Thatis,considerthesetoftriplesp,q,r,allprimes,forwhichp~q.r.Thenoneofthemmustbe'2",andtheothertwomustthereforeformaprimepair.22Atangentialnote-Allofthediscoveriesmentioned#boveweremadebyAMworkingbyitself,withahumanbeingobservingitsbehavior,IfthelevelofsophisticationofAM'sconceptswerehigher(orthelevelofsophietictionofitsuserswerelower),thenitmightbeworthwhnetodevelopaniceuser--systeminterface.Theuserinthatceecould--ndoughtto--workrihthlonlwithAMdaco-researcher.Givenallanglesofaprimenumberofdegrees,(0,1,2,3,5,7,1l,..,179degrees),thenanyanglebetween0and180degreescanbeapproximated(towithinaegre)sothesumoftwoofthoseangles.L:.ChapterIAM:DiscoeryinMathematicsasHeuristicSearch-12-1.3.4.AMasaThesisroptionallWalkinghomealongadesertedstreetlateatnight,thereadermayimaginehimselftofeelinthesmallofhisbackacold,hardobject;andtohearthewordsspokenbehindhim,'Easynow.Thisisastick-up.Handoveryourmoney.Whatdoesthereaderdo?Heattemptstogeneratetheutterance.Hesaystohimself,nowifIwerestandingbehindsomeoneholdingacold,hardobjectagainsthisback,whatwouldmakemesaythat?K'hatwouldImeanbyit?Thereaderisadvisedtmathecanonlyarriveatthedeepstructureofthisbook,andthroughthedeepstructurethesemanttcs,ifheattemptstogeneratethebookforhimself.Theauthorwiheshimluck.U-LnderhoimDon'tbescaredbytheweightofthedocumentyou'renowhotding.Ifyoufliptopage165,you'llseethatthelasttwo-thirdsarejustappendices.Eachchapterisofroughlyequalimportance,whichexplainsthehugevariationinlength.StartlookingoverChapter2rightaway:itcontainsadetailedexampleofwhatAMdoes.Sinceyou'rereadingthissentencenow,we'llassumethatyouwantapreviewofwhat'stocomeintherestofthisdocument.Chapter3coversthetop-levelcontrolstructureofthesystem,whichisbasedaroundthenotionofan'agenda'oftaskstoperform.InChapter4thelow-levelcontrolstructureIsrevealed:AMIsreallyguidedbyamassofheuristicrulesofvaryinggenerality.Chapter5containsmorethanyouwanttoknowabouttherepresentationofknowledgeinAM.ThediagramshowingsomeofAM'sstartingconcepts(page105)isworthalook,evenoutofcontext.MostoftheresultsoftheprojectarepresentedinChapter6.Inadditiontosimply'running'AM,severalexperimentshavebeenconductedwithit.Tt'sawkwardtoevaluateAM,andthereforeChapter7isquitelonganddetailed.Theappendicesprovidematerialwhichsupplementsthetext.Appendix2containsadescriptionofalltheinitialconcepts,someexamplesofhowtheywerecodedintoLisp,andapartiallistoftheconceptsAMdefinedandinvestigatedalongtheway.Appendix3exhibitsall242heuristicsthatAMisexplicitlyprovidediAth.Appendix4isessentiallyamatharticle,aboutthemajordiscoverythatAMmotivated:maximally-dIvisIblenumbers.Finally,Appendix5containstracesofAMinaction:alongprosedescription,alongtask-by-taskdescription,andalongundoctoredtranscriptexcerpt.AppendixIhasn'tbeen*mentionedyet,andformsthesubjectoftheremainderofthissection.Thisthesisanditsreadersmustcometogripswithaveryinterdisciplinaryproblem.ForthereaderwhosebackgroundisinArtificialIntelligence,mostofthesystem'sactions-the"mathematics"itdoesmayseemInherentlyuninteresting.Forthemathematician,theword"LISP"signifiesnothingbeyondaspeechImpediment(toArtificialIntelligencetypesitChapterIAM:DiscoveryinMathematicsasHeuristicSearch-13-alsoconnotesaprogrammingimpediment).IfIdan'tdescribe"LISP"thefirsttimeImentionit,alargefractionofpotentialreaderswillneverrealizethatpotential.IfIdostoptodescribeLISP,theotherreaderswillbebored.InanattemptnottolosereadersduetoJargon,twoglossariesoftermshavebeencompiled.Appendix1.1(p.165)containscapsuledescriptionsofthemathematicalterms,Ideas,andnotationsusedinthisthesis.Appendix1.2renderstheanalogousservicefor.-rttficialIntelligenceJargonandcomputerscienceconcepts.t.K2**I-...7V-77777,4-7W-_VV_7Srr13r7Vk.,--'r-n--wmre.-tL~-14-SChapter2.AnExample:DiscoveringPrimeNumbersThischapterwillpresentanexampleofAMinaction.anexcerptfromtheoutputofAM,asitinvestigatessomeconcepts.AfterabriefdiscussionofAM'scontrolstructureinSection2.1,thereaderwillbetoldwhatthepointofthisexampleIsandIsnot.Section2.providesafeweleventh-hourhintsatdecodingtheexample.TheexcerptitselffollowsinSection,2.4.Itskipsthefirsthalfofthesession,andpicksupatapointjustafterAMhasdefinedtheconcept"Divisors-of".Soonafterward,AMdefinesPrimes,andbeginstofindinterestingconjecturesrelatedtothem.TheexcerptgoesontoshowhowAMconjecturedthefundamentaltheoremofarithmeticandGoldbach'sconjecture.AMderivedthenotionofpartitioningacollectionofnobjectsintosmallerbandles,butfailedtofindanyinterestingconjecturesaboutthatprocess.Instead,AMwasside-trackedIntothe(probably)fruitlessInvestigationofnumberswhichcanberepresentedasthesumoftwoprimesinoneuniqueway.Thefinlsectionofthischapterwillrecapthisexamplethewayamathhistorianmight,xreportit.2.1.DiscussionoftheAMProgram2.1.1.RepresentationAMisaprogramwhichexpandsaknowledgebaseofmathematicalconcepts.Eachconceptisstoredasaparticularkindofdatastructure,namelyasacollectionofpropertiesor"facets"oftheconcept.Forexample,hereisaminiatureexampleofaconcept':22rThevqhtarrow(1")Intheboxonthenextpageisthesymbolfor"implies*.'Nos.'is3nabbreviationfor"Numbers.Theverticalbar'1i6asymbolforthepred;ate'dividesevenlyinto';thehook*"isasymbolforthepredicate,thenegationof".Windicatesexclusiveor,andthesymbol"V"isread"forall".Pleaseconsulttheglossary,Appendix1.1,forfullerdiscussionofthese,plusothermathtermslike"Primepairs'.Chapte,2AM:DcovoryinMathmuticsasHeuristicSearch-S-NAME:PrimeNumbersDiEFINITIONS:ORIGIN:Number-of-divisors-of(x)x2PREDICATE-CALCULUS:Prime(x)z(Yz)(zlx-ozal0zsx)ITERATIVE:(forxl):ForIfrom2toSqrt(x),(ilx)EXAMPLES:2,3,5,7,11,13,17BOUNDARY:2,3BOUNDARY-FAILURES:0,1FAILURES:12GENERALIZATIONS:Nos.,No.withanevennc,.ofdivisors,Nos.withaprimeno.ofdivisorsSPECIALIZATIONS:OddPrimes,PrimePairs,PrimeUniquely-addablesCONJECS:Uniquefactorization,Goldbach'sconjecture,ExtremesofNumber-of-divisors-ofINTU'S:AmetaphortotheeffectthatPrimesarethebuildingblocksofallnumbersANA!OGIES:Maximally-divisiblenumbersareconverseextremesofNumber-of-divisors-ofFactoranon-simplegroupintosimplegroupsINTERESTsConjecturistyingPrimestoTIMES,toDivisors-of,tocloselyrelatedoperationsWORTH:800II"Creatinganewconcept"isawell.defnedactivity:itinvolvessettingupanewdatastructureliketheoneabove,andfEll:nginentriesforsomeofitsfacetsorslots.Fillinginaparticularfacetofaparticularconceptisalsoquitewell-defined,andisaccomplishedbyexecutingacollectionofrelevantheuristicrules.Thisprocesswillbedescribedingreatdetailinlaterchapters.2.1.2.AgendaandHeuristicsAnagendaofplausibletasksismaintainedbyAM.Atypicaltaskis"Fill-inexamplesofPrimes".Theagendamaycontainhundredsofentriessuchasthisone.AMrepeatedlyselectsthetoptaskfromtheagendaandtriestocarryitout.Thisisthewholecontrolstructure!Ofcourse,wemuststillexplainhowAMcreatesplausiblenewtaskstoplaceonthezgenda,howAMdecideswhichtaskwillbethebestonetoexecutenext,andhowitcarriesoutatask.cziChapter2AM:DiscoveryinMathematicsasHeuristicSearch-16-Ifthetaskis"FillinnewAlgorithmsforSet-union",thensatisfyingItwouldmeanactuallysynthesizingsomenewprocedures,somenewLISPcodecapableofformingtheunionofanytwosets.AheuristicruleisrelevanttoataskiffexecutingthatrulebringsAMclosertosatisfyingthattask.Relevanceisdeterminedaprioribywheretheruleisstored.AruletackedontotheDomain/rangefacetoftheComposeconceptwouldbepresumedrelevanttothetak"ChecktheDomain/rangeofInsertoDelete".Onceataskischosenfromtheagenda,AMgatherssomeheuristicruleswhichmightberelevanttosatisfyingthattask.Theyareexecuted,andthenAMpicksanewtask.Whilearuleisexecuting,threekindsofactionsoreffectscanoccur:(i)Facetsofsomeconceptscangetfilledin(e.g.,examplesofprimesmayactuallybefoundar.dta:kedontothe"Examples"facetofthe"Primes"concept).Atypicalheuristicrulewhichmighthavethiseffectis:TofillinexamplesofX,whereXisakindofY(forsomemoregeneralconceptY),ChecktheexamplesofY;someofthemmaybeexamplesofXaswell.ForthetaskoffillinginexamplesofPrimes,thisrulewouldhaveAMnoticethatPrimesisakindofNumber,andthereforelookoveralltheknownexamplesofNumber.Someofthosewouldbeprimes,andwouldbetransferredtotheExamplesfacetofPuimes.(i)Newconceptsmaybecreated(e.g.,theconcept"primeswhichareuniquelyrepresentableasthesumoftwootherprimes"maybesomehowbedeemedworthstudying).Atypicalheuristicrulewhichmightresultinthisnewconceptis:Ifscme(butnotmost)examplesofXorealsoexamplesofY(forsomeconceptY),Createanewconceptdefinedastheintersectionofthose2concepts(XandY).SupposeAMhasalreadyisolatedtheconceptofbeingrepresentableasthesumoftwoprimesInonlyoneway(AMactuallycallssuchnumbers"Uniquely-prime.addablenumbers").WIenAMnoticesthatsomeprimesareinthisset,theaboverulewillcreateabrandnewconcept,definedasthesetofnumberswhicharebothprimeanduniquelyprimeaddable.(i)Newtasksmaybeadde'totheagenda(e.g.,thecurrentactivitymaysuggestthatthefollowingtaskisworthconsidering:"Generalizetheconceptofprimenumbers").AtypicalheuristicrulewhichmighthavethiseffectIs:IfveryfewexamplesofXarefound,Thenaddthefollowingtasktotheagenda:"GeneralizetheconceptX".Ofcourse,AMcontainsaprecisemeaningforthephrase"veryfew".WhenAMlooksforprimesamongexamplesofalready-knownkindsofnumbers,itwillfinddczensofnon-examplesforeveryexampleofaprimeItuncovers."Veryfew"isthusniaturally(.K%I,Chapter2AM:DiscoveryinMathematicsasHeuristicSearch-17-implementedasa%tatisticalconfidencelevel2.Theconceptofanagecid-aiscertainlynotnew:schedulershavebeenaroundforalongtime.Butoneimport,..,eatureofAM'sagendaschemeisanewidea:attachingandusingalistofquasl-sy.mbolic3reasonstoeachtaskwhichexplainwhythetaskisworthconsidering,whyit'splausible.ItIstheresponsibilityoftheheuristicrulestoincludereasonsforanytaskstheypropose.4Forexample,let'sreconsidertheheuristicrulementionedin(iii)above.Itreallylooksmorelikethefollowing:IfveryfewexamplesofXarefound,Thenaddthefollowingtasktotheagenda:"GeneralizetheconceptX",forth.followingreason:"X'arequiterare;aslightlylessrestrictiveconceptmightbemoreinteresting".Ifthesametaskisproposedbyseveralrules,thenseveraldifferentreasonsforitmaybepresent.Inaddition,oneephemeralreasonalsoexists:"Focusofattention".Anytasks,'"whicharesimilartotheonelastexecutedget"Focusofattention"asabonusreason.AM0_usesallthesereasons,e.g.todecidehowtorankthetasksontheagenda.TheW:"intelligence"AMexhibitsisnotsomuch"whatitdoes",butrathertheorderinwhichitarrangesitsagenda5.AMusesthelistofreasonsinanotherway:Onceataskhasbeenselected,thequalityofthereasonsisusedtodecidehowmuchtimeandspacethetaskwillbepermittedtoabsorb,beforeAMquitsandmovesontoanewtask.ThiswholemechanismwillbedetailedinSection3.3.2,onPage33.2.2.Whattogetoutof--andNOTgetoutof--thisexampleV.Thepurposeoftheexamplewhichbeginsonpage20istoconveyabitofAM'sflavor.Afterreadingthroughit,thereadershouldbeconvincedthatAMisnotatheorem-prover,norisitrandomlymanipulatingentriesinaknowledgebase,norisitexhaustivelymanipulatingorsearching.AMiscarefullygrowinganetworkofdatastructuresrepresentingmathematicalconcepts,byrepeatedlyusingheuristicsboth(a)forguidanceinchoosingatasktoworkonnext,and(b)toprovidemethodstosatisfythechosentask.2Theratiooexamplesfoundtonon-examplesstumbledoverliesbetween.00'and.05.PhilosophersoutragedbythismaybesomewhatappeasedbyknowledgethatlargechangesintheprecisenumbersveryrarelyalterAM'sbehaviorEachreasonisanEnglishsentence.WiileAMcantellwhethertwogivenreasonscoincide,itcan'tactuallydoanyinternalprocessingonthem.Ifthislackofintelligencehadprovedtobealimitingproblem,thenmoreworkwouldhavebeenexpendedongivingAMsomesuchabilities.Analternat,vescheme,perhapsevenabitmorehuman-like,wouldbeto(perhapsonlyoccaiionally)allowaburetofpoorly-motivatedtaskstobeproposed,andthenusesomepruningcriteriatoweedouttheobviouslosers.Duringthistime,AMcouldtypeouttotheuser(whootherwisewouldbecloselymonitoringitsactivities)aForexmpecuteanthropomorphicphraselikeI'mnowsittingbackandpuffingonmypipe,lostincontemplation.".Forexample,alternatingarandomly-choontaskandthe'best"task(theoneAMchosetodo)onlyslowsthesystem.,downbyafactorof2,yetittotallydestroysitscredibilityasarationalresearcher(asudgedbythe_humanuserofAM).Thisisoneconclusionofexperiment2(seeSection6.2.2,pale129)..-Chapter2AM:DiscoveryinMathematicsasHeuristicSearch-18-"Thefollowingpointsareimportantbutcan'tbeconveyedbyanyloneexample:(I)AlthoughAMappearstohavereasonablenaturallanguageabilities,thisisatypicalAlillusion:mostofthephrasesAMtypesaremeretokens,andthesyntaxwhichtheusermustobeyisunnaturallyconstrained.Forthesakeofclarity,Ihave"touchedup"someofthewording,indentation,syntax,etc.ofwhatAMactuallyoutputs,butleftthespiritofeachphraseintact.AsthereaderbecomesmorefamiliarwithAM,futureexamplescanbe"unretouched".Ifhewishes,hemayglanceatAppendix5.3,whichshowssomeactuallistingsofAMinaction.(ii)Thereadershouldbeskepticalofthegeneralityoftheprogram;istheknowledgebase"Justright"(i.e.,finelytunedtoelicitthisonechainofbehaviors)?Theansweris-"No"6.ThewholepointofthisprojectistoshowthatarelativelysmallsetofgeneralheuristicsL.anguideanontrivialdiscoveryprocess.Eachactivity,eachtask,wasproposedbysomeheuristicrule(like"lookforextremecasesofX")whichwasusedtimeandtimeagain,inmanysituations.Itwasnotconsideredfairtoinsertheuristicguidancewhichcouldonly"guide"Inasinglesituation.Thiskindofgeneralitycan'tbeshownconvincinglyinoneexample.Nevertheless,evenwithinthissmallexcerpt,thesamelineofdevelopmentwhichleadstodecomposingnumbers(usingTIMES-')andtherebydiscoveringuniquefactorization,alsoleadstodecomposingnumbers(usingADD-')andtherebydiscoveringGoldbach'sconjecture.ThesameheuristicwhichcausedAMtoexpectthatuniquefactorizationwillbeuseful,alsocausedAMtosuspectthatGoldbach'sconjecturewillbeuseless.Letmereemphasizethatthe"point"ofthisexampleisnotthespecificmathematicalconcepts,northeparticularchainsofplausiblereasoningAMproduces,northefewflashyconjecturesAMspouts,butratheranillustrationofthekindsofthingsAMdoes.2.3.DecipheringtheExampleRecallthatingeneral,eachtaskontheagendawillhaveseveralreasonsattachedtoit.Intheexampleexcerpt,thereasonsforeachtaskareprintedjustafterthetaskischosen,andbeforeit'sexecuted.AMnumbersitsactivitiessequentially.Eachtimeanewtaskischosen,acounterisIncremented.Thefirsttaskintheexampleexcerptislabelled**TASK65**,meaningthattheexampleskipsthefirst64taskswhichAMselectsandcarriesout.Thereasonsimplyisthatthedevelopmentofsimpleconceptsrelatedtodivisibilitywillprobablybemoreintelligibleandpalatabletothereader,thanAM'searlyramblingsinfinitesettheory.ThedosnofAMwasfinelytunedsothattheanswertothisquestionwouldbe"No".PonderthatonelChapter2AM:DiscoveryinMathematicsasHeuristicSearch-19-Intheexampleitself,severalirrelevanttaskshavebeenexcised7.Abouthalfofthoseomittedtaskswereinterestinginthemselves,butallofthemweretangentialorunrelatedtothedevelopmentshown.Thereadercantellbytheglobaltasknumberinghowmanywereskipped.Forexample,noticethattheexcerptjumpsfromTask67toTask79.TohelpgaugeAM'sabilities,thereadermaybeinterestedtoknowthatAMdefined"NaturalNumbers"duringTask44,and"TIMES"wasdefinedduringTask57.AMstartedwithnoknowledgeofnumbers,andonlyscantyknowledgeofsetsandset-operations.Task3,e.g.,wastofillinexamplesofSets.TheconceptsthatAMtalksaboutareself.explanatorybyandlarge.Belowarediscussedsomenonstandardones.BAGisakindofliststructure,abunchofelementswhichareunordered,butoneinwhichmultiplecopiesofthesameelementarepermitted.Onemayvisualizeapaperbagfilledwithcardboardletters.Technically,weshallsaythatasetisnotconsideredtobeabag.Abagisdenotedbyenclosurewithinparentheses,justassetsarewithinbraces.SothebagcontainingXandfourY'smightbewritten(XYYYY),andwouldbeconsideredindistinguishablefromthebag(YYYXY).Numberwillmean(typically)apositiveinteger.TIMES-'isaparticularrelation.Foranynumberx,TIMES'(x)isasetofbags.Eachbagcontainssomenumberswhich,whenmultipliedtogether,equalx.Forexample,TIMES'(18){(18)(29)(233)(36)).Checking,weseethatmultiplying,e.g.,thenumbersinthebag(233)together,wedoget2x2x3-18.TIMES'(x)containsallpossiblesuchbags(containingnaturalnumbers>1).ADD-'isarelationanalogoustoTIMES-'.Foranynumberx,ADD'1(x)isalsoasetofbags.Eachbagcontainsabunchofnumberswhich,whenaddedtogether,equalx.Forexample,ADD'(,){(4)(1111)(1I2)(13)(22)1.ADD'1(x)containsallpossiblesuchbags(containingnumbers>0);itfindsallpossiblepartitionsofx.Divisors-ofisamorestandardrelation.Foranynumberx,Divisors.of(x)isthesetofallpositivenumberswhichdivideevenlyIntox.Forexample,Divisors-of(18)(1236918).ThedefinitionsformostofthemathematicaltermsusedintheexcerptcanbefoundintheGlossary(Appendix1.1).Wheneverthereisaconflictbetween"computersciencejargon"and"mathjargon",Ihaveoptedforthelatter.So,e.g.,all"functions"arenecessarilysingle.valuedforeachmemberoftheirdomain.AMisaninteractivecompute!rprogram.Itprintsoutphrasesindicatingwhatitisdoingat*eachmoment,andahumanbeing,referredtoastheUser,watchesAM'sactivities.Atanymoment,theusercaninterruptAMtoaskquestionsorre-directitsenergies.Intheexcerpt,theuserneverre-directsAM,althoughhedoesoccasionallyaskAMtorenamesomeconceptandtoexplainitsbehavior(e.g.,justafter**TASK106**).Forthebenefitofthereader,Ihavebold-facedalltheuser'scomments.ThisIsfair,despitethert-sltsofExperiment2(seeSection6.22)becausetheremainingtasksclumptogetherin-twos,threes,etc;they;runinterruptedlinesofresearch(eg.,Tasks65-67),osparatedbyverylargeaps(eg.,thejumpfromTask67to79).NChapter2AM:DiscoveryinMathematicsasHeuristicSearchMypesonalnotesandcommentsoccurright-justified,initalics.2.4.TheExampleItself**Task65:**Fillinginexamplesofthefollowingconcept:"Divisors-of".3Reasons:(1)NoknownexamplesforDivisors-ofsofar.(2)TIMES,whichisrelatedtoDivisors-of,isnowveryinteresting.(3)Focusofattention:AMrecentlydefinedDivisors-of.26examplesfound,in9.2seconds.e.g.:Divisors-of(6)-{1236)..4,.Chapter2AM:DiscoveryinMathematicsatHuristicSearch-21-**Tak66:8*ConsideringnumberswhichhaveverysmallsetsofDivisors-of(i.e.,veryfewdivisors).2Reasons:(1)Worthwhiletolookforextremecases.(2)Focusofattention:AMrecentlyworkedonDivisors-of.Fillinginexamplesofnumberswith0divisors.0examplesfound,in4.0seconds.Conjecture:nonumbershave0divisors.FillinginexamplesofnumberswithIdivisors.1examplesfound,in4.0seconds.e.g.:Divisors-of(1)-{1).Conjecture:IistheonlynumberwithIdivisor.Fillinginexamplesofnumberswith2divisors.V4024examplesfound,in4.0seconds.e.g.:Divisors-of(13)-{!13).Noobviousconjecture.Thiskindofnumbermeritsmorestudy.Creatinganewconcept:"Numbers-with-2-divisors".AMhadPreviouslyderivedthenotionofsingleton,doubleton,etc.Above,AMwasactuallydefining,e.g.,thesetofnumberswhichgetsmappedintoadoubletonofnumbers,bytheoperationDivisors-of.Itookthelibertyoftranslatingthisintotheaboveform,whichuses,e.g.,thenumber"2".Fillinginexamplesofnumberswith3divisors.11examplesfound,in4.0seconds.e.g.:Divisors-of(49)={1749).Allnumberswith3divisorsirealsoSquares.Thiskindofnumbermeritsmorestudy.Creatinganewconcept:"Numbers-with-3-divisors".HowdidAMnoticethatconjecture?Ittookarandom17exampleofNumbers-with-..divisiors,say49.Thenitaskedwhatotherknownconcepts"49'wasanexampleof.Thetwoanswerswere:Odd-numbersandPerfect-squares.AMthentestedtheseconjecturesontheothertenexamplesJustfound.Theonlysurvivingconjecturewasthatallnumbers-with-3-divisorsarealsoperfect-squares.'--Chapter2AM:DiscoveryinMathematicstsHetirisficSearch-22-~Took67:*Consideringthesquare-rootsofNumbers-with-3-divisors.2Reasons:(11)Numbers-with-3-divsorsareunexpectedlyalsoperfectSquares.(2)Focusofattention:AMrecentlyworkedonNumbers-with-3-divisors.Allsquare-rootsofNumbers-with-3-divisorsseemtobeNumbers-with-2-divisors.e.g.,Divisors-of(Square-root(169))Divisors-of(13){±13).Formulatingtheconversetothisstatement.Empirically,itseemstobetrue.ThesquareofeachNumber-O'th-2-divisorsseemstobeaNumber-with-3-divisors.Thisisveryunusual.Itisnotplausiblyacoincidence.(Chanceofcoincidenceis<.001)Boostinginterestingnessfactoroftheconceptsinvolved:lnterestingnessfactorof"Divisors-of"raisedfrom300to400.lnterestingnessfactorof"Numbers-with-2-divisors"raisedfrom100to600.lnterestingnessfactorof"Numbers-with-3-divisors"raisedfrom200to700.USER:Callthesetofnumberswtth2divisors"Primes".**Task68:.*ConsideringthesquaresofNumbers-with-3-divisors.2Reasons:(1)SquaresofNumbers-with-2-divisorswereinteresting.(2)Focusofattention:AMrecentlyworkedonNumbers-with-3-divlsors.Thisgapinthesequencingfromtask67totask79-eliminatessometangentialandboringtasks.Seepage19foranexplanation.Chapter2AFDiscoveryinMathematicsasHeuristicSearch-23-*sTask79:8*ExaminingTIMES'(x),lookingforpatternsinvolvingitsvalues.2Reasons:(1)TIMES"isrelatedtothenewly-interestingconcept"Divisors-of".(2)ManyexamplesofTIMES"areknown,toinducefrom.LookingspecificallyatTIMES'(12),whichis(12)(26)(223)(34)).13conjecturesproposed,after2.0seconds.e.g.,"TIMESI(x)alwayscontainsabagcontainingoalyevennumbers'.TcStingtheconjecturesonotherexamplesofTIMES1.5falseconjecturesdealwithevennumbers.AMwillsometimeconsidertherestrictionofTIMES"'toevennumbers.-Only2outofthe13conjecturesareverifiedforall26knownexamplesofTIMES-:Conjecture1:TIMES'1(x)alwayscontainsasingletonbag.e.g.,TIMES-2),whichis(12)(26)(223)(34)),contains(12).e.g.,TIMES'1(13),whichis(13)),contains(13).Creatinganewconcept,"Single-times".Single-timesisarelationfromNumberstoBags-of-numbers.Single-times(x)isallbagsinTIMES'(x)whicharesingletons.e.g.,Single-times(12)-{(12)).e.g.,Single-times(13)-f(13)}.Conjecture2:TIMES(x)alwayscontainsabagcontainingonlyprimes.e.g.,TIMES1(12),whichis(12)(26)(223)(34)),contains(223).e.g.,TIMES'(13),whichis(13)),contains(13).Creatinganewconcept,"Prime-times".Prime-timesisarelationfromNumberstoBags-of-numbers.Prime-times(x)isallbagsinTIMESI(x)whichcontainonlyprimes.e.g.,Prime-times(12)-{(233)}.e.g.,Prime-times(13)-{(13)1.1%.2Chapter2AM:DiscoveryinMathematicsasHeuristicSearch-24-**TaskSO:**Consideringtheconcept"Prime-times".2Reasons:(1)ConjecsaboutPrime-timeswilltellmuchaboutPrimesandTIMES1.(2)Focusofattention:AMrecentlydefinedPrime-times.LookingspecificallyatPrime-times(48),whichis(22223)}.4conjecturesproposed,after.6seconds.e.g.,"xIsneverinsideanymemberofPrime-times(x)",TestingthemonotherexamplesofPrime-times.OnlyIoutofthe4conjecturesareverifiedforall23knownexamplesofPrime-times:Conjecture1:Prime-times(x)isalwaysasingletonset.Thatis,Prime-timesisafunction,notjustarelation.e.g.,Prime-times(48),whichis(22223)},isasingletonset.e.g.,Prime-times(47),whichis(47)},isasingletonset.Thisholdsforall17knownexamplesofPrime-times.(Chanceofcoincidenceis.0001)Thisfailsfor2oftheboundarycases(extremenumbers):0and1.ConjectureIsamended:Eachnumber>1istheproductofauniquebagofprimes.Isuspectthatthisconjecturemaybeveryuseful.8USER:Callthisconjecture"Uniquefactorizationconjecture*.oToshowthatAMisn'treallyalwaysrightonthemark,thenextsequenceoftasksincludesacrimeofomission(ignoringtheconceptofPartitions)andafalsestart(worryingaboutnumberswhichcanberepresentedasthesumoftwoprimesinpreciselyoneway).Noticetheskiphere;Itaskshavebeenomitted.HowdidAMknowthis?Oneofthe(unfortunatelyfewl)mets-heuristicsinAMsaidthefollowing:"Whenusingthe'lookattheinverseofextremeitemsundertheoperationf'rule,TackthefollowingnoteontotheInterestfacetofthenewconceptwhichitcreated-'Conjecturesinvolvingthisconceptandf(orf-)arenatural,interesting,andprobablyuseful.'-NowtheconceptPRIMESwasdefinedusingthe'sxtrerr'heuristicrule,,,ithf-Oavizors-of.WhenPRIMESwasfirstcreated,themeta-rulewejustpresentedtickedthefollowingnoteontoPrimes.Interest'ConjecturesinvolvingPrimesanddivision(ormultiplication)arenatural,interesting,andprobablyuseful.:Ththeuniquefactorizetionconjecturetriggersthisfeature,whereasGodbch'$conjecturewouldn't.--z_Chapter2AM:DiscoveryinMathematicssHuristicSerch-25-**Task84:**ExaminingADD'(x),lookingforpatternsinvolvingitsvalues.2Reasons:(1)ADD"'isanalogoustothenewly-interestingconcept"TIMES1".(2)ManyexamplesofADD"1areknown,toinducefrom.LookingspecificallyatADD1(6),whichIs{(II11)(11112)(1113)122)(114)(U23)(05)(222)(24)(33)(6)).17conjecturesproposed,after3.9seconds.e.g.,"ADDt(x)alwayscontainsabagofprimes7.TestingthemonotherexamplesofADD-'.OnlyIIoutofthe17conjecturesareverifiedforall19knownexamplesofADD-Y:3outofthe11conjectureswerefalseuntilamended.Conjecture1:ADD(x)nevercontainsasingletonbag.Conjecture2:ADD'1(x)alwayscontainsabagofsize2(alsocalleda"pair"ora"doubleton").e.g.,ADD'(6)contains(15),(24),and(33).e.g.,ADD'(4)contains(13),and(22).Creatinganewconcept,"Pair-add".Pair-addisarelationfromNumberstoPairs-of-numbers.Pair-add(x)isallbagsinADD'(x)whicharedoubletons(i.e.,ofsize2).e.g.,Pair-add(12)-{(111)(210)(39)(48)(57)(66)}.e.g.,Pair-add(4)-{(13)(22)1.Conjecture3:ADD'1(x)alwayscontainsabagcontainingonlyl's.Conjecture10:ADD'I(x)alwayscontainsapairofprimes.Thisconjectureisfalse.Conjectureisamended:"ADD(x)usually(butnotalways)containsapairofprimes."e.g.,ADD'i(10)contains(37),and(55).e.g.,ADD'(4)contains(22).e.g.,ADDI(11)doesnotcontainapairofprimes.Creatinganewconcept,"Prime-add".Prime-addisarelationfromNumberstoPairs-of-numbers.Prime-add(x)isallbagsinADDI1(x)whicharepairsofprimes.e.g.,Prime-add(12)={(57)).e.g.,Prime-add(lO)-f(37)(55)}.e.g.,Prime-add(11){00'U!Chapter2AM:DiscoveryinMathematicsasHeuristicSearch-26-**Task106:LConsideringthesetofnumbersforwhichPrime-addisdefined(hasnon-emptyvolue).1Reason:(1)Prime-addoftenhasnon-emptyvalue.Worthisolatingthatcase.Warning:notaskontheagendahasaninterestingnessvalueabove200!!!Creatinganewconcept"Prime-addable".Prime-addableisakindofNumber.xisPrime-addableifPrime-add(x)isnon-empty.Willspend5.0secondsfillinginexamplesofPrime-addable.18examplesfound.Herearesomeofthem:45678910121314171618.Empirically,allevennumbersarealsointhisset(ignoringboundarycases:0246).Soconjectured.Danger:mustexamineboundarycases:thenumbers0,2,4,and6.Twoexceptionsnoticed.Theonlyexceptionsarethesmallestboundarycases:0,2.Conjectureisamended:Allevennumbers>2arethesumoftwoprimes.Warning:Iexpectthisconjecturewillbecutebutuseless.USER:Why?Becausetheconceptof"Primes"originallyaroseasextremecasesofDivisors-of.ThemorecloselyanoperationXisrelatedtotheconceptDivisors-of,themorenaturalwillbeanyconjectureinvolvingboththatoperationXandPrimes.E.g.,conjecturesinvolvingbothPrimesandTimeswillbenaturalanduseful.Butthisconjecture,whichInvolvesPrimesandADD-',willbecutebutuseless,sincetherelation"ADD"isunrelatedtotherelation"Divisors-of".Endofexplanation.USER:Callthisconjecture"Goldbach'sconjecture".2$Task107:**ConsideringthesetofnumbersforwhichtherelationPrime-addissingle-valued.3Reasons:(1)Prime-addoftenhassingletonvalue.Worthisolatingthatcase.(2)Restrictedtothisset,Prime-addwouldbeafunction.(3)Focusofattention:AMrecentlyworkedonPrime-add.Creatinganewconcept"Uniquely-prime-addable"."Uniquely-prime-addable"isakindofNumber.xisUniquely-prime-addableifPrime-add(x)isasingleton.Willspend10.0secondsfillinginexamplesofUniquely-prime-addable.11examplesfound.Herearesomeofthem:457891213.Noobviousconjecturederivedempirically.Willforget"Uniquely-prime-addablenumbers",ifnoTiesfoundinnearfuture.Chapter2AM:DiscoveryinMathematicsasHeuristicSearch.27-2,5.RecappingtheExampleLet'sonceagaineavesdroponamathematician,ashedescribestoacolleaguewhatAMdid.Thisexamplewasprecededbythemomentousdiscoveriesofmultiplicationanddivision.Severalinterestingproperitesoftheseoperationswerenoticed.Thefirsttaskwhichwasillustrated(**Task65**)involvesexploringtheconceptof"divisorsofanumber"(meaningallpositiveintegerswhichdivideevenlyintothegivennumber).Aftertiringoffindingexamplesofthisrelation,AMinvestigatesextremecases:thatis,itwonderswhichnumbershaveveryfeworverymanydivisors.AMthusdiscoversPrimesinacuriousway.Numberswith0orIdivisorareessentiallynonexistent,sothey'renotfoundtobeinteresting.AMnoticesthatnumberswith3divisorsalwaysseemtobesquaresofnumberswith2divisors(primes).Thisraisestheinteresting-nessofseveralconcepts,includingprimes.Soon(**TASK79**),anotherconjectureinvolvingprimesisnoticed:Manynumbersseemtofactorintoprimes.Thiscausesanewrelationtobedefined,whichassociatestoanumberx,allprimefactorizationsofx.ThefirstquestionAMasksaboutthisrelationis"isitafunction?".Thisquestionisthefullstatementoftheuniquefactorizationconjecture:thefundamentaltheoremofarithmetic.AMrecognizedthevalueofthisrelationship,andassigneditahighinterestingnessrating.Inasimilarmanner,thoughwithlowerhopes,itnoticedsomemorerelationshipsinvolvingprimes,includingGoldbach'sconjecture.AMquitecorrectlypredictedthatthiswouldturnouttobecutebutofnofutureusemathematically.Thelastactivitymentioned(**TASK107**)showsAMexaminingarathernonstandardconcept:"numberswhichcanbewrittenasthesumofapairofprimes,inonlyoneway".Thesearetermed"uniquely-prime-addable"numb's.ItwasmildlyunfortunatethatAMgaveuponthisconceptbeforenoticingthat,-2isuniquely-prime-addable,foranyprimenumberp,andthatinfactthesearetheonlyodduniquely-prime-addablenumbers.Thesessionwasrepeatedonce,withahumanusertellingAMexplicitlytocontinuestudyingthisconcept.AMdidinfactconstruct"Uniquely-prime-addable-odd-numbers",andthennoticethisrelationship.Hereweseeanexampleofunstableequilibrium:ifpushedslightlythisway,AMwillgetveryinterestedandspendalotoftimeworkingonthiskindofnumber.Sinceitdoesn'thaveallthesophistication(i.e.,compiledhindsight)thatwehave,itcan'tknowinstantlywhetherwhatit'sdoingwillbefruitless.L-28-Chapter3.ControlStructure'Objectivel'given,'Important'problemsmayarisefinmath/.Buteventhenthemathematicianisessentiallyfreetotakeitorleaveitandturntosomethingelse,whilean'important'problemin(anyothersciencelIsusuallyaconflict,acontradiction,which'must'beresolved.Themathematicianhasawidechoiceofwhichwaytoturn,andheenjoysaveryconsiderablefreedominwhathedoes.--vonNeumannAMisoneofthoseawkwardprogramswhoserepresentationsonlymakesenseifyoualreadyunderstandhowtheywillbeoperatedon.AdiscussionofAM'scontrolstructure(thischapterandthenext)mustthusprecedeadiscussionofconceptsandhowtheyarerepresented(Chapter5).Section2.1gavethereaderasufficientknowledgeofAM's"anatomy"tofollowthesechapters.Thusarmedwithacursoryknowledgeofthe"statics"ofAM,weshallproceedtodescribeindetailits"dynamics".Section3.1willgivethereaderafeelingfortheimmensityofAM'ssearchspace.Thisisthe"problem".Thenextsectionwillgivethetop-level"solution":theflowofcontrolisgovernedbyajob-list,anagendaofplausibletasks.Section3.3willpresentsomedetailsofthisglobalcontrolscheme.Chapter4dealswiththewayAM'sheuristicsoperate;thiscouldbeviewedasthe"low-level"orlocalcontrolstructureofAM.Chapter5containssomedetailedinformationabouttheactualconcepts(andheuristics)AMstartswith,andalittlemoreabouttheirdesignandrepresentation.ThereaderisalsodirectedtoAppendix5,whichpresentsseveraldetailedexamplesofAM"inaction".3.1.AM'sSearchTodevelopmathematics,onemustalwayslabortosubstituteideasforcalculations.--DirichletLet'sfirstspendaparagraphreviewinghowconceptsarestored.AMcontainsacollection....i--'J7-AJ',.-.--1--.r.'1w7.VKVChapter3AM:DiscoveryinMathematicsasHeuristicSearch-29-ofdatastructures,calledconcepts.Eachconceptismeanttocoincideintuitivelywithonemathematicalidea(e.g.,Sets,Union,Trichotomy).Assuch,aconcepthasseveralaspectsorparts,calledfacets(e.g.,Examples,Definitions,Domain/range,Worth).Ifyouwishtothinkofaconceptasa"frame",thenitsfacetsare"slots"tobefilledin.Eachfacetofaconceptwilleitherbetotallyblank,orelsewillcontainabunchofentries.Forexample,theAlgorithmsfacetoftheconceptUnionmaypointtoseveralequivalentLISPfunctions,eachofwhichcanbeusedtoformtheunionoftwosets'.Eventhe"heuristicrules"aremerelyentriesontheappropriatekindoffacet(e.g.,theentriesontheInterestfacetoftheStructureconceptarerulesforjudgingtheinterestingnessofStructures2).-Atanymoment,AMcontainsacouplehundredconcepts,eachofwhichhasonlysomeofitsfacetsfilledin.AMstartswith115concepts,andgrowstoabout300conceptsbeforerunningoutoftime/space.Mostfacetsofmostconceptsaretotallyblank.AM'sbasicactivityistoselectsomefacetofsomeconcept,andthentrytofillinsomeentriesforthatslot3Thustheprimitivekindof"task"forAMistodealwithaparticularfacet/conceptpair.A,ypicaltasklookslikethis:Checktheentriesonthe"Domain/range"facetofthe"Bag-Insert"conceptIftheaverageconcepthastenortwentyblankfacets,andthereareacouplehundredconcepts,thenclearlycherewillbeabout20x200-4000"fill-in"typetasksforAMtoworkon,atanygivenmoment.Ifseveralhundredfacetshaverecentlybeenfilledin,therewillbethatmany"check-entries"typetasksavailable.Executingataskhappenstotakearound"-tenortwentycpuseconds,sooverthecourseofafewhoursonlyasmallpercentageofthesetaskscaneverbeexecuted.4Sincemostofthesetaskswillneverbeexplored,whatwillmakeAMappearsmartorstupidareitschoicesofwhichtasktopickateachmoment.5Soit'sworthAM'sspendinganontrivialamountoftimedecidingwhichtasktoexecutenext.Ontheotherhand,ithadbetternotbetoomuchtime,sinceataskdoestakeonlyadozenseconds.6Onequestionthatmustb1eansweredIs:WhatpercentageofAM'slegalmoves(atanyThereasonsforhavingmultiplealgorithmsisthatsometimesAMwiltwantonethatisfast,sometimesAMwillbemoreconcernedwitheconomizingonstorage,sometimesAMwillwantto"analyze"analgorithm,andforthatpurposeitmustbeaveryun-optimizedfunction,etc.2Atypicalsuchruleis:*A.,ructureisveryinterestingifallitselementsaremiNlyinterestinginpreciselythesameway."3ThisisnotquitecompleteInadditiontofillinginentriesforagivenfacet/conceptpair,AMmaywishtocheckit,splititup,reorganizeit,etc4Theprecise"18secondsaverage"figureisnotimportant.Allheuristic-searchprogramssufferthissamehandicap:Asthedepthtowhichthey'vesearchedincreases,thepercentageofnodes(atorabovethatlevel)whichhavebeenexamineddecreasesexponentially(assumingthebranchingfactorbisstrictlylargerthanunity)5ThisistrueofallheuristicsearchprogramsThebranchisrthesearch,themoreitapplies.TheansweristhatAMspendsthis"deciding"timenotjustbeforeataskisPicked,butrathereachtimeataskisaddedtotheagendaAlittleunderIcpusecondisspent,ontheaverage,toplacethetaskproperlyonthestands,tossignitameningfulnumericpriorityvalue.So"actiontime"isroughlyoneorderofmagnitudelergerthan"decidingtime".:iChapter3AM:DiscoveryinMathematicsasHeuristicSearch-30-typicalmoment)wouldbeconsideredintelligentchoices,andwhatpercentagewouldbeirrational?Theanswercomesfromempiricalresults.Thepercentagesvarywildlydependingonthepreviousfewtasks.Sometimes,AMwillbeobviously"inthemiddle"ofasequenceoftasks,andonlyoneortwoofthelegaltaskswouldseemplausible.Othertimes,AMhasjustcompletedaninvestigationbyrunningintodead-ends,andtheremaybehundredsoftasksitcouldchooseandnotbecriticized.Themediancasewouldperhapspermitabout6ofthelegaltaskstobejudgedreasonable.ItisimportantforAMtolocateoneofthesecurrently-plausibletasks,butit'snotworthspendingmuchtimedecidingwhichofthemtoworkonnext.AMstillfacesahugesearch:findoneofthe6winnersoutofafewthousandcandidates.Itschoiceoftasksismadeevenmoreimportantduetothe10-second"cycletime"thetimetoInvestigate/executeonetask.Ahumanuseriswatching,andtensecondsisanontrivialamountoftimetohim.Hecanthereforeobserve,perceive,andanalyzeeachandeverytaskthatAMselects.EvenjustafewbizarrechoiceswillgreatlylowerhisopinionofAM'sintelligence.ThetraceofAM'sactionsiswhatcounts,notitsfinalresults.SoAMcan'tdrawmuchofitsapparentintelligencefromthespeedofthecomputer.Chess-playingprogramshavehadtofacethedilemmsofthetrade-offbetween"intelligence"(ioresight,inference,processing,...)andtotalnumberofboardsituationsexamined.Inchess,thecharacteristicsofcurrent-daymachines,languagepowervs.speed,and(tosomeextent)thelimitaticnsofourunderstandingofhowtobesophisticated,havetodateunfortunatelystillfavoredfast,nearly-blind7search.AlthoughmachinespeedandLISPslownessmayallowblindsearchtowinoversymbolicinferenceforshallowsearches,itcan'tprovideanymorethanaconstantspeed-upfactorforanexponentialsearch.Inferenceisslowlygainingonbruteforce,8andmustsomedaytriumph."L.Sincethenumberof"legalmoves"forAMatanymomentisinthethousands,itisunrealistictoconsider"systematically"9walkingthroughtheentirespacethatAMcanreach.InAM'sproblemdomain,thereissomuch"freedom"thatsymbolicInferencefinallycanwinoverthe"simplebutfast"explorationstrategy'°.A-A3.2.ConstrainingAM'sSearchis,usingaverysimplestatikevaluationfunction.Eg,e*-[Berliner741There,searchingisusedmainlytoverifyplausiblemoves(aconvergentprocess),nottodiscoverthem(abushiersearch).9g1,exhaustively,orusingeAminimsing,etcThisistheauthor'sopinion,partiallysupportedbytheresultsofAMPaulCohendisagrees,feelingthatmachinespeedshouldbethekeytoanMomatedmathematician'ssuccessI-'Chapter3AM:DiscoveryinMathematicsasHeuristicSearchThereexisttoomanycombinationstoconsiderallcombinationsofexistingentities;thecreativemindmustonlyproposethoseofpotentialinterest.oincare'Agreatdealofheuristicknowledgeisrequiredtoconstrainthenecessaryprocessingeffectively,tozeroinonagoodtasktotacklenext.Thisisdoneintwostages.1.Alistofplausiblefacet/conceptpairsismaintained.Nothingcangetontothislistunlessthereissomereasonwhyfillingin(orchecking)thatfacetofthatconceptwouldbeworthwhile.2.Alltheplausibletasksonthis"Joblist"arerankedbythenumberandstrengthofthedifferentreasonssupportingthem.Thusthefacet/conceptpairsnearthetopofthelistwillallbeverypromisingtaskstoworkon.Thefirstoftheseconstraintsisakintoreplacinga!egalmovegeneratorbyaplausible*movegenerator.Thesecondkindofconstraintisakintousingaheuristicevaluationfunctiontoselectthebestmovefromamongtheplausibleones.IThejob-iistoragendaisadatastructurewhichisanaturalwaytostoretheresultsoftheseprocedures.itis(I)alistofalltheplausibletaskswhichhavebeengenerated,and(2)itiskeptorderedbythenumericestimateofhowworthwhileeachtaskis.Atypicalentryontheagendamightlooklikethis:FillintheEXAMPLESfacetofthePRIMESconcept.IReasonsforfillinginthisfacet.-I.Noexamplesofprimesareknownsofar.2.Focusofattention:AMjustdefinedPrimes.I"Overallvalueofthesereasons*j250PestAlprogram*(.,[Samuel671)haveindicatedthatconstraininggeneration(1)ismoreimportontthansophisticatedorderingoftheresultantcandidates(2).ThiswasconfirmedbytheexperimentsperformedonAM.:-s,..,.p__,,____,.__,,..._,;...,/S.--"Chapter3AM:DiscoveryinMathematicsasHeuristicSearch-32-Theactualtop-levelcontrolstructureissimplytopluckthetoptaskfromtheagendaandexecuteit.Thatis,selectthefacet/conceptpairhavingthebestsupportingreasons,andtrytofillInthatfacetofthatconcept.Whileataskisbeingexecuted,somenewtasksmightgetproposedandmergedintotheagenda.Also,somenewconceptsmightgetcreated,andthis,too,wouldgenerateaflurryofnewtasks.AfterAMstopsfillinginentriesforthefacetspecifiedinthechosentask,itremovesthattaskfromtheagenda,andmovesontoworkonwhichevertaskisthehighest.ratedatthattime.Thereaderprobablyhasadozengoodquestionsinmindatthispoint(e.g.,Howdothereasonsgetrated?,Howdothetasksgetproposed?,Whathappensafterataskisselected?,..).Thenextsectionshouldanswermostofthese.SomemoreJudgmentalones(Howdareyouproposeanumericcalculusofplausiblereasoning?.Ifyouslightlydce-tuneallthosenumbers,doesthesystem'sperformancefallapart?...)willbeansweredInChapter7.3.3.TheAgendaCreativeenergyisusedmainlytoasktherightquestion.--Halmos3.3.1.WhyanAgenda?Thissubsectionprovidesmotivationforthefollowingone,byarguingthatajob-listschemeisanaturalmechanismtousetomanagethetask-selectionproblemAMfaces.Ifthatseemsobvioustoyou,feelfreetoskipaheadtosection3.3-.2,page33.RecallthatAMmustzeroinononeofthebestfewtaskstoperformnext,anditrepeatedlymakesthischoice.Ateachmoment,theremightbethousandsofdirectionstoexplore(plausibletaskstoconsider).Ifallthelegaltaskswerewrittenout,andreasonswerethoughtuptosupporteachone,thenperhapswecouldorderthembythestrengthofthosereasons,andtherebysettleonthe"best"tasktoworkonnext.Inordertoappear"smart"tothehumanuser,AMshouldneverexecuteataskhavingnoreasonsattached.Somemagicalfunctionwillbeassumedtoexist,whichprovidesanumericrating,apriorityvalue,foranygiventask.Thefunctionlooksatagivenfacet/conceptpair,examinesalltheassociatedreasonssupportingthattask,andcomputesanestimateofhowworthwhileitwouldbeforAMtospendsometimenowworkingonthatfacetofthatconcept.1'7%Cjt,Chapter3AM:DiscoveryinMathematicsasHeuristicSearch-33-SoAMwillmaintainalistofthoselegaltaskswhichhavesomegoodreasonstackedontothem,whichjustifywl-eachtaskshouldbeexecuted,whyitisplausible.Atleastimplicitly,AMhasanumericratingforeachask.Theobviouscontrolalgorithmistochoosethetaskvlththehighestrating,andworkonthatonenext.--Assumingthetasksonthislistarekeptorderedbythisnumericrating,LhenAMcanjustrepeatedlypluckthehighesttaskandexecuteit.Whileit'sexecuting,somenewtasksmightgetproposedandaddedtothelistoftasks.Reasonsarekepttackedontoeachtaskonthislist,andformthebasisforthenumericpriorityrating.__Giveortakeafewfeatures,thisnotionofa"job-list"istheonewhichAMuses.Itisalso:-icalledanagenda.'2"Ataskontheagenda"isthesameas"ajobonthejob-list"isthesameas"afacet/conceptpairwhichhasbeenproposed"isthesameas"anactivenode!nthesearchspace".Henceforth,I'llusethefollowingallinterchangeab!y:task,facet/conceptpair,node,job.Thisshouldbreakupthemonotony.Theflavorofagenda-listusedhereIssimilartothecontrolstructureofHEARSAY-I1[Lesser/Fennell/Erman/Reddy75).Vastnumbersoftasksareproposedandaddedtothejob-list.Occasionally,whensomenewdataarrives,sometaskisrepositioned3.3.2.DetailsoftheAgendaschemeIdAteachmoment,AMhasmanyplausibletasks(hundredsoreventhousands)whichhave17:beensuggestedforsomegoodreasonorother,buthaven'tbeencarriedoutyet.Eachtaskttisatthelevelofworkingonacertainfacetofacertainconcept:fillingitin,checkingit,etc.RecallthateachtaskalsohastackedontoItalistofsymbolicreasonsexplainingwhythetaskIsworthdoing.It.addition,anumber(between0and1000)Isattachedtoeachreason,representingsomeabsolutemeasureofthevalueofthatreason(atthemoment).Oneglobalformula14combinesallthereasons'valuesintoasinglepriorityvalueforthetaskasawhole.ThisoverallratingistakentoindicatehowworthwhileitwouldbeforAMtobotherexecutingthattask,howinterestingthetaskwouldprobablyturnouttobe.The"intelligence"ofAM'sselectionoftaskisthusseentodependonthisoneformula.Yetexperimentsshowthatitspreciseformisnotimportant.Weconcludethatthe"intelligence"hasbeenpusheddownintothecarefulassigningofreasons(andtheirvalues)foreachproposedtask.12BorrowedfromKaplan'stermforthejob-listpresentinKRL(see[BobrowWinograd77]).Foranearliergeneraldiscussionofagendas,see(Knuth68113andcovermysloppiness.Seriously,thankstoEnglish,eachofthesetermswillconjureupaslightlydifferentimage;a"job"issomethingtodo,a"node"isaniteminasearchspace,"facet/concajtpair"remindsyouoftheformatofatask14Hereisthatformula:Worth(J)IISQRT(SUMRi2)lxI0.2xWorth(A)*0,3xWorth(F)O.5xWorth(C),whereJjobtobejudged(ActA,FacetF,ConceptC),and{Ri)aretheratingsofthereasonssupportingJ.Forthesamplejobpicturedintheboxbelow,A-Fillin,F.Examples,C-Setls,(Ri}-(lO0,100,200).TheformulawillbecJrpctsd-and;%pistd-.inSoction4.2,onpMe40.'A...4-.1....4.7Chapter3AM:DiscoveryinMathfraticeasHeuristSearch-34-Atypicalentryontheagendamightlooklikethis:TASK:Fill-inexamplesofSetsPRIORITY:300REASONS:100:NoknownexamplesforSetssofar.100:FailedtofillinexamplesofSet-union,forlackofexamplesofSots200:Focusofattention:AMrecentlyworkadontheconceptofSet-unionNoticethesimilarityofthistotheinitialfewlineswhichAMtypesjustafteritselectsaJobtoworkon.Theflowofcontrolissimple:AMpicksthetaskwiththehighestpriorityvalue,andtriestoexecuteIt.Asasideeffect,newJobsoccasionallygetaddedtotheagendawhilethetaskisbeingexecuted.Theglobalpriorityvalueofthetaskalsoindicates;towmuchtimeandspacethistaskdeserves.Thesampletaskabovemightrate20cpuseconds,and200listcells.Wheneitheroftheseresourcesisusedup,AMterminatesworkonthetask,andproceedstopickanewone.Thesetwolimitswillbereferredtointhesequelas"timespacequanta"whichareallocatedtothechosentask.Wheneverseveraltechniquesexistforsatisfyingsometask,theremainingtime/spacequantaaredividedevenlyamongthosealternatives;i.e.,eachmethodistriedforasmalltime.Thispolicyofparcelingouttimeandspacequantaiscalledactivationenergy"in(Hewitt76)andcalled"resource.limitedprocesses"in[Norman&Bobrow75].Inthecaseoffillinginexamplesofsets,thespacequantum(200cells)willbeusedupquickly(longbeforethe20secondsexpire).Therearetwobigquestionsnow:1.Exactlyhowisataskproposedandranked?Howisaplausiblenewtaskfirstformulated?Howdothesupportingreasonsforthetaskgetassigned?Howdoeseachreasongetassignedanabsolutenumericrating?Docsatask'spriorityvaluechange?Whenandhow?2.HowdoesAMexecuteatask,onceit'schosen?Exactlywhatcanbedoneduringatask'sexecution?Thenextchapterwilldealwithbothofthesequestions.AdetaileddiscussionofdifficultiesandlimitationsoftheseideascanbefoundinSection7.2,onpage156.I-~kI..-35-Chapter4.HeuristicRulesAssumethattomehowAMhasselectedaparticulartaskfromtheagendasay"Fill-inExamplesofPrimes".WhatpreciselydoesAMdo,inordertoexecutethetask?Howareexamplesofprimesfilledin?Theanswercanbecompactlystatedasfollows:"AMselectsrelevantheuristics,andexecutestAem."ThisreallylustsplitsouroriginalquestionIntotwonewones:(I)Howaretherelevantheuristi:sselected,and(ii)Whatdoesitmeanforheuristicstobeexecuted(e.g.,howdoesexecutingaheuristicrulehelptofillinexamplesofprimes?).Thesetwotopics(inreverseorder)arethetwomajorsubjectsofthischapter.Althoughseveralexamplesofheuristicswillbegiven,thecompletelistisrelegatedtoAppendixS.Thefirstsectionexplainswhatheuristicruleslooklike(their"syntax",asitwere).Thenextthreesectionsillustratehowtheycanbeexecutedtoachievetheirdesiredresults(their"semantics").Section4.5explainswheretherulesarestoredandhowtheyareaccessedattheappropriatetimes.Finally,theinitialbodyofheuristicsisanalyzed.Theinformalknowedgetheycontainiscategorizedanddescribed.Unintentionally,thedistributionofheuristicsamongtheconceptsisquitenonhomogeneous;thistooisdescribedinSection4.6.4.1.SyntaxoftheHeuristicsLet'sstartbyseeingwhataheuristicrulelookslike.Ingeneral(see[DavisKing751forhistoricalreferencestoproductionrules),itwillhavetheformIf<situationalfluent>Then<actions>Asanillustration,hereisaheuristicrule,relevantwhencheckingexamplesofanything:TheretheyarecondensedandphrasedinEnglish.ThereaderwishingtoseeexamplesoftheheuristicsastheyactuallywerecodedinLISPshouldglonceatAppendix2.3.Chapter4AM:Di-coveryinMathematicsasHeuriticSearch-36-IfthecurrenttaskistoCheckExamplesofanyconceptX,and(ForsomeY)YIragenoralizationofX,andYhasatleast10examples,andallexamplesofVarealsoexamplesofX,Thenprintthefollowingconjecture:XisreallynomorespecializedthanY,andaddIttotheExamplesfacetoftheconceptnamed"Conjectures",%1andaddthefollowingtasktotheagenda:"CheckexamplesofY",forthereason:"JustasYwasnomoregeneralthanX,one-ofGeneralizations(Y)mayturnoutto'"'benomoregeneralthanY",witharatingforthatreasoncomputedastheaverageof:IlExamples(Generalizations(Y)l,IlExamples(Y)II,andPriority(Currenttask).Aswithproductionrules,andfc--grammaticalrules,e%-%hofAM'sheuristicruleshasaleft-hand-sideandaright-hand-side.Ontheleftisatesttoseewhethertheruleisapplicable,andontherightisalistofactionstotakeiftheruleapplies.Theleft-hand-sidewillalsobecalledtheIF-part,thepredicate,thepreconditions,leftside,orthesituationalfluentoftherule.Theright-hand-sidewillsometimesbereferredtoastheTHEN-part,theresponse,therightside,ortheactionspartoftherule.4.1.1.SyntaxoftheLeft-handSideThesituationalfluentisaLISPpredicate,afunctionwhichalwaysreturnsTrueorFalse(inLISP,itactuallyreturnseithertheatomTortheatomNIL).Thispredicatemay.:.-investigatefacetsofanyconcept(oftenmerelytoseewhethertheyareemptyornot),usetheresultsofrecenttestsandbehaviors(e.g.,toseehowmuchcputimeAMspenttryingtoworkonacertaintask),etc.TheleftsideisaconjunctionoftheformPlAP2A...Alltheconjuncts,exceptthevery:'-firstone,arearbitraryLISPpredicates.Theyareonlyconstrainedtoobeytwocommandments:1.Bequick!(returneitherTrueorFalseinunder0.1cpuseconds)2.Havenosideeffects!(destroyingorcreatingliststructuresorLispfunctions,resettingvariables)Herearesomesampleconjunctsthatmightappearinsidealeft-handside(butnotastheveryfirstconjunct)+Morethanhaifofthecurrenttask'stimequantumisalreadyexhausted,..*TherearesomeknownexamplesofStructures,..,Somegeneralizationofthecurrentconcept(theconceptmentionedaspartofthecurrenttask)hasanemptyExamplesfacet,.."Thespacequantumofthecurrenttaskisgone,butitstimeallocationislessthan10%usedup,.."Ataskrecentlyselectedhadtheform"RestructurefacetFofconceptX",whereFisanyfacet,andXisthecurrentconcept,...---a.-.Chapter4AM:DiscoverymMathematicsasHeuristicSearch-37-+Theuserhasusedthissystematleastoncebefore,..."It'sTuesday,...Theveryfirstconjunctofeachleft-handsideisspecial.Itssyntaxishighlyconstrained.Itspecifiesthedomainofapplicabilityoftherule,bynamingaparticularfacetofaparticularconcepttowhichthisruleisrelevant.AMusesthisfirstconjunctasafast"pre-precondition",sothattheonlyruleswhoseleft-handsidesgetevaluatedarealreadyknowntobesomewhatrelevanttothetaskathand.Infact,AMphysicallyattacheseachruletothefacetandconceptmentionedinitsfirstconjunct.2ThiswillbediscussedlhmoredetailinSection4.5,"Gatheringrelevantheuristics".Thisfirstconjunctwillalwaysbewrittenoutasfollowk,inthisdocument(whereA,F,andCarespecifiedexplicily):Thecurrenttask(theonejustselectedfromtheagenda)Iso!theform"DoactionAtotheIFfacetofconceptC"Thiscanbeviewedasthe"syntax"oftheveryfirstconjunctoneachrule'sleft-handside.Herearetwotypicalexamplesofallowablefirstconjuncts:0Thecurrenttask(theonelastselectedfromtheagenda)isoftheform"ChecktheDomain/rangefacetofconceptX",whereXisanyoperation+Thecurrenttaskisoftheform"FillintheexamplesfacetofthePrimesconcept"Thesearetheonlyguidelineswhichtheleft-handsideofaheuristicrulemustsatisfy.AnyLISPpredicatewhichsatisfiestheseconstraintsisasyntacticallyvalidleft-handsideforaheuristicrule.ItturnedoutlaterthatthisexcessivefreedommadeItdifficultforAMtoinspectandanalyzeandsynthesizeitsownheuristics;suchaneedwasnotforeseenatthetimeAMwasdesigned.Becauseofthisfreedom,thereisnotmuchmoretosayabouttheleft-handsidesofrules.Asthereaderencountersheuristicsinthenextfewsections,heshouldnoticethe(unfortunate)varietyofconjunctswhichmayoccuraspartoftheirleft-handsides.4.1.2.SyntaxoftheRight-handSide"Running"theleft-hand-sidemeansevaluatingtheseriesofconjoinedlittlepredicatesthere,toseeiftheyallreturnTrue.Ifso,wesaythattherule"triggers".Inthatcase,theright-hand-sideis"run",whichmeansexecutingalltheactionsspecifiedthere.Asingleheuristicrulemayhavealistofseveralactionsasitsright-hand-side.Theactionsareexecutedinorder,andwethensaytherulehasfinishedrunning.Onlytheright-hand-sideofaheuristicruleispermittedtohavesideeffects.TherightsideofaruleisaseriesoflittleLISPfunctions,eachofwhichiscalledanaction.2Sometimes,Iwillmentionwhereacertainruleisattached;inthatcase,Icanomitexplicitmentionofthefirstconjunct.Convere6ly,ifIincludethatconjunct,Ineedn'ttellyouwheitheruleisstored.%_Chapter4AM:DiscoveryinMathematicsasHeuristicSearch-38-Semantically,eachactionperformssomeprocessingwhichisappropriateinsomewaytothekindsofsituationsinwhichtheleft-hand-sidewouldhavetriggered.Thefinalvaluethattheactionfunctionreturnsisirrelevant.Syntactically,thereisonlyoneconstraintwhicheachfunctionor"action"mustsatisfy:Eachactionhasoneofthefollowing3side-effects,andnootherside-effects:1.Itsuggestsanewtaskfortheagenda.2.Itcausesanewconcepttobecreated.3.Itadds(ordeletes)acertainentrytoaparticularfacetofaparticularconcept.Torepeat:therightsideofarulecontainsalistofactions,eachofwhichisoneoftheabovethreetypes.Asinglerulemightthusresultinthecreationofseveralnewconcepts,theadditionofmanynewtaskstotheagenda,andthefillinginofsomefacetsofsomealready-existingconcepts.ThesethreekindsofactionswillnowbediscusmedinthefollowingthreeActions.4.2.HeuristicsSugeeNewTask_qThissectiondiscussesthe"proposinganewtask"kindofaction.Hereisthebasicideainajiutshe!l:Theleft-hand-sideoferuletriggers.Scatteredamongthe"thingstodo"initsright-hand-sidearesomesuggestionsforfuturetasks.'Thesenewtasksarethensimplyaddedtotheagendalist.4.2.1.AnIllustration:"FillinGeneralizationsofEquality"Ifanewtaskissuggestedbyaheiristicrule,ther,thatrulemustspecifyhowtoassemblethenewtask,howtogetreasonsfcrIt,andhowtoevaluatethosereasons.Forexample,hereisatypicalheuristicrulewhichproposesan!wtasktoaddtotheagenda.Itsaystogeneralizeapredicateifitisveryrarely3satisfied:IfThocurrenta;kwas(Fi!i-inexamplesofX)iandXisaprodicate,andmorethan100Item.poreknownInhredomainofX,andatl4astiOcpusecondswerespenttryingtorandomlyinstantiateX,andtheratioofsuccesses/failuresisboth>0andlessthan.05Thenaddthefollowingtosktotheagenda:(Fill-irngeneralizationsofX),forthefollowingreason:Themostsuspiciouspartofthesituationalflus'(theIF-part)isthenumber"05".Wherediditcomefrom?Hint:ifslhumanshadffingers,thiswoudprobablybe005inbasef.Seriously,onecanchangethisvahie(to.01orto25)withvirtuallynochAngeir,AM'sbehavior.Thisistheconclusionofexperiment3(teeSection623)SuchempiricaljuetificationisoneimportantreasonforactuallywritingandrunninglargeprogramslikeAR-'-Chsptar4AM:DiscoveryinMathematicsasHeuristicSearch-39-"Y,israreilysetisfied;aslightlylessrestrictiveconceptmightbemoreinteresting".Thinroor'sratingiscomputedasthreetimestheratioofnonexamples/examplesf'ound.EventhisIsonefullstepabovetheactualLISPimplementation,where"Xisapredicate"wouldbecodedas"(MEMBERX(EXAMPLESPREDICATE))".ThefunctionEXAMPLES(X)rummagesaboutlookingforalready-existingexamplesofX.Also,theLISPcodecontainsinformationfornormalizingallthenumbersproduced,sothattheywilllieintherange0-1000.Let'sexamineaninstanceofwherethisrulewasused.Atsomepoint,AMchosethetask"FillinexamplesofList-equality".Oneofthewaysitfilledinexamplesofthispredicatewastorunitonpairsofrandomly-chosenlists,andobservewhethertheresultwasTrueorFalse4Saythat244randompairsoflistsweretried,andonlytwicewasthispredicatesatisfied.Sometimelater,theIFpartoftheaboveheuristicisexamined.Alltheconditionsaremet,soIt"triggers".Forexample,the"ratioofsuccessestofailures"isjust2/242,whichisclearlygreaterthanzeroandlessthan0.05.Sotheright-hand-side(THEN-part)-oftheaboveruleisexecuted.Theright-handsideinitiatesonlyoneaction:thetask"FillingeneralizationsofList-equality"isaddedtotheagenda,taggedwiththereason"List-equalityisrarelysatisfied;aslightlylessrestrictiveconceptmightbemoreinteresting",andthatreasonisassignedanumericratingofSx(242/2)S63.Noticethattheheuristicruleabovesuppliedalittlefunctiontocomputethevalueofthereason.Thatformulawas:"threetimestheratioofexamples/nonexamplesfound".5Functionsofthistype,tocomputetheratingforareason,satisfythesameconstraintsastheleft-hand-sidedid:thefunctionmustbeveryfastanditmusthavenosideeffects.The"intelligence"thatAMexhibitsInselectingwhichtasktoworkonultimatelydependsontheaccuracyoftheselocalruleevaluationformulae.EachoneIs%ospecializedthatitis"easy"forittogiveavalidresult;therangeofsituationsitmustjudgeisquitenarrow.Notethattheselittleformulaewerehand-written,Individually,bytheauthor.AMwasn'tabletocreatenewlittlereason-ratingformulae.Thereason-ratingfunctionisevaluatedatthemomentthejobissuggested,andonlythenumericresultisremembered,nottheoriginalfunction.Inotherwords,wetackonalistofreasonsandassociatednumbers,foreachjobontheagenda.Theagendadoesn'tmaintaincopiesofthereason-ratingfunctionswhichgavethosenumbers.Thissimplificationisusedmerelytosavethesystemsomespaceandtime.Let'sturnnowfromthereason-ratingformulaetothereasonsthemselves.Eachreasonsupportinganewly-suggestedjobissimplyanEnglishsentence(anopaquestring,atoken).AMcannotdomuchintelligentprocessingonthesereasons.AMisnotallowedtoinspectpartsofit,parseit,transformit,etc.ThemostAMcandoiscomparetwosuchtokensforequality.Ofcourse,ItisriottohardtoimaginethiscapabilityextendedtopermitAMtoTheTrueonesbecameexamplesofList-equality,andthepairsoflistswhichdidn'tsatisfythispredicatebecameknownasnon-examples(failures,foiblee,..).Aheuristicsimilartothis*randominstantistion"oneisillustratedinSection44,onpage4&Inactuality,thiswouldbecheckedtoensurethattheresulthie*between0and1000.Chapter4AM:DiscoveryinMathematicsasHeuristicSearch-40-syntacticallyanalyzesuchstrings,ortotriviallycomputesomesortof"difference"betweentwogivenreasons.6Eachreasonisassumedtohavesomesemanticimpactontheuser,andLiskeptaroundpartlyforthatpurpose.Eachreasonwillhaveanumericrating(anumberbetween0and1000)assignedtoitlocally,bytheheuristicrulewhichproposedthetaskforthatreason.Oneglobalformulawillthencombineallthereasons'ratingsintoonesinglepriorityvalueforthetask.4.2.2TheRatingsCaineIngeneral,ataskontheagendalistwillhaveseveralreasonsinsupportofit.EachreasonconsistsofanEnglishphraseandanumericrating.Howcanataskhavemorethanonereason?Therearetwocontributingfactors:(i)Asingleheuristicrulecanhaveseveralreasonsinsupportofajobitsuggests,and(ii)Whenarulesuggestsa"new"task,thatverysametaskmayalreadyexistontheagenda,withquitedistinctreasonstackedonthere.Inthatcase,thenewreason(s)areaddedtothealready-knownones.Onegloba,formulalooksatalltheratingsforthereasons,andcombinesthemintoasingleLpriorityvalueforthetaskasawhole.Belowisthatformula,inallitsgorydetail:Worth(J)+IISQRT(SUMRi2)IxI.2xWorth(A).3xWorth(F).SxWorth(C)]WhereJajobtobejudgeds(ActA,FacetF,ConceptC)and{Ri}aretheratingsofthereasonssupportingJ.Forexample,considerthejobJ(CheckexamplesofPrimes).TheactAwouldbe"Check",whichhasanumericworthof100.ThefacetFwouldbe"Examples",whichhasanumericworthof700.TheconceptCwouldbe"Primes",whichatthemomentmighthaveWorthof800.Saytherewerejourreasons,havingvalues200,300,200,and500.Thedoublelines"11...11"indicatenormalization,whichmeansthatthefinalvalueofthesquare-rootmustbebetween0andi,whichisdonebydividingtheresultoftheSquare-rootby1000andthentruncatingto1.0iftheresultexceedsunity.Inthiscase,wefirstcomputeSqrt(2002300220025002)Sqrt(420,000),whichisabout648.Afternormalization,thisbecomes0.648.Theexpressioninsquarebracketsintheformula7isactuallycomputedasthedot-productoftwovectors8inthiscaseitisthedot-productof(100700800)and(.2.3.5),whichyields630.ThisismultipliedbythenormalizedSquare-rootvalue,0.648,andweendupwithafinalpriorityratingof408.Thefourreasonseachhaveafairlylowpriority,andthetotalpriorityofthetaskisItisinfacttrivialtoIMAGINEit.OfcourseDOINGitisquiteabitlesstrivial.Infact,itprobablyisthetoughestofallthe'openresearchproblems"I'llpropose.Namely,O.2xWorth(A)O.3xWorth(F)O.5xWorth(C).8Namely,<Worth(A),Worth(F),Worth(C)>and<.2,3,.5>.Thedot-productof<*aa2s3..>and<hib2b3...>isdefinedas(alxbl)(2xb2)(3xb3)*_I:t:t:??-::-T'i?'T:".-t:-:'.'?::---T't'--"'':-:?"L-,-:..-':.F-,Chapter4AM:DiscoveryinMathematicsasHeuristicSearch-41-thereforenotgreat.Itis,however,higherthananysinglereasonmultipliedby0.648.Thisisbecausetherearemanydistinctreasonssupportingit.Theglobalformulaunitingthesereasons'valuesdoesnotsimplytakethelargestofthem(ignoringtherest),nordoesitsimplyaddthemup.Theaboveformulawasintendedoriginallyasafirstpass,anadhocguess,whichIexpectedI'dhavetomodifylater.Sinceithasworkedsuccessfully,Ihavenotmessedwithit.ThereisnoreasonbehindIt,nojustificationfortakingdot-productsofvectors,etc.Iconcluded,andrecentexperimentstendtoconfirm,thattheparticularformoftheformulaisunimportant;onlysomegeneralcharacteristicsneedbepresent:1.Thepriorityvalueofataskisamonotoneincreasingfunctionofeachofitsreasons'ratings.Ifanewsupportingreasonisfound,thetask'svalueisincreased.Thebetterthatnewreason,thebiggertheincrease.2.Ifanalready-knownsupportingreasonisre-proposed,thevalueofthetaskisnotincreased(atleast,it'snotincreasedverymuch).Likehumans,AMisfooledwheneverthesamereasonreappearsindisguisedform.3.ThepriorityofataskinvolvingconceptCshouldbeamonotoneincreasingfunctionoftheoverallworthofC.Twosimilartas!sdealingwithtwodifferentconcepts,eachsupportedbythesamelistofreasonsandreasonratings,shouldbeorderedbytheworthofthosetwoconcepts.Ibelievethatallofthesecriteriaareabsolutelyessentialtogoodbehaviorofthesystem.Severaloftheexperimentsdiscussedlaterbearonthisquestion(SeeSection6.2,page125).Notethatthemessyformulagivenonthelastpagedoesincorporateall3oftheseconstraints.Inaddition,thereareafewfeaturesofthatformulawhich,whileprobablynotnecessaryorevendesirable,thereadershouldbeinformedofexplicitly:1.Thetask'svaluedoesnotdependontheorderinwhichthereasonswerediscovered.Thisisnottruepsychologicallyofpeople,butitisafeatureoftheparticularpriority-estimatingformulainitiallyselected.2.Tworeasonsareeithercons~aeredidenticalorunrelated.Noattemptismadetoreducethepriorityvaluebecauseseveralofthereasonsareoverlappingsemanticallyorevenjustsyntacticaly.This,too,isnodoubtamistake.3.Thereisnoneedtokeeparoundalltheindividualreasons'ratingnumbers.Theadditionofanewreasonwilldemandonlytheknowledgeofthenumberofotherreasons,andtheoldpriorityvalueofthetask.4.Ataskwithnoreasonsgetsanabsolutezerorating.Asnewreasonsareadded,thepriority!cowlyincreasestowardanabsolutemaximumwhichisdependentupontheoverallworthoftheconceptandfacetinvolved.Thereisonetopicofpassinginterestwhichs;ouldbecoveredhere.EachpossibleActA(e.g.,Fillin,Check,Apply)andeachpossiblefacetF(e.g.,Examples,Definition,Name(s))isassignedafixednumericvalue(byhand,bytheauthor).Thesevaluesareusedinsidetheformulaonthelastpage,whereitsays'Worth(A)'and'Worth(F)'.Theyarefairlyresistanttochange,butcertainorderingsshouldbemaintainedforbestresults.E.g.,"Examples"shouldberatedhigherthan"Specializations",orelseAMmaywhirlawayonacycleofspecializationlongaftertheconcepthasbeenconstrainedintovacuousness.AsfortheActs,theirprecisevaluesturnedouttobeevenlessImportantthantheFacets'.Nowthatwe'veseenhowtocomputethispriorityvalueforanygiventask,let'snotforgetwhatit'susedfor.Theoverallratinghastwofunctions:TvChapter4AM:DiscoveryinMathematicsasHeuristicSearch-42-(I)Thetasksontheagendalistareorderedbytheirratings,andAMalwayschoosesthetoptask.Thusthisratingdetermineswhichtasktoexecutenext.Thisisnotanironcladpolicy:Inreality,AMprintsoutthetopfewtasks,andtheuserhastheoptionofinterruptinganddirectingAMtow,)rkononeofthoseothertasksinsteadoftheverytopone.(11"Onceataskischosen,itsoverallratingdetermineshowmuchtimeandspaceAMwillexpendonitbeforequittingandmovingontoanewtask.ThepreciseformulaeRreunimportant.Roughly,the0-1000ratingisdividedbytentodeterminehowmuchtimetoallow,incpuseconds.Theratingisdividedbytwotodeterminehowmuchspacetoallow,inlistcells.4.3.HeuristicsCreateNewConceptsRecallthataheuristicrule'sactionsareofthreetypes:1.Suggestnewtasksandaddthemtotheagenda.2.Createanewconcept.3.Fillinsomeentriesforafacetofaconcept.-Thissubsectiondiscussesthesecondactivity.Hereisthebasicideainanutshell:Scatteredamongthe"thingstodo"intheright-hand-sideofarulearesomerequeststocreatespecificnewconcepts.Foreachsuchrequest,theheuristicrulemustspecifyhowtoconstructit.Atleast,therulemustspecifywaysofassemblingenoughfacetsofthenewconcepttodisambiguateitfromalltheotherknownconcepts.Typically,therulewillexplainhowtofillintheDefinitionoforanAlgorithmforthenewconcept.Afterexecutingtheseinstructions,thenewconceptwill"exist",andafewofitsfacetswillbefilledin,andafewnewjobswillprobablyexistontheagenda,indicatingthatAMmightwanttofillincertainotherfacetsofthisnewconceptInthenearfuture.4.3.1.AnIllustration:DiscoveringPrimesHereisaheuristicrulethatresultsinanewconceptbeingcreated:Ifthecurrenttaskwas(Fill-inexamplesofF),andFisanoperationfromdomainspaceAintorangespace8,'andmorethan100itemsareknownexamplesofA(inthedomainofF),andmorethan10rangeitems(inB)werefoundbyapplyingFtothesedomainitems,andatleastIoftheserangeitemsisadistinguishedmember(esp:extremum)9ofB,,Then(foreachsuchdistinguishedmember'b'(8)createthefollowingnewconcept:ThisIshandledasfollows:AMtakesthegivenlistofrangeitemsIteliminatesanywhicharenotinteresting(accordingtoInterests(B))orextreme(anentryonB.Exs-Bdy,theboundaryexamplesofB).Finally,allthoseextreme,0,rangeitemsaremovedtothefrontofthislist.AMbeginswalkingdownthislist,cresatingnewconceptsaccordingtotheruleSoonerorlater,atimer(orastorage-spce-walcher)willterminatethiscostlyactivity.Onlythefrontmostfewrangeitemsonthelistwillhavegeneratednewconcepts.So"especic'ly"reallyjustmeanspriorityconsideration.Chapter4AM:DiscoveryinMathematicssHeuristicSeirch-43-Name:F-Inverse-of-bDefinition:XWF(x)isb)Generalization:AWorth:Average(Worth(A),Worth(F),Worth(B),Worth(b),llExamples(B)II)Interest:AnyconjectureinvolvingboththisconceptandeitherForInverse(F)Incasetheuserasks,thereasonfordoingthisis:"WorthwhileinvestigatingthoseA'swhichhaveanunusualF-value,namely,thosewhoseF-valueisb"Thetotalamountoftimetospendrightnowonallofthesenewconceptsiscomputedas:Halftheremainingcputimeinthecurrenttask'stimequantum.ThetotalamountofspacetospendrightnowoneachofthesenewconceptsIscomputedas:Theremainingspacequantumforthecurrenttask.AlthoughsomeexamplesofF-inverse-of-bmightbeeasilyobtained(oralreadyknown)atthemomentofitscreation,theaboveruledoesn'tspecificallytellAMhowtofillinthatfacet.'Theverylastlineoftheheuristicindicatesthatafewcpusecondsmaybespentonjustthissortofactivity:fillinginfacetsofthenewconceptwhich,thoughnotexplicitlymentionedintherule,areeasytofillinnow.AnyfacetXwhichdidn'tgetfilledin"rightnow'willprobablycauseanewtasktobeaddedtotheagenda,oftheform:"FillinfacetXofconceptF-inverse-of-b".Eventually,AMwouldchoosethattask,andspendalargequantumoftimeworkingonthatsinglefacet.Heuristicsforthenewconceptarequitehardtofillin.ThiswasoneofAM'smostseriouslimitations,infact(seeChapter7).Above,weseeatrivialkindof"heuristicschema"ortemplate,whichgetsinstantiatedtoprovideonenew,specializedheuristicaboutthenewconcept.Thatnewheuristictellshowtojudgetheinterestingnessofanyconjecturewhichcropsupinvolvingthisnewconcept.Wheneversuchconjecturesgetproposed,theyareevaluatedbycallingonjustsuchheuristics.Nowlet'slookataninstanceofwhenthisheuristicwasused.Atonepoint,AMwasworkingonthetask"Fill-inexamplesofDivisors-of".Thisheuristic'sIF-partwastriggeredbecause:Divisors-ofisanoperation(fromNumberstoSetsofnumbers),andfarmort"than100differentnumbersareknown,andmorethan10differentsetsoffactorswerefoundaltogether,andsomeofthemweredistinguishedbybeingextremekindsofsets:empty-sets,singletons,doubletonsandtripletons.Afteritsleftsidetriggered,theright1eoftheheuristicrulewasexecuted.Namely,fournewconceptswerecreatedimmediately.Hereisoneofthem:(.2Chapter4AM:DiscoveryinMathematic3asHeuristicSearch-44-Name:Divisors-of-Inverse-of-DoubletonDefinition:X(x)(Divisors-of(x)isaDoubleton)Generalization:NumbersWorth:100Interest:AnyconjectureinvolvingboththisconceptandeitherDivisors-oforTimesThisisaconceptrepresentingacertainclassofnumbers,Infactthenumberswecallprimes.Theheuristicresetsacertainvariable,sothatincasetheuserinterruptsandasksWhy?,AMinformshim:"Thisconceptwascreatedbecauseit'sworthwhileInvestigatingthosenumberswhichhaveanextremedivisors.ofvalue;inthiscase,numberswhichhaveonlytwodivisors".AMwaswillingtospendhalftheremainingquantumoftimeallottedto"FillinexamplesofDivisors-of"onthesefournewconceptsoTheheuristicruleIsapplicabletoanyoperation,notjustnumericones.Forexample,whenAMwasfillinginexamplesofSet-Intersection,itwasnoticedthatsomepairsofsetsweremappedIntotheextremekindofsetEmpty-set.TheaboverulethenhadAMdefinetheconceptofDisjointness:pairsofsetshavingemptyintersection.4.3.2.TheTheoryofCreatingNewConceptsAlltheheuristicrulemustdoIstofillinenoughfacetssothatthenewconceptisdisambiguatedfromalltheothers,sothatitis"defined"clearly.ShouldAMpauseandfillinlotsoffacetsatthattime?Afterall,severalpiecesofinformationaretrivialtoobtainatthismoment,butmaybehardtoreconstructlater(e.g.,thereasonwhyCwascreated).Ontheotherhand,fillinginanythingwithoutagoodreasonisabadidea(itusesuptimeandspace,anditwon'tdazzletheuserasabrilliantchoiceofactivity).SotheuniversalmottoofMistofillinfacetsofanewconceptIfandonlyifthatfilling-inactivitywillbemi.cheasieratthatmomentthanlateron.Inalmostallcases,thefollowingfacetswillbespecifiedexplicitlyintheheuristicrule,andthuswillgetfilledinrightaway:Definitions,Algorithms,Domain/range,Worth,plusatieto10Sometrivialdetails.One-eighthoftheremainingtimeisspentoneachofthese4concepts:Numbsrs-with-O-divisors,Numbre-with-l-divisor,Numbers-wth-2-divisors,Numbsrs-wilh-3-divisors.Theoriginatltime/spacelimitswereinrealityabout25cpusecondsand800listcells,andatthemomentthisheuristicwascalled,onlyabout10secondsand600cellsremained,soel.theconceptPrimeswasallottedonly1.2cpusecondsto"getofftheground".Thiswasnoproblem,asitusedfarlessthanthat.Theheuristicrulestatesthateachofthefournewconceptsmayuseupthefullremainingspaceallocation(600celia),and,e.g.,Primesneededonlyafractionofthatinitially.jThereadermaywithtoglanceaheadtoSection5.2,page67tonotethefullrangeoffacetsthatanyconceptmaypossess:whattheirnamesare,andthekindofinformationthatisstoredineach.Chapter4AM:DiscoveryinMathematicsasHeuristicSearch.45-somerelatedconcept(e.g.,ifthenewconceptisageneralizationofEquality,thenwecantriviallyfillinanentryonitsSpecializationsfacet:"Equality".)Ontheotherhand,thefollowingfacetswillnotbetrivialtofillin:Conjectures,Examples,Generalizations,Specializations,andInterestingness.Forexample,fillingintheSpecializationsfacetofanewconceptmayinvolvecreatingsomenewconcepts;findingsomeentriesforitsConjecturesfacetmayinvolveagreatdealofexperimenting;findingsomeExamplesofitmayinvolvetwistingitsdefinitionaroundorsearching.Noneoftheseiseasiertodoattimeofcreationthananyothertime,soit'sdeferreduntilsomereasonfordoingitexists.Foreachsuch"time-consuming"facetF,ofthenewconceptC,onenewtaskgetsaddedtotheagenda,oftheform"FillinentriesforfacetFofconceptC",withreasonsoftheform"BecauseCwasjustcreated,"andalso"NoentriesexistsofaronC.F"2Mostofthetasksgeneratedthiswaywillhavelowpriorityrating,andmaystaynearthebottomoftheagendauntiliunlesstheyarere-suggestedfoianewreason.UsingthePrimesexample,fromthelastsubsection,weseethatanewtasklike"FillinspecializationsofPrimes"wassuggestedwithalowrating,and"FillinexamplesofPrimes"wassuggestedwithamediocrel3rating.Theratingsofthesetasksincreaselateron,whenthesametasksarere-proposedfornewreasons.4.3.3.AnotherIllustration:SquaringanumberLet'stakeanothersimple(butnotatypical)illustrationofhownewconceptsgetcreated.(Thereadermayskipthissubsection;ItcontainsmoredetailsabouthowAMactuallysetsupnewconcepts.)AssumethatAMhasrecentlydiscoveredtheconceptofmultiplication,whichitcalls"TIMES,"andAMdecidesthatitisveryinteresting.Aheuristicruleexistswhichsays:!4Ifanewly-interestingoperationF(x,y)takesapairofN'sasarguments,Thencreateanewconcept,aspecializationofF,calledF-Itself,takingjustoneNasargument,definedasF(x,x),withinitialworthWcrth(F).thecaseofFTIMES,weseethatFtakesapairofnumbersasItsarguments,sotheheuristicrulewouldhaveAMcreateanewconceptcalledTIMES-Itself,definedasTIMES-12C.FisanabbreviationforfacetFofconceptC13NotalowaratingasthetaskjustmentionedWhy?EachpossiblefacethasaworthratingwhichisfixedonceandforallAsanillustration,wementionthatthefacetExamplesisratedmuchhigherthanSpecializations.Whyisthis?Becauselookingforexamplesofaconceptisoftenagoodexpenditureoftime,producingtherawdataonwhichempiricalinductionthrives.Ontheotherhand,eachspecializationofthenewconceptCwoulditelfbeabrandnewconcept.SofillinginentriesfortheSpecializationsfacetwouldbeaveryexplotivdprocess.ByglancingbackatthePrimesexample,twosubsectionsago,pige42,youcanimaginewhatthisruleactuallylookedlikeThereIsnothingtobegainedbystretchingitoutinallteglory,henceryetakenthelibertycondensingit,insertingpronouns,etc.7,Chapter4AM:DiscoveryinMathematicsasHeuristicSearch-46-Itself(x)TIMES(x,x).Thatis,createthenewconceptwhichistheoperationofsquaringanumber.WhatwouldAMdointhissituation?Thegloballistofconceptswouldbeenlargedtoincludethenewatom"TIMES-Itself",andthefacetsofthisnewconceptwouldbegintobefilledin.Thefollowingfacetswouldgetfilledinalmostinstantly:NAME:TIMES-ItseifDEFINITIONS:ORIGIN:,(x,y)[TIMES.DEFN(x,x,y)]ALGORITHMS:x)[TIMES.ALG(x,x)]DOMAIN/RANGE:Number-4NumberGENERALIZATIONS:TIMESWORTH:600Thename,definition,domain/range,generalizations,andwortharespecifiedexplicitlybytheheuristicrule.ThelambdaexpressionstoredunderthedefinitionfacetisanexecutableLISPpredicate,whichacceptstwoargumentsandthenteststhemtoseewhetherthesecondoneisequaltoTIMES-Itselfofthefirstargument.ItperformsthistestbycallinguponthepredicatestoredunderthedefinitionfacetoftheTIMESconcept.ThusTIMES-Itself.Defn(4,16)willcallonTIMES.Defn(4,4,16),andreturnwhatevervaluethatpredicatereturns(inthiscase,itreturnsTrue,since4x4doesequal16).Atrivialtransformationofthisdefinitionprovidesanalgorithmforcomputingthisoperation.ThealgorithmsaystocallontheAlgorithmsfacetoftheconceptTIMES.ThusTIMES.Itself.Alg(4)iscomputedbycallingonTIMES.Aig(4,4)andreturningthatvalue(namely,16).TheworthofTIMESwas600atthemomentTIMES-Itselfwascreated,andthisbecomestheworthofTIMES-Itself.TIMES-ItselfisbydefinitionaspecializationofTIMES,sotheSPECIALIZATIONSfacetofTIMESisincrementedtopointtothisnewconcept.Likewise,theGENERALIZATIONSfacetofTIMES-ItselfpointstoTIMES.Notehoweasyitwastofillinthesefacetsnow,buthowdifficultitmightbelateron,"outofcontext".Bywayofcontrast,thetaskof,e.g.,fillinginSpecialtzgtonsofTIMES-Itselfwill+-"benoharderlateronthanitisrightnow,sowemayaswelldeferItuntilthere'sagoodV;..'-.-,,Chapter4AM:DiscovoryinMathematicsasHeuristicSearch-47-r,reasonforit.ThistaskwillprobablybeaddedtotheagendawithsolowaprioritythatAMwillnevergetaroundtoit,unlesssomenewreasonsforitemerge.Thetask"Fill-inexamplesofTIMES-Itself"isprobablyworthwhiledoingsoon,butagainitwon'tbeanyhardertodoatalatertimethanitisrightnow.Soitisnotdoneatthemoment;rather,itisaddedtotheagenda(withafairlyhighpriority).Incidentally,thereadermaybeinterestedtoknowthattheriextfewtasksAMselected(inreality)weretocreatetheinverseofthisoperation(i.e.,integersquare-root),andthentocreateanewkindofnumber,theoneswhichcanbeproducedbysquaring(i.e.,perfectsquares).PerfectsquaresweredeemedworthhavingaroundbecauseInteger-square-rootisdefinedpreciselyonthatsetofintegers.4.4.HeuristicsFillinEntriesforaSpecificFacetThelasttwosubsectionsdealtwithhowaheuristicruleisabletoproposenewtasksandcreatenewconcepts.Thissectionwillillustratehowarulecanfindsomeentriesforagivenfacetofaspecificconcept.Typically,thefacet/conceptinvolvedwillbetheonementionedinthecurrenttaskwhichwaschosenfromtheagenda.Ifthetask"FillinExamplesofSet-union"werepluckedfromtheagenda,thenthe"relevant"heuristicswouldbethoseusefulforfillinginentriesfortheExamplesfacetoftheSet.unionconcept.Thereisanimportantclassofexceptionstothis,however:conjectures.Someruleswillspecifyplausiblerelationshipstolookfor;iffound,theyconstituteanewconjecture.Forexample,thereaderwillseeinSection4.4.4,onpage52,thattheuniquefactorizationtheoremisproposedmerelyasanobservationoftheform"TherangeofoperationFisnotjustBbutratherthemorespecializedconceptBB".Theparticularcaseoftheuniquefactorizationtheoremleadstothisstatement:"TherangeofPrime-factoringst5isnotjust'Sets'butrather'Singletons'."Infact,thiswholeconjectureisrecordedbymerelyreplacing<Number-+Set>by<Number-4Singleton>asanentryontheDomain/rangefacetoftheconceptPrtme.factorings.ThereadermaybesurprisedtolearnthattheonlykindofconjectureAMcanmakeisofthatform(addanewentrytosomefacetofsomeconcept)'6Apparently,thisissufficienttoplausiblynoticeandstatemostinterestingconjectures.Gooddefinitioismakethesta,.ementsoftheoremsshortandsimple.'715Prime-factoring(s),alsocalledPrime-times(s),isthesetofallbiag.of-primeswhoseproductisx;i.e.,allwaysoffactoringxintoprimes.l6That'swhy"conjecturing'mclassifiedunderthe"add-an-entry"typeofheuristicruleaction.17Exerciseforthedoubtingreader:Statetheuniqluefactorizationtheoreminpurelyset-theoreticterms.S(riously,oneimportantwaythatdefinitionsareinventedistoseewhatbulkyconstructinatheoremcanbecollapsedintoesingletermTypicallyonehopesthatthetermwillbeusedelsewhere,ofcourse.-7-"(-""+...+'"--+-...°-"'*-"-*-"."."-',".-","_.--,..:.5..Chapter4AM:DiscoveryinMathematicsasHeuristicSearch-48-We'lltaketheetwokindsof"fillinginentries"oneatatime:firstthestandard"findanentryforthefacetoftieconceptmentionedinthecurrenttask",followedbytheInterestingbutrareractivityof"lookingforaconjecture".4.4.1.AnIllustration:"FillinExamplesofSet-union"Recallthatataskistypicallyoftheform"FillinfacetFofconceptC".Howcanexecutingrelevantheuristicrulessatisfysuchatask?Thissubsectionillustrateshowaheuristicrulemightbeexecutedtofindsomeentriesforthefacetdesignatedbythecurrenttask.Atypicalheuristic,attachedtntheconceptActivity,says:Ifthecurrenttaskistofillinexamplesoftheactivity18F,OnewaytogetthemistorunFonrandomlychosenexamplesofthedomainofF.Ofcourse,intheLISPimplementation,thissituation-actionruleIsnotcodedquitesoneatly.itwouldbemorefaithfullytranslatedasfollows:IfCURRENT-TASKmatches(FILLINEXAMPLESF-anything)),andFisaActivity,Thencarryoutthefollowingprocedure:1.FindthedomainofF,andcallitD;2.FindexamplesofD,andcallthemE;3.FindenalgorithmtocomputeF,andcallitA;4.Repeatedly:4a.ChooseanymemberofE,andcallitEl.4b.RunAonEl,andcalltheresultX.4c.Checkwhether<El,X>satisfiesthedefinitionofF.4d.Ifso,thenadd<El-*X>totheExamplesfacetofF.4e.Ifnot,thenadd<ElX>totheNon-examplesfacetofF.Let'stakeaparticularinstancewherethisrulewouldbeuseful.Saythecurrenttaskis"FillinexamplesofSet-union".Theleft-hand-sideoftheruleissatAwfied,sotheright-hand-sideisrun.Step(1)saystolocatethedomainofSet-union.ThefacetlabelledDomain/Range,ontheSet-unionconcept,containstheentry(SETSET4SET),whichindicatesthatthedomainisapairofsets.Thatis,Set-unionisanoperationwhichaccepts(asitsarguments)apairofsets,andreturns(asitsvalue)somenewset.Sincethedomainelementsaresets,step(2)saystolocateexamplesofsets.ThefacetlabelledExamples,ont.,eSetsconcept,pointstoalistofabout30differentsets.Thisincludes{Z},{A,B,C,D,E),{),{A,{{B}})....Step(3)involvesnothingmorethanaccessingsomerandomly-chosenentryontheAlgorithmsfacetofSet-union.OnesuchentryisarecursiveLISPfunctionoftwoarguments,whichhaltswhenthefirstargumentistheemptyset,andotherwisepullsan*Activity"ieagoneralconceptwhichirtcludesoperations,predicates,relations,functions,etcChapter4AM:DiscoveryinMathematicsasHeuristicSearch-49-elementoutofthatsetandSET-INSERT'sItintothesecondargument,andthenrecursesonthenewvaluesofthetwosets.Forconvenience,we'llrefertothisalgorithmasUNION.WethenentertheloopofStep(4).Step(4a)hasuschooseonepairofourexamplesofsets,saythefirsttwo{Z}and{A,B,C,D,E}.Step(4b)hasusrunUNIONonthesetwosets.Theresultis{A,B,C,D,E,Z}.Step(4c)hasusgrabanentryfromtheDefinitionsfacetofSet-union,andrunit.Atypicaldefinitionisthisformalone:(),(SI52S3)(AND(ForallxinSI,xisinS3)(ForallxinS2,xisinS3)(Forallxin53,xisinSIorxisinS2))ItisrunonthethreeargumentsS1.{Z),S2-{A,B,C,D,E},S3-{A,B,C,D,E,Z).Sinceitreturns"True",weproceedtoStep(4d).Theconstruct<{Z),{A,B,C,D,E}-+{A,B,C,D,E,ZJ>isaddedtotheExamplesfacetofSet-union.Atthisstage,controlreturnstothebeginningoftheStep(4)loop.AnewpairofsetsIschosen,andsoon.Butwhenwouldthisloopstop?Recallthateachtaskhasatimeandaspaceallotment(basedonItspriorityvalue).Iftherearemanydifferentrulesallclaimingtoberelevanttothecurrenttask,theneachoneIsallocatedasmallfractionofthosetime/spacequanta.Wheneitheroftheseresourcesisexhausted,AMwouldbreakawayata"clean"point(justafterfinishingacycleoftheStep(4)loop)andwouldrrontoanewheuristicruleforfillinginexamplesofSet-union.Thisconcludesthedemonstrationthataheuristicrulereallycanbeexecutedtoproducethekindsofentitiesrequestedbythecurrenttask.4.4.2.HeuristicsProposeNewConlecturesWesawinthesampleexcerpt(Chapter2)thatAMoccasionallynoticessomeunexpectedrelationship,andformulatesitintoapreciseconjecture.Belowisanexampleofhowthisisdone.Asyoumightguessfromtheplacementofthissubsection,19themechanisisouroldfriendtheheuristicrulewhichfillsinentriesforcertainfacets.Infact,aconjectureevolvesthroughfourstages:1.Aheuristicrulelooksforaparticularkindofrelationship.Thiswilltypicallybeoftheform"XisaGeneralizationofY",or"XisanexampleofY",or"XisthesameasY",or"FI.Defn(X,Y)"whereFlisanactiveconceptAMknowsabout,or9orrecallfromtheopeningremarkeofSection4.4"NChapter4AM:Discoveryin.MathematicsatHeuristicSearch-50-"IFl.Defn(Y,X)"0.2.Oncefound,therelationshipischecked,usingsupportingcontacts.Agreatdealofempiricalevidencemustfavorit,andanycontradictoryevidencemustbe"explainedaway"somehow.3.Nowitisbelieved,andAMprintsitouttotheuser.ItisaddedasanewentrytotheConjecsfacetofbothconceptsXandY.ItisalsoaddedasanentrytotheExamplesfacetoftheConjectureconcept.4.Eventually,AMwillgetaroundtothetask"CheckExamplesofConjecture",ortothetask"CheckConjecsofX".IfAMhadanyconceptsforprovingconjectures,theywouldthenbeinvoked.inthecurrentLISPimplementation,theseareabsent.Nevertheless,several"checks"areperformed:()seeifanynewempiricalevidence(proorcon)hasappearedrecently;(i)seeifthisconjecturecanbestrengthened;(ii)checkitforextremecases,andmodifyitifnecessary;(iv)Modifytheworthratingsoftheconceptsinvolvedintheconjecture.Theleft-hand-sideofsuchaheuristicrulewillbelongerandmorecomplexthanmostotherkinds,butthebasicactivitiesoftheright-hand-sidewillstillbefillinginanentryforaparticularfacet.*Theentriesfilledinwillinclude:(i)anewexampleofConjectures,(Ui)anewentryfortheConjecfacetofeachconceptinvolvedintheconjecture,(ii)ifwe'reclaimingthatconceptXisageneralizationofconceptY,then"X"wouldbeaddedtotheGeneralizationsfacetofY,and"Y"addedtotheSpecializationsfacetofX,()ifXisanExampleofY,"X"isaddedtotheExamplesfacetofY,and"Y"isaddedtotheISAfacetofX.Theright-hand-sidemayalsoinvolveaddingnewtaskstotheagenda,creatingnewconcepts,andmodifyingentriesofparticularfacetsofparticularconcepts.Asistrueofallheuristicrules,bothsidesofthistypeofconjecture-perceivingrulemayrunanylittlefunctionstheywantto:anyfunctionswhicharequickandhavenosideeffects(e.g.,FORALLtests,PRINTfunctions,accessestoaspecifiedfacetofsomeconcept).4.4.5.AnIjiustration:"Allprimesexcept2areodd"Asanillustration,hereisaheuristicrule,relevantwhencheckingexamplesofanyconcept:-20;,,.,20TheselostIwosoythatFIM),Y,anidthatFI(-X,respectively.Chapter4AM:DitcoveryinMathematicsasHeturisticSearch-51-IfthecurrenttaskistoCheckExamplesofX,and(ForsomeY)YisageneralizationofX,andYhasatleast10examples,andallexamplesofY(ignoringboundarycases)arealsoexamplesofX,Thenprintthefollowingconjecture:XisreallynomorespecializedthanY,andaddittotheExamplesfacetofConjectures,andiftheuserasks,informhimthattheevidenceforthiswasthatallIlExamples(Y)IY's(ignoringboundaryexamplesofY's)turnedouttobeX'saswell,andCheckthetruthofthisconjectureonboundaryexamplesofY,andadd"X"totheGeneralizationsfacetofY,andadd"Y"totheSpecializationsfacetofX,and(ifthereisanentryintheGeneralizationsfacetofY)addthefollowingtasktotheagenda"CheckexamplesofY",forthereason:"JustasYwasnomoregeneralthanX,one-ofGeneralizations(Y)mayturnouttobenomoregeneralthanY",witharatingforthatreasoncomputedas:0.4xllExamples(Generalizations(Y))II0.3xllExamples(Y)lI0.3xPriority(Currenttask).Lei'stakeaparticularinstancewherethisrulewouldbeuseful.Saythecurrenttaskis"CheckexamplesofOdd-primes".Theleft-hand-sideoftheruleisrun,andissatisfiedwhenthegeneralizationYistheconcept"Primes".Let'sseewhythisissatisfied.OneofentriesoftheGeneralizationfacetofOdd-primesis"Primes".AMgrabsholdofthe30examplesofprimes(locatedontheExamplesfacetofPrimes),andremovestheoneswhicharetaggedasboundaryexamples("2"and"3").AdefinitionofOdd-primenumbersisobtained(DefinitionsfacetofOdd-primes),anditisrunoneachremainingexampleofprimes(5,7,11,13,17,...Sureenough,theyailsatisfythedefinition.Soallprimes(ignoringboundarycases)appeartobeodd.Theleft-hand-sideoftheruleissatisfied.Atthispoint,theuserseesamessageoftheform"Odd-primesisreallynomorespecializedthanPrimes".IfheinterruptsandasksaboutIt,heistoldthattheevidenceforthiswasthatall30primes(ignoringboundaryexamplesofprimes)turnedouttobeOdd-primes.Oftheboundarye'.amples(thenumbers2and3),onlytheinteger"2"failstobeanodd-prime,sothetheuserisnotifiedofthefinalizedconjecture:"Allprimes(otherthan'2')arealsoodd-primes".TnlsisaddedasanentryontheExamplesfacetoftheconceptnamed'Conjectures.Beforebeginningallthis,theGeneralizationsfacetofOdd-primespointedtoPrimes.Now,thisrulehasusadd"Primes"asanentryontheSpecializationsfacetofOdd-primes.ThusPrimesisbothageneralizationandaspecializationofOdd-primes(towithinasinglestrayexception),andAMwillbeabletotreatthesetwoconceptsasiftheyweremergedtogether.Theyarestillkeptseparate,however,incaseAMeverneedstoknowpreciselywhatthedifferencebetweenthemis,orincaselaterevidenceshowstheconjecturetobefalse21.21Whenspaceisexhausted,oneemergencymeasureAMtakeeitodestructivelycoalesceapairofconceptsXYwhereXisbothageneralizationofandaspecializationofY,evendtthereareacouple"boundary"exception*,t,N1I.ZWUChapter4AM:DiscoveryinMathematicsasHeuristicSearch-52-Thefinalactionoftheright-hand-sideofthisruleistoproposeanewtask(ifthereexistsomegeneralizationsoftheconceptY,whichinourcaseis"Primes").SoAMaccessestheGeneralizationsfacetofPrimes,whichis"(Numbers)".Anewtaskisthereforeaddedtotheagenda:"CheckexamplesofPrimes",withanassociatedreason:"JustasPrimeswasnomoregeneralthanOdd-primes,soNumbersmayturnouttobenomoregeneralthanPrimes".Thereasonisratedaccordingtotheformulagivenintherule;sayitgetsthevalue500.Tomakethisexamplealittlemoreinteresting,let'ssupposethatthetask"CheckexamplesofPrimes"alreadyexistedontheagenda,butforthereasoln"ManyexamplesofPrimeshavebeenfound,butneverchecked",witharatingforthereasonof100,andforthetaskasawholeof200.Theglobaltask-ratingformulathenassignsthetaskanewoverallpriorityof600,becauseofthenew,fairlygoodreasonsupportingit.Whenthattaskiseventuallychosen,theheuristicrulepicturedabove(atthebeginningofthissubsection)willtriggerandwillberunagain,withX-PrtmesandY-Numbers.Thatis,AMwillbeconsideringwhether(almost)allnumbersareprimes.Theleft-hand-sideoftheheuristicrulewiliquicklyfail,since,e.g.,"6"isanexampleofNumberswhichdoesnotsatisfythedefinitionofPrimes.4.4.4.Anotherillustration:DiscoveringUniqueFactorizationBelowisaheuristicrulewhichisakeyagentintheprocessof"noticing"thefundamentaltheoremofarithmetc22.(Thereadermayskipthissubsection;itcontainsmoredetailsabouthowAMactuallyproposedconjectures).IfF(a)isunexpectedlyaB,Thenmaybe(Vx)F(x)isaB.Below,thesameruleisgiveninmoredetail.ThefirstconjunctontheIF-partofthe-.heuristicruleindicatesthatit'srelevanttocheckingexamplesofanygivenoperationF.Atypicalexampleisselectedatrandom,sayF(x),y.Thenyisexamined,toseeifitsatisfiesanymore3trlngentpropertiesthanthosespecifiedintheDomain/rangefacetofF.Thatis,theDomain/rangefacetofFcontainsanentryoftheformA4B;soifxisanA,thenallwe.reguaranteedaboutyisthatitisanexampleofaB.Butnow,thisheuristicisaskingifyisn'treallyanexampleofamuchmorespecializec,conceptthanB.Ifitis(sayit'sanexampleofaBB),thentherestoftheexamplesofFareexaminedtoseeiftheytoosatisfy-~,.thissameproperty.IfallexamplesappeartomapfromdomainsetAIntorangesetBB(whereBBismuchmorerestrictedthanthesetBspecifiedoriginallyintheDomain/rangefacetofF),thenanewconjectureismade:thedomain/rangeofFisreallyA-+BB,notA-+B.HereIsthatrule,incrispernotation:p1,.222Theun;quefactorizationconjectureanypositiveintegerncanberepresentedastheproductofprimenumbersin'%':~.preciselyoneway(towithinreorderingiofthoseprimefactors)Thus28W2x2x7,andwedon't*distinguishbetweenthefactorization(227)and(272).,.,Chapter4AM:DiscoveryinMathematicsasHeuristicSearch-53-*IfthecurrenttaskistoCheckExamplesoftheoperationF,andFisanoperationfromdomainAintorangeB,andFhasatleast10examples,andatypicaloneoftheseexamplesis"<x-y>"(sox(Aandy(B),and(ForsomeSpecializationBBofB),yisaBB.andallexamplesofF(ignoringboundarycases)turnouttobeBB's,Thenprintthefollowingconjecture:"F(a)isalwaysaB8,notsimplyaB",andaddittotheExamplesfacetofConjecturesconcept,andadd"<A-+BB>"asanewentrytotheDomain/rangefacetofF,replacing"<A--)B>",andiftheuserasks,informhimthattheevidenceforthiswasthatallIlExamples(F)IIandexamplesofF(ignoringboundaryexamples)turnedouttobeBB's,andcheckthetruthofthisconjecturebyrunningFonboundaryexamplesofA.ra.Let'sseehowthisrulewasusedinoneinstance.InTask79inthesampleexcerptinChapter2,AMdefinedtheconceptPrime-times,whichwasafunctiontransforminganynumbernintothesetofallfactorizatior,sofnintoprimes.Forexample,Prime-times(12)-{(223)),Prime-times(I3)-{(13)}.ThedomainofF-Prime-timeswastheconceptNumbers.TherangewasSets.Morep,,ecisely,therangewasSets.of-Bags-of-Numbers,butAMdidn'tknowthatconceptatthattime.Theaboveheuristicrulewasapplicable.FwasPrime-times,AwasNumbers,andBwasSets.Therewerefarmorethan10knownexamplesofPrime-timesinaction.Atypicalexamplewasthisone:<21-+{(3,7)}>.Therulenowaskedthat1(3,7))befedtoeachspecializationofSets,toseeifitsatisfiedanyoftheirdefinitions.TheSpecializationsfacet1ofSetswasacccessed,andeachconceptpointedtowasrun(itsdefinitionwasrun)ontheargument"{(3,7)}".ItturnedoutthatSingletonandSet-of-doubletonsweretheonlytwospecializationsofSetssatisfiedbythisexample.Atthismoment,AMhadnarroweddownthepotentialconjecturestothesetwo:1.Prime-times(x)isalwaysasingletonset.2.Prime-times(x)isalwaysasetofdoubletons.EachexampleofPrime-timeswasexamined,untilonewasfoundtorefuteeachconjecture(forexample,<84{(2,2,2))>destroysconjecture2).ButnoexamplewasabletodisproveconjectureI.Sotheheuristicruleplungedforward,andprintedouttotheuser"Anewconjecture:Prime.times(n)isalwaysasingleton-set,notsimplyaset".Theentry<Numbers-.Singleton-sets>wasaddedtotheDomain/rangefacetofPrime-times,replacingtheoldentry<NumbersSets>.Let'sdigressforamomenttodiscusstherobustnessofthesystem.WhatifthisheuristicCweretobeexcised?CouldAMstillproposeuniquefactorization?Theanswerisyes,thereareotherwaystonoticeit.IfAMhastheconceptofaFunction23thenaheuristicruleliketheoneintheprevioussubsection(page50)-willcauseAMtoaskifPrime-timesisnotmerelyarelation,butalsoaFunction.23Asingle-valuedrelationThatis,foranydomainelementx,F(x)containspriualyonemember.ftisneverempty(is,undefined),norisiteverlargerthanasingletonis,multiple-vakiad).Chapter4AM:DiscoveryinMathematicsasHeuristicSearch-54-Thepastfewsectionsshouldhaveconvincedthereaderthatisolatedheuristicrulesreallycandoallkindsofthings:proposenewtasks,createnewconcepts,fillinentriesforspecificfacets(goal-driven),andlookforconjectures(data-drivenempiricalinduction).Therulesappearfairlygeneral24thoughthatmustbelaterverifiedempirically.Theyareredundantinapleasingway:someofthemost"important",well-known,andinterestingconjecturescan(apparently)bederivedinmanyways.Again,we'llhavetocheckthisexperimentally.4.5.GatheringRelevantHeuristicsEachconcepthasfacetswhichcontainsomeheuristics.Someoftheseareforfillingin,someforchecking,somefordecidinginterestingness2somefornoticingnewconjectures,etc.AMcontainshundredsoftheseheuristics.Inordertosavetime(andtomakeAMappearmorerational),eachheuristicshouldonlybetriedinsituationswhereItmightapply,whereitmakessense.HowisAMabletozeroinontherelevantheuristicrules,onceataskhasbeenselectedfromtheagenda?4.5.1.DomainofApplicabilityThesecretisthateachheuristicrule!ssto"edsomewhereapropostoits"domainofapplicability".This"properplace"isdeterminedbythefirstconjunctintheleft-handsideoftherule.Whatdoesthismean?Considerthisheuristic:IfthecurrenttaskistofillinexamplesoftheoperationF,<=andsomeexamplesofthedomainofFareknown,ThenonewaytogetexamplesofFistorunFonrandomlychosenexamplesofthedomainofF.Thisisareasonablethingtotrybutonlyincertainsituations.Should4betriedwhenthecurrenttaskistochecktheWorthfacetoftheSetsconcept?No,itwouldbeirrational.Ofcourse,evenifItweretriedthen,theleft-hand-sidewouldfailveryquickly.Yetsomecputimewouldhavebeenused,andiftheuserwerewatching,hisopinionofAMwould24is,applicableinmanysituationsItwouldbeworsethanuselessifaruleexistedwhichcouldleadtoasinglediscoverylike"Fibonacciseries"butneverleadtoanyotherdiscoveries.Thereasonsfordemandinggeneralityarenotoily"fairness',butthensielhtswhichoccurwhenitisobservedthatseveraldisparateconceptswere-"allmotivatedbythesamegeneralprinciple(eg,"lookingfortheinverseimageofextreme")25Thereaderhasalreadyseenseveralheuristicsusefulforfillinginandcheck,ngfacets;hereisoneforjudginginterestingness'anentryontheInterestfacetofComposesaysthatacompositionAoBismoreinterestingiftherangeofBequalsthedomainofA,,thanififtheyonlypartiallyoverlap.-Chapter4AM:DiscoveryinMathematicsasHeuristicSearch-55-decrease.26Thatparticularheuristichasaprecisedomainofapplicability:AMshoulduseitwheneverthecurrenttaskistofillinexamplesofanoperation,andonlyinthosekindsofsituations.ThekeyobservationisthataheuristictypicallyappliestoallexamplesofaparticularconceptC.In"hecasewewereconsidering,C=Operation.Intuitively,we'dliketotackthatheuristicontotheExamplesfacetoftheconceptOperation,soitwouldonly"cometomind"inappropriatesituations.Thisisinfactpreciselywheretheheuristicruleisstored.Initi.dny,theauthoridentifiedtheproperconceptCandfacetFforeachheuristicHwhichAMpossessed,andtackedHontoCF27.Thiswasallpreparation,completedlongbeforeAMstartedup.Eachheuristicwastackedontothefacetwhichuniquelyindicatesitsdomainofapplicability.ThefirstconjunctoftheIF-partofeachheuristicindicateswhereitisstoredandwhereitisapplicable.Noticethelittlearrow(<=)pointingtothatconjunctabove.WhileAMisrunning,itwillchooseataskdealingwith,say,facetFofconceptC.AMmustquicklylocatetheheuristicruleswhicharerelevanttosatisfyingthatchosentask.AMsimplylocatesallconceptswhichclaimCasanexample.Ifthecurrenttaskwere"ChecktheDomain/rangeofUnionoUnion"29,thenCwouldbeUnionoUnion.WhichconceptsclaimCasanexample?TheyincludeCompose-with.Self,Composition,Operation,Active,Any-concept,andAnything.AMthencollectstheheuristicstackedontofacetF(inthiscase,FisDomain/range)ofeachofthoseconcepts.Allsuchheuristicswillberelevant.Inthecurrentcase,somerelevantheuristicsmightbegarneredfromtheDomain/rangefacetoftheconceptOperation.AnyheuristicwhichcandealwiththeDomain/rangefacetofanyoperationcancertainlydealwithUnionoUnion'sDomain/range.AtypicalruleonOperation.Domain/range.Check°wouldbethisone:IfaDor/ranentryofFisoftheform<DDD...-+R),whereRisageneralizationof0,ThentestwhethertherangemightnotbesimplyD.SupposeoneentryonUnlonoUnion.Dom/ranwas'<Nonempty-setsNonempty-setsNonempty-sets-#Sets>'.Thenthislastheuristicrulewouldberelevant,andwouldhaveAMasktheplausiblequestion:Istheunionofthreenonemptysetsalwaysnonempty?The26Thisnotionofworryingaboutahumanuser,,oisobservingAMruninrealtimemayappeartobequitelanguage-andmachine-dependentAnincreaseinspeedofacoupleordersofmagnitudewouldradicallyMterthequalitativeappearanceofAM.InChapter7,however,thereaderwillgrasphowdifficultitistoobjectivelyrateasystemlikeAMForthatreason,allmeasuresofjudgmentmustberespected.Also,totheactualhumanbeingusingthesystemthisreallyisoneofthemostimportantmeasures.27RecallthatC.FisanabbreviationforfacetFofconceptC28IntheLISPimplementation,theicfirstconjuncteareomitted,sincetheplacementofaheuristicservesthesame29purposeatifithadsome"pre-preconditions"(likethesefirstconjuncte)todeterminerelevancequickly.ThisoperationisdefinedasUnionoUnion(x,yz)(xuy)uz.Itaccepts3seteasarguments,andreturnsanewsetasitsvalue.30the'Check'subfocwtofthe'Domain/range'facetofthe'Operation'concept.L.,..Chapter4AM:DiscoveryinMathematicsasHeuristcSearch-56-answerisaffirmative,empirically,soAMmodifiesthatDomain/rangeentryforUnionoUnion.AMwouldaskthesamequestionforIntersectolntersect.Althoughtheanswerthenwouldbe'No',It'sstillarationalinquiry.IfAMcalledonthisheuristicrulewhenthecurrenttaskwas"FillinspecializationsofBags",itwouldclearlybeanirrationalact.Thedomainofapplicabilityoftheruleisclear,andispreciselyfittedtotheslotwheretheruleisstored(tackedontoOperation.Domain/range).Torecapthebasicidea:whendealingwithatask"DoactAonfacetFofconceptC",AMmust!ocate:aiitheconceptsXclaimingCasanexample.AMthengatherstheheuristicstackedontoX.F.A,foreachsuchgeneralconceptX.Allofthemandonlytheyarerelevanttosatisfyingthattask.SothewholeproblemoflocatingrelevantheuristicshasbeenreducedtotheproblemofefficientlyfindingallconceptsofwhichCisanexample(foragivenconceptC).This.processiscalled"ripplingawayfromCintheISAdirection",andformsthesubjectofthenextsubsection.4.5.2.RipplingGivenaconceptC,howcanAMfindalltheconceptswhichclaimCasanexample?Themostobviousschemeistostorethisinformationexplicitly.SotheExamplesfac,,tofCwouldpointtoallknownexamplesofC,andtheIsafacetofCwouldpointtoallknownconceptsclaimingCasoneoftheirexamples.Whynotjustdothis?Becauseonecansubstituteamodestamountofprocessingtime(viachasinglinksaround)forthevastamountofstoragespacethatwouldbeneededtohave"everythingpointtoeverything".EachfacetcontainsonlyenoughpointerssothattheentiregraphofExs/IsaandSpec/Genllinkscouldbereconstructedifneeded.Since"Genl"31isatransitiverelation,AMcancomputethatNumbersisageneralizationofMersenneaprimes,ifthefacetMersenne-primes.Genlcontainstheentry"Odd.primes",andOdd-primes.Gen'containsapointerto--."Primes",andPrimes.Genlpointsto"Numbers".Thiskindof"rippling"activityisusedtoefficientlylocateallconceptsrelatedtoagivenoneX.Inparticular,AMknowshowto"rippleupwardintheIsadirection",andquickly32locateallconceptswhichclaimXasoneoftheirexamples.ItturnsoutthatAMcannotsimp!ycallforX.Isa,thentheIsafacetsofthoseconcepts,etc.,31"Genl"isanabbreviationfortheGeneralizationsfacetofaconcept.aimlaorly,"Spec"meansSpecializations,ExsmeansExamples,etc."6a"istheconversefacettoExe;is,ABExsiffBAlsi.Saying"Genistransitive"JustmeansthefollowingifAisageneralizationofB,andBofC,thenAisalsoageneralizationofC.'32Withabout200knownconcepts,witheachloafacetandeachGentfacetpointingtoabout3otherconcepts,about25hnkswillbetracedalonginordertolocateaboutadoze,,finalconcepts,eachofwhichclaimsthegivenoneasanexampleThiswholeripplingprocess,traci-25linkages,usesloesthan01cpuseconds,incompiledInterlisp,onaKI-10typePDP-0.L.%.L+"%Chapter4AM:DiscoveryinMathematicsasHeuristicSerch-57-becauseIsaisnottransitive33Fortheinterestedreader,thealgorithmAMusestocollectIsa'sofXisgivenbelow.341.AllgeneralizationsofthegivenconceptXarelocated.AMaccessesX.Genl,thentheGen]facetsofthoseconcepts,etc.2.The"Isa"facetofeachofthoseconceptsisaccessed.3.AMlocatesallgeneralizationsofthesenewly-foundhigher-levelconcepts.ThisisthelistofallknownconceptswhichclaimXasoneoftheirexamples.Inregularform,onemightexpressthisripplingrecipemorecompactlyas:GenI*(la(GenI*(X))).Thereisnotmuchneedforadetailedunderstandingofthisprocess,henceItwillnotbedelvedintofurtherInthisthesis.Thissectionprobablyalreadycontainsmorethananyonewouldwanttoknowaboutrippling.344.5.3.OrderingtheRelevantHeuristicsNowthatalltheserelevantheuristicshavebeenassembled,inwhatordershouldA.Mexecutethem?35Itisimportanttonotethattheheuristicstackedontoverygeneralconceptswillbeapplicablefrequently,yetwillnotbeverypowerful.Forexample,hereisatypicalheuristicrulewhichistackedontotheExamplesfacetoftheverygeneralconceptAny-concept:IfthecurrenttaskistofillinexamplesofanyconceptX,Thenonewaytogetthemistosymbolicallyinstantiate36adefinitionofX.IttakesatremendousamountofinferencetosqueezeacoupleawkwardexamplesofIntersectolntersectoutthatconcept'sdefinition.Muchtimecouldbewasteddoingso37.Ifxis&y,endyisaz,thenxis(generally)NOTaz.Thisisduetotheintraneitivityof"member-of".Generalizationistransitive,ontheotherhand,because"subset-of"istransitive.34Fortheveryinterestedreader,iisexplainedingreatdetailinfileRIPPLEfdis,dblatSAILThisfilehasbeenpermanentlyarchivedatSAIL.Thediscussionbelowassumesthattheheuristcsdon'tinteractwitheachother;I.*,thateachonemayactindependentlyofallothers.Thevalidityofthissimplificationistestedempirically(seeChapter6)anddiscussedtheoretically(seeChapter7)later.36"Symbolicinstantiation"isaeuphemismforabagoftrickswhichtransformadeclarativedefinitionofaconceptintoparticularentitiessatisfyingthatdefinition.TheonlyconstreintonthetricksisthattheynotactuallyrunthedefinitionOnesuchtrickmightbe:ifthedefinitionisrecursive,merelyfindsomeentitythatsatisfiesthebasestep.AM'ssymbolicinstantiationtricksaretoohand-craftedtobeofgreatinterest,hencethiswillnotbecoveredanymoredeeplyhere.Theinterestedreaderisdirectedtothepioneeringworkby(LombardiARaphael641,orthemorerecentliteratureonthesetechniquesappliedtoautomaticprogramverification(e.1,(Moore75)).Incidentally,thisHustroteswhynosingleheuristicshouldbeallowedtomonopolizetheprocessingofanyonetask.Chapter4AM:DiscoveryinMathematicsasHeuristicSearch-58-justasgeneralheuristicsareweakbutoftenrelevant,specificheuristicsarepowerfulbutrarelyrelevant.Considerthisheuristicrule,whichisattachedtotheveryspecificconceptCompose-with-Self:IfthecurrenttaskistofillinexamplesofthecompositionFoF,Thenincludeanyfixed-pointsofF.Forexample,sinceIntersect(phi,X)equalsphi,somustIntersectoIntersect(phi,X,Y).38.AssumingthatsuchexamplesexistalreadyonIntersect,thisheuristicwillfillinafewexamplesofIntersectointersectwithessentiallynoprucessingrequred.Ofcoursethedomainofapplicabilityofthisheuristicisminuscule.Asweexpected,thenarroweritsdomainofapplicability,themorepowerfulandefficientaheuristicis,andthelessfrequentlyit'suseful.Thusinanygivensituation,whereAMhasgatheredmanyheuristicrules,itwillprobablybebesttoexecutethemostspecificonesfirst,andexecutethemostgeneraloneslast.BelowaresummarizedthethreemainpointsthatmakeupAM'sschemeforfindingrelevantheuristicsina"natural"wayandthenusingthem:1.Eachheuristicistackedontothemostgeneralconceptforwhichitapplies:itisgivenaslargeadomainofapplicabilityaspossible.Thiswillmaximizeitsgenerality,butleaveitspoweruntouched.Thisbringsitclosertothe"ideal"tradeoffpointbetweenthesetwoquantities.2.WhenthecurrenttaskdealswithconceptC,AMripplesawayfromCandquicklylocatesalltheconceptsofwhichCisanexample.EachofthemwillcontainheuristicsrelevanttodealingwithC.3.AMthenappliesthoseheuristicsinorderofincreasinggenerality.YoumaywonderhowAMorderstheheuristicsbygenerality.Itttrnsoutthattheripplingprocessautomaticallygathersheuristicsinorderofincreasinggenerality.IntheLISPsystem,eachrule;sthereforeexecutedassoonasit'sfound.SoAMneverswastestimegatheringheuristicsitwon'thavetimetoexecute.4.6.AM'sStartingHeuristicsThissectionwillbrieflycharacterizethecollectionof242heuristicruleswhichAMwasoriginallygiven.AcompletelistingofthoserulesisfoundinAppendix3;therulenumbersbelowrefertothenumberinggiveninthatappendix.38phiisanothsfnamefortheemptyset,alsowritten(1ThislastsentencethussaysthatsinceflX{,then({nnX)nYmustalsoequal{}Chapter4AM:DiscoveryinMathematicsasHeuristicSearch-59-4.6.1.HeuristicsGroupedbytheKnowledgeTheyEmbod,ManyheuristicsembodythebeliefthatmathematicsisanempiricalInquiry.Thatis,oneapproachtodiscoveryissimplytoperformexperiments,observetheresults,therebygatherstatisticallysignificantamountsofdata,Inducefromthatdatasomenewconjecturesornewconceptsworthisolating,andthenrepeatthiswholeprocessagain.Someoftheruleswhichcapturethisspiritarenumbers21,43-57,91,136-139,146-148,153-154,212-216,225,and241.Asonemightexpect,mostoftheseare"Suggest"typerules.TheyindicateplausiblemovesforAMtomake,promisingnewtaskstotry,newconceptsworthstudying.Almostalltherestare"Fillin"typerules,providingempiricalmethodstofindentriesforaspecifiedfacet.Anotherlargesetofheuristicsisusedtoembodyortomodifywhatcanbecalled"focusofattention".WhenshouldAMkeeponthesametrack,andwhennot?ThefirstrulesexpressingvaryingnuancesofthisIdeaarenumbers1-5.Thelastsuchrulesarenumbers209-216.Someoftheserulesareakintogoal-settingmechanisms(e.g.,rule141).Inaddition,manyofthe"Interest"typeruleshavesomerelationtokeepingAMInterestedinrecently-chosenconcepts(or:inconceptsrelatedtothem,e.g.byAnalogy,byGenl/Spec,byIsa/Exs,...).Theremaining"Interest"rulesaregenerallysomere-echoingofthefollowingnotion:XisinterestingifF(X)hasanunexpected(interesting)value.Forexample,inrule26,"F(X)"isjust"GeneralizationsofX".Inslightlymoredetail,theprinciplecharacteristicsofinterestingnessare:*symmetry(e.g.,Inanexpandinganalogy)*coincidence(e.g.,Inaconceptbeingre-discoveredoften)9appropriateness(e.g.,inchoosinganoperationHsothatGoHwillhavenicerDomain/RangecharacteristicsthanGitselfdid),recency(seethepreviousparagraphonfocusofattention)-individuality(e.g.,thefirstentityobservedwhichsatisfiessomeproperty).sefulness(e.g.,therearemanyconjecturesinvolvingIt)*association(i.e.,thegivenconceptisrelatedtoaninterestingone)Onegroupofheuristicrulesembedssyntactictricksforgeneralizingdefinitions(Lisppredicates),specializingthem,instantiatingthem,symbolicallyevaluatingthem,Invertingthem,rudimentarilyanalyzingthem,etc.Forexample,seerules31and89.Somerulesserveothersyntacticfunctions,likeensuringthatvariouslimitsaren'texceeded(e.g.,rule15),thattheformatforeachfacetisadheredto(e.g.,rule16),thattheentriesoneachfacetareusedastheyaremeanttobe(e.g.,rules9and59),etc.Manyofthe"Check"typeheuristicsfallintothiscategory.Finally,AMpossessesamassofmiscellaneousruleswhichevadecategorization.See,e.g.,rules185and236.Theserangefromgenuinemathheuristics(ruleswhichleadtodiscoveryfrequently)tosimpledatamanagementhacks.NodetailedanalysishasbeenperformedonthesetofheuristicsAMpossesses,asofthetimeofwritingofthisthesis.Chapter4AM:DiscoveryinMathematicsasHeuristicSearch-60-4.6.2.HeuristicsGroupedbyHowSpecificTheyAreAnotherdimensionofdistributionofheuristics,asidefromtheabovefunctionalone,issimplythatofhowhighupintheGenl/Spectreetheyarelocated.Thetablebeloysummarizeshowtherulesweredistributedinthattree:LEVELelL1Con:1aw/HouriHoursAvAviw/HouraFilh_.nSuaCheckaint0Anything111010.010.005051Any-Concept11110110.0110.0393020212Active222412.012.0710433Operation63315.210.3113314>4Union10011630.65.72615816Hereisakeytothecolumnheadings:LEVEL:HowfardowntheGen]/Spectreeofconceptswearelooking.e.g.:Asampleconceptatthatlevel.*Con's:Thetotalnumberofconceptsatthatlevel.0w/Heur:Howmanyofthemhavesomeheuristics.*Heurs:Thetotalnumberofheuristicsattachedtoconceptsatthatlevel.Avg:(*Heurs)I(.Concepts);i.e.,themeannumberofheuristicsperconcept,atthatlevel.Avgw/Heur:(*Heurs)I(*w.Heurs)*Fillin:Totalnumberof"Fillin"typeheuristicsatthatlevel.Sugg:Totalnumberof"Suggest"typeheuristicsatthatlevel.*Check:Totalnumberof"Check"typeheuristicsatthatlevel.*Int:Totalnumberof"Interestingness"typeheuristicsatthatlevel.Theheuristicrulesareseennottobedistributeduniformly,homogeneouslyamongalltheinitialconcepts.Theextentofthisskewingwasnotrealizedbytheauthoruntiltheabovetablewasconstructed.Asurprisingproportionofrulesareattachedtotheverygeneralconcepts.Thetop10%oftheconceptscontain73%ofalltheheuristics.Onenotableexceptionisthe"Interest"typeheuristics:theyseemmoreevenlydistributedthroughoutthetreeofinitialconcepts.Thistendstosuggestthatfutureworkonproviding"meta-heuristics"shouldconcentrateonhowtoautomaticallysynthesizethoseInterestheuristicsfornewly-createdconcepts.A.'.-a-iLAChapter5.AM'sConceptsThischaptercontainsmaterialaboutAM'sanatomy.Afterabriefoverview,we'lllookindetailatthewayconceptsarerepresented(Section5.2).Thisincludesadiscussionofeachkindoffacetaconceptmaypossess.Wedgedinamongtheimplementationdetailsandformatsareahordeoftinyideas;theyshouldbeusefultoanyonecontemplatingworkingornasystemsimilarindesigntoAM.ThechapterclosesbysketchingalltheknowledgeAMstartswith.Theconceptswillbediagrammed,andwillalsohaveabriefdescription,sufficientforthereadertofollowlaterchapterswithouttrouble.Insteadofusingupalargenumberofpagesforanunreadablelistingofallofthespecificinformationinitiallysuppliedreeachconcept,suchcompletecoverageisrelegatedtoAppendix2.1.Thenextchapterstartsonpage114.25.1.MotivationandOverviewEachconceptconsistsmerelyofabundleoffacets.Thefacetsrepresentthedifferentaspectsofeachconcept,thekindsofquestionsonemightwanttoaskabouttheconcept:HowvaluableIsthisconcept?Whatisitsdefinition?Ifit'sanoperation,whatislegallyinitsdomain?Whataresomegeneralizationsofthisconcept?Howcanyouseparatetheinterestinginstancesofthisconceptfromthedullones?etc.Sinceeachconceptisamathematiilentity,thekindsofquestionsonemightaskarefairlyconstantfromconcepttoconcept.Thissetofquestionsmightchangesignificantlyforanewdomainofconcept.One"natural"representationforaconceptinLISPisthereforeasasetofattribute/valueThatappendixlistseachconcept,givingacondensedlistingofthefactsinitiallygiven(bytheauthor)toAMabouteachfacetofthatconcept.ThismaterialistranslatedfromLISPintoEnglishandstandardmathnotation.TheappendixmiprecededbyanalphabeticalindexoftheconceptsandthepagenumberonwhichtheyarepresentedThatindexisonpage173.Someunmodified'concepts"--stillinLISP-aaredisplayedinAppendix232Thoughdevoidoftheoreticalsignificance,thatsentencehasalasprovedofhighempiricalvalue,...-4.,Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-62-pairs.Thatis,eachconceptismaintainedasanatomwithapropertylist.Thenamesoftheproperties(Worth,Definitions,Domain/Range,Generalizations,Interestingness,etc.)correspondtothequestionsabove,andthevaluestoredunderpropertyFofatomCissimplythevalueoftheF-facetoftheC.concept.ThisvaluecanalsobeviewedastheanswerwhichexpertCwouldgive,ifaskedquestionF.Or,ItcanbeviewedasthecontentsofslotFofframeC.5.1.1.AGlimpseofaTypicalConceptAsanexample,hereisastylizedrenditionoftheSETSconcept.Thisisaconceptwhichismeanttocorrespondtothenotionofasetofelements.TheformatP:v,v2....isusedtoindicateth.',ttheva,.eofpropertyPisthelistvlv2,...Thatis,theconceptSetshasentriesvl,v2,...foritsfacetP.Forexample,accordingtotheboxbelow,"Singleton"isoneentryontheSpecializationsfacetofSets.Ishallnotdigressheretoexplaineachoftheseentriesandwhatareapparentlyomissions.Suchthingswillbedonelaterinthischapter3.Fornow,justglanceatittogettheflavorofwhataconceptislike.Theindividualfacetswillbediecusssooreatatime.Thisparticularconceptisshownatanintermediatestateofbeingfilledin.Althoughseveralfacetsareblank,manyarefilledinwhichwereinitiallyempty(eg.,Examples).ThereaderwishingtoseewhatthisconceptwaslikeatthetimethatAMstartedupshouldturnaheadtopage211(insideAppendix2).43ILChapter5AM:DiscoveryinMathematicsasHeurioticSeureh-63-Name(s):Set,Class,CollectionLDefinitions:Recursive:%(S)(S.lorSet.Definition(Remove(Any-member(S),S))]Recursivequick:X(S)[Sal)orSet.Definition(CDR(S))]Quick:X(S)(MatchSwithl..Specializations:Empty-set,Nonempty-sot,Set-of-structures,SingletonGeneralizations:UnorderAd-StructurNo-multiple-elements-StructureExamples:Typicafl),(A),IA,B},(3)Barely:(),(A,9,IC,{jIA,C,(3,3,3,9),<4,I,A,{e),A))))Not-quite:{A,A),O,{BA}Foible:<4,1,A,I>C:njec's:Allunordered-structuresaresets.Intu's:Geometric:Vanndiagram.(See[Venn99],or[Skemp71.Analogs:beg,list,osetWorth:600View:Predicate:X(P)(x(Domain(P)IP(x)}Structure:X.(S)Enclose-in-brsces(Sort(Remove-multiple-elements(S)))Suggest:IfPisaninterestingpredicateoverX,consider{x(XIP(x)).In-domain-of:Union,Intersection,Set-difference,Set-equality,Subset,MemberIn-range-of:Union,Intersection,Set-difference,SatisfyingTodeciphertheDefinitionsfacet,thereareafewthingsyoumustknow.AnexpressionoftheformI(x)E)"iscalledaLambdaexpressionafterChurch4,andmaybeconsideredanexecutableprocedure.itacceptsoneargument,bindsthevariable"x"tothevalueofthatargument,andthenevaluates"E"(whichisprobablysomeexpressioninvolvingthevariablex).Forexample,"(;k(x)(x+5))"isafunctionwhichadds5toanynumber;Ifgiventheargument3,thislambdaexpressionwillreturnthevalue8.ThesecondthingyoumustknowisthatfacetFofconceptCwilloccasionallybeabbreviatedasC.F.InthosecaseswhereFis"executable",thenotationC.Fwillrefertoapplyingthecorrespondingfunction.SothefirstentryintheDefinitionsfacetisrecursivebecauseitcontainsanembeddedcallonthefunctionSet.Definition.Noticethatweareimplyingthatthenameofthatlambdaexpressionitselfis"Set.Definition".Therearesomebizarreimplicationsofthis:sincetherearethreeseparatebutequivalentdefinitions,AMmaychoosewhicheveroneitwantswhenItrecurs.AMcanchooseoneviaarandomselectionscheme,oralwaystrytorecurintothesamedefinitionasitwasjustin,orperhapssuititsch,;cetotheformoftheargumentatthemoment.Forexample,onedefinitionmightbegreatforargumentsofsize10orless,butslowforbiggerones,andanotherdefinitionmightbemediocreforallsizearguments;thenAMBeforeand6uringChurch,it'scalledafunction,See[Church417.Chapter5AM:DiscoveryinMathematicsasHeuristicSearchshouldusethemediocredefinitionoverandoveragain,untiltheargumentbecomessmalenough,andfromthenonrecuronlyintothefastdefinition.AlthoughAMembodiesthis"smart"scheme,thelittlecommentsnecessarytoseehowitdoessohavebeexcisedfromtheversionshownaboveinthebox.Thiswillbeexplainedlaterinthischapter,onpage90.Allconceptspossessexecutabledefinitions,thoughnotnecessarilyeffectiveones.TheyeachhaveaLISPpredicate,butthatpredicateisnotguaranteedtoterminate.NoticethatthedefinitionsforSetsarealldefinitionsoffinitesets.55.1.2.Themainconstraint:FixedsetoffacetsOneimportantconstraintontherepresentationisthatthesetoffacetsbefixedforalltheconcepts.Anadditionalconstraintisthatthissetoffacetsnotgrow,thatitbefixedonceandforall.Sothereisonefixed,universallistoftwodozen.typesoffacets.Anyfacetofanyconceptmusthaveoneofthosestandardnames.AllconceptswhichhavesomeexamplesmuststorethemasentriesonafacetcalledExample!;theycan'tcallthemInstances,orCases,orG00037's.Thisconstraintisknownasthe"Beingsconstraint"6andhasthreeimportantconsequences:1.OUTLINE:First,itprovidesanice,distributed,universalframeworkonwhichtodisplayallthatisknownaboutagivenconcept.Forexample,whenAMcreatesanewconceptlike"Square-root",theusercanjudgehowwellAMunderstandsthatconceptbyexaminingSquare-root'sproperty-list(thelistofentriesforeachofitsfacets).Similarly,AMcaninstantlytellwhatfacetsarenotyetfilledinforanygivenconcept,andthiswillInturnsuggestnewtaskstoperform.Inotherwords,-.~thisconstrainthelpsdefinethe"space"whichAMmustexplore,andmakesitobviouswhatpartsofeachconcepthaveandhavenotyetbeeninvestigated.2.STRUCTURE:Theconstraintspecifiesthattherebeasetoffacets,notjustone.Thissetwasmadelargeenoughthatalltheefficiencyadvantagesofa"structured"representationarepreserved(unliketotallyuniformrepresentations,e.g.pureproductionsystemswithsimplememoriesasdatastructures,orpredicatecalculus).3.UNIFORMITY:ThemostimportantbenefitoftheBeingsconstraintariseswhenAM7wantstogetaparticularquestionansweredespeciallyiftheinformationpertainstorelatedconcepts.Theadvantageisthatit'llhaveaverylimitedrepertoireofquestionsitmayask,hencetherewillbenolongsearching,nomisunderstandings.Thisisthesameadvantagethatalwaysariseswheneveryoneusesacommonlanguage.WeshallillustratethelasttwoadvantagesbyusingtheSetsconceptpicturedintheboxacouplepagesago.HowdoesAMhandleataskofthisform:"CheckexamplesofSets"?AMaccessestheexamplesfacetoftheSetsconcept,andobtainsabunchofitemswhichareall5Thethirddefinition,"{)",maynotlooktinite,butconsiderthatellipsisnotationisnotpermittedwithinanyspecificset.6See[Lser't75b)Historically,eachconceptmodulewascalleda"BEING".Actually,therequestorisnot"AM"intoto,butrathersimplyaclausewhichisapartofaheuricticrule,orabitofcodeembeddedwithinanentryonanexecutablefacet,suchasAlgorithmsi".'X.'L---'--.Chapter5AM:DiscoveryinMathematicsas'euriaticSearch-65-probablysets.IfanyIsn'taset,AMwouldliketomakeItone,ifthatinvolvesnothingdifficult.AMlocatesallthegeneralizationsofSets8andcomesupwiththelist<Sets,Unordered-Sti'uctures,No-multiple.elements-Structures,'Structures,Objects,Any-concept,Anything>.Next,the"Check"facetofeachoftheseisexamined,andallitsheuristicsarecollected.Forexample,theCheckfacetoftheNo.multiple.elements-Structuresconceptcontainsthefollowingentry:"Eliminatemultipleoccurrencesofeachelement"(ofcoursethisispresentnotasanEnglishsentencebutratherasalittleLISPfunction).SoeventhoughSetshasnoentriesforItsCheckfacet,severallittlefunctionswillbegatheredupbytheripplingprocess.Eachpotentialsetwouldbesubjectedtoallthosechecks,andmightbemodifiedordiscardedasaresult.Thereisenough"structure"aroundtokeeptheheuristicrulesrelevanttothistaskisolatedfromveryIrrelevantrules,andthereisenough"uniformity"tomakefindingthoserulesveryeasy.Thesameripplingwouldbedonetofindpredicateswhichtellwhetherasetisinterestingordull.Forexample,oneentryontheInterestingnessfacetoftheStructureconceptsaysthatastructureisinterestingifallpairsofmemberssatisfythesamerarepredicateP(x,y)[foranysuchP.Soaset,allpairsofwhosememberssatisfy"Equality,"wouldbeconsideredinteresting.Infact,everySingletonisaninterestingStructureforjustthatreason.AsingletonmightbeaninterestingAnythingbecauseittakesonlyafewcharacterstotypeItout(therebysatisfyingacriteriononAnything.Interest).TolocateallthespecializationsofSets,theripplingwouldgointheoppositedirection.Forexample,oneoftheentriesontheSpecializationsfacetofSetsisSet-of-structures;oneifitsSpecializationentriesisSet-of-sets.SothislatterconceptwillbecaughtinthenetwhenripplingawayfromSetsintheSpecializationsdirection.IfAMwantslotsofexamplesofsets,ithasonlytorippleintheSpecializationsdirection,gatheringExamplesofeachconceptitencounters.ExamplesofSets-of.sets(likethisone:{A{C,D}}})willbecaughtinthisway,aswillexamplesofSets-of-numbers(likethisone:{1,4,51),becausetwospecializationsofSetsareSets-of-SetsandSets-of-Numbers.Inadditiontothethreemainreasonsforkeepingthesetoffacetsthesameforalltheconcepts(seepreviouspage),weclaimedtherewerealsoreasonsforkeepingthat3etfixedonceandforall.Whynotdynamicallyenlargeit?Toaddanewfacet,itsvaluehastobefilledinforlotsofconcepts.HowcouldAMdevelopthehugebodyofheuristicsneededtoguidesuchfilling-inandcheckingactivities?Also,thenumberoffacetsIssmalltobeginwithbecausepeopledon'tseemtousemorethanafewtensofsuch"properties"inclassifyingknowledgeaboutaconceptlIftheviabilityofAMseemedtodependonthisability,Iwouldhaveworkedonit.AMgotalongfinewithoutbeingabletoenlargeitssetoffacets,sonotimewaseverspentonthatproblem.Ileaveitasachallenging,ambitiousopenresearchproblem".aby"rippling"upwardfromSets,intheGenldirectionnWeareassumingthatAMhasrunforsometime,andalreadydiscoveredNumbers,andalreadydefinedSete-of-Numbere.10Thisdatatsgatheredfromintrospectionbymyselfandafewothers,andshouldprobablybetestedbyperformingomepsychologicalexperiments.U7Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-6-5.1.3.BEINGsRepresentationofKnowledgeBeforediscussingeachfacetindetail,let'sinterjectabriefhistoricdigression,toexplaintheoriginsofthismodularrepresentationscheme.Theideasaroseinanautomaticprogrammingcontext,whileworkingoutasolutiontotheproblemofconstructingacomputersystemcapableofsynthesizingasimpleconcept-discriminationprogram(similart,ri-ion1i0]).Thescenarioenvisionedwasoneofmutualcooperationamongagroupofahundredorsoexperts,eachaspecialistinsomeminutedetailofcoding,conceptformation,debugging,communicating,etc.Eachexpertwasmodelledbyonemodule,oneBEING.EachBEINGhadthesamenumberofslots(parts,facets),andeachslotwasinterpretedasaquestionwhichthatBEINGcouldanswer.Thecommunityofexpertscarriedonaround-tablediscussionofaprogrammingtaskwhichwasspecifiedbyahumanuser.Eventually,bycooperatingandansweringeachother'squestions,theyhammeredouttheprogramhedesired.See[Lenat75b]fordetails.Thefinalsystem,calledPUPS,didactuallysynthesizeseverallargeLISPprograms,includingmanyvariantsoftheconcept-learningprogram.Thisisdescribedfullyin[Lenat75a).Unfortunately,PUP6hadvirtuallynonaturallanguageabilityandwastherefore*unusablebyanuntrainedhuman.Itsmodaloutputwas"E?".Thesearchforanewproblemdomainwherethiscommunicationdifficultywouldn'tbesosevereledtoconsiderationofelementarymathematics.TheothermaindefectofPUP6wasitsnarrowness,thesmallrangeof'target'programswhichcouldbesynthesized.PUP6hadbeendesignedwithjustonetargetinmind,andalmostallitcoulddowastohitthattarget.Thesecondconstraintonth.newtaskdomainwasthenoneofhavinganon-specifictarget,averybroadordiffusegoal.Thispointedtoanautomatedresearcher,ratherthanaproblem-solver.Thesetwoconstraintsthenwere(i)elementarymath,becauseofcommunicationease,and(ii)self-guidedexploration,becauseofthedangeroftoospecificagoal.Together,theydirectedtheauthortoaninvestigationwhichultimatelyresultedintheAMproject.5.2,.FacetsHowiseachconceptrepresented?WithoutcOzimingthatthisisthe"best"orpreferredscheme,thissectionwilltreatindetailAM'srepresentationofthisknowledge.Wehaveseenthattherepresentationofaconceptcanlooselybedescribedasacollectionoffacet/valuepairs,wherethefacetsaredrawnfromafixedsetofabout25totalpossiblefacets.fri-'Thefacetsbreakdownintothreecategories:1.FacetswhichrelatethisconceptCtosomeotherone(s):Generalizations,Specializations,Examples,Isa's,In-domain-of,Ir,-range.of,Views,Intu's,Analogies,I-..Conjec's2.FacetswhichcontaininformationintensivetothisconceptC:Definitions,Algorithms,Domain/Range,Worth,Interest4.'iChapter5AM:DiscoveryinMathematicsasHeuristicSearch-67-3.Sub-facets,containingheuristics,whichcanbetackedontofacetsfromeithergroupabove.Theseinclude:Suggest,Fillin,CheckSomefacetscomoinseveralflavors(e.g.,therearereallyfourseparatefacetsnotJustone-whichpointtoExamples:boundary,typical,Just-barely-failing,foibles).Thissectionwillcovereachfaceiinturn.Let'sbeginbylistingeachofthem.Forachaneofpace,we'llshowatypicalquestionthateachonemightansweraboutconceptC:11Name:WhatshallwecallCwhencommunicatingwiththeuser?Generalizations:WhichotherconceptshavelessrestrictivedefinitionsthanC?Specializations:WhichconceptssatisfyC'sdefinitionplussomeadditionalconstraints?Examples:WhataresomethingsthatsatisfyC'sdefinition?Isa's:Whichconcepts'definitionsdoesCItselfsatisfy?'2In-domain-of:WhichoperationscanbeperformedonC's?In-range-of:WhichoperationsresultInvalueswhichareC's?Views:HowcanweviewsomeotherkindofentityasIfitwereaC?Intu's:Whatisanabstract,analogicrepresentationforC?Analogies:Aretheresimilar(thoughformallyunrelated)concepts?Conjec's:WhataresomepotentialtheoremsinvolvingC?Definitions:HowcanwetellifxisanexampleofC?Algorithms:HowcanweexecutetheoperationConagivenargument?Domain/Range:WhatkindsofargumentscanoperationCbeexecutedon?Whatkindsofvalueswillitreturn?Worth:HowvaluableisC?(overall,aesthetic,utility,etc.)Interestingness:WhatspecialfeaturesmakeaCespeciallyInteresting?Inaddition,eachfacetFofconceptCcanpossessafewlittlesubfacetswhichcontainheuristicsfordealingwiththatfacetofC's:F.Fillin:HowcanentriesonC.Fbefilledin?Theseheuristicsgetcalledonwhenthecurrenttaskis"FillinfacetFofconceptX",whereXIsaC.F.Check:HowcanpotentialentriesonC.Fbecheckedandpatchedup?F.Suggest:IfAMgetsboggeddown,whataresomenewtasks(relatedtoC.F)itmightconsider?We'llnowbegindelvingintothesyntaxandsemanticsofeachfacet,onebyone.Futurechapterswillnotdependonthismaterial.ThereadermaywishtoskiptoSection5.3(page105).5.2.1.Generalizations/SpecializationsInthisdiscussion,"C"representsthenameoftheconceptwhosefacetisbengdiscussed,andmayberead"thegivenconcept.12NoticethatCwillthereforebeanexampleofeachmemberoflsa's(C).Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-68-Generalizationmakespossibleconscious,controlled,andaccurateaccomodationofone'sexistingschemas,notonlyinresponsetothedemandsforassimilationofnewsituationsastheyareencountered,butaheadofthesedemands,seekingorcreatingnewexamplestofittheenlargedconcept.--SkeonpWesayconceptA"isageneralizationof'conceptBiffeveryexampleofBisanexampleofA.Equivalently,thisistrueiffthedefinitionofBcanbephrasedas";(x)[A.Defn(x)andP(x)]";thatis,forxtosatisfyB'sdefinition,itmustsatisfyA'sdefinitionplussomeadditionalpredicateP.TheGeneralizationsfacetofconceptCwillbeabbreviatedasC.Genl.C.GenldoesnotcontainallgeneralizationsofC;rather,justthe"immediate"ones.Moreformally,ifAisageneralizationofB,andBofC,thenC.GenlwillnotcontainapointertoA.Instead,CwillpointtoB13.HerearetherecursiveequationswhichpermitasearchprocesstoquicklyfindallgeneralizationsorspecializationsofagivenconceptX:Generalizations(X)aGenl*(X)x{X)UGeneralizations(X.Genl)Specializations(X)aSpec*(X)a{X}USpecializations(X.Spec)Forthereader'sconvenience,herearethesimilarequations,presentedelsewhereinthetext,forfindingallexamplesofandIsa'sofX:Examples(X)Spec*(Exs(Spec*(X)))Isa's(X)aGenl*(lsa(Genl*(X)))TheformatoftheGeneralizationsfacetisquitesimple:itisalistofconceptnames.TheGeneralizationsfacetforOdd-primesmightbe:(Odd-numbersPrimes)Div3,ngenerol,C.GenlwillcontainanentryXl;XI.GsnlwillcontainanentryX2;.;Xn.GenlwillcontainBasoneentry;BGenlwillconteinYI;-.;YnGenlwillcontainA.Chapter5AM:DiscoveryinMathematicsaoHeuristicSearch-69-Hereisasmalldiagramrepresentinggeneralizationrelationships.TheonlylinesdrawnrepresentthepointersfoundintheGenlfacetsoftheseconcepts:ObjectNumberriOdd-numbersPrimesOdd-primsEven-primesMersenne-primesEachofthoselinesrepresentsanarrowwhichslantsupwards,indicatingaGenllink.Forexample,weseethattheGeneralizationsfacetofOdd-primescontainspointerstobothOdd-numbersandtoPrimes.ThereisnopointerfromOdd-primesupwardtoNumber,becausethereisan"intermediate"concept(namely,Primes).ThereisnopointerfromMersenne-primestoObject,sinceachainofintermediateconceptslinksthem.Thereasonforthesestrangeconstraintsissothatthetotalnumberoflinkscanbeminimized.Thereisnoharmifafewredundantonessneakin.Infact,frequently-usedpathsaregrantedthestatusofsinglelinks,asweshallsoonsee.We'vebeentalkingaboutbothSpecializationsandGeneralizationsasiftheywereverysimilartoeachother.It'stimetomakethatmoreexplicit:7.'-I..Chapter5AM:DiscoveryinMathematicssoHeuristicSearch-70-SpecializationsaretheconverseofGeneralizations.Theformatisthesame,and(hopefully)AisanentryonB'sSpecializationsfacetifBisanentryonA'sGeneralizationsfacet.Theusesofthesetwofacetsaremany:1.AMcansometimesestablishindependentlythatAisbothageneralizationandaspecializationofB;inthatcase,AMwouldliketorecognizethatfacteasily,soitcanconjecturethatAaidBspecifyequivalentconcepts.SuchcoincidencesareeasilydetectedascylesintheGenl(orSpec)graph.Inthesecases,AMmayphysicallymergeAandB(andalltheotherconceptsinthecycle)intooneconcept.2.Sometimes,AMwantstoassemblealistofallspecializations(orgeneralizations)of'X,sothatitcantestwhethersomestatementwhichisjustbarelytrue(orfalse)forXwillholdforanyofthosespecializationsofX.3.Sometimes,thelistofgeneralizationsisusedtoassemblealistofisa's;thelistofspecializationshelpsassemblealistofexamples.144.Acommonandcrucialuseofthelistofgeneralizationsistolocatealltheheuristicruleswhicharerelevanttoagivenconcept.Typically,therelevantrulesarethosetackedontoIsa'softhatconcept,andthelistofIsa'sisbuiltupfromthelistofgeneralizationsofthatconcept.Thiswasalsomentionedonpage56.5.Toincorporatenewknowledge.IfAMlearns,conjectures,etc.thatAisaspecializationofB,thenallthemachinery(allthetheorems,algorithms,etc.)forBbecomeavailableforworkingwithA.Hereisalittletrickthatdeservesacoupleparagraphsofitsown.AMstorestheanswerstocommonquestions(like"WhatareallthespecializationsofOperation")explicitly,byintentionallypermittingredundantlinkstobemaintained.Iftworequestsarrivecloselyintime,totestwhetherAisageneralizationofB,thentheresultisstoredbyadding"A"asanentryontheGeneralizationsfacetofB,andadding"B"asanewentryontheSpecializationsfacetofA.Theslightextraspaceismorethanrecompensedincputimesaved.IftheresultwereFalse(AturnedoutnottobeageneralizationofB)thenthelinkswouldspecifythatfindingexplicitly,sothatthenextrequestwouldnotgeneratealongsearchagain.Suchfailuresarerecordedontwoadditionalfacets:Genf-notandSpec-not.SincemostconceptpairsA/BarerelatedbySpec-notandb)Genl-not,theonlyentrieswhichgetrecordedherearetheoneswhichwerefrequentlycalledforbyAM.Ifspaceevergetstight,allsuchfacetscanbewipedcleanwithnopermanentdamagedone.Thesetwo"shadow"facets(Genl-notandSpec-not)arenotusefulorinterestingintheirownr;ght.IfAMeverwishedtoknowalltheconceptswhicharenotgeneralizationsofC,thefastestwaywouldbetotaketheset-differenceofallconceptsandGeneralizations(C).Sincetheyarequiteincomplete,Genl-notandSpec-notareusedmorelikeacachememory:theysavetimewhenevertheyareapplicable,anddon'treallycostmuchwhentheyaren'tapplicable.Becauseoftheirsuperfluity,thesetwofacetswillnotbementionedagain.IonlymentionedthemabovebecausetheydogreatlyspeedupAM'sexecutiontime,andbecausetheymayhavesomepsychologicalanalog.14ThisprocesswasclledRIPPLING,andwasdescriiedinChapter4.Seealsofootnote34inthatchapter.-TV-F-i7-7-T'j~777-*%.T.--7.7-yThChapter5AM:OiscoveryinMathematicsasHeuristicSearch-71-5.2.2.Examples/Isa'sUsually,toshowthatadefinitionimpliesnocontradiction,weproceedbyexamplewetrytomakeanexampleofathingsatisfyingthedefinition.WewishtodefineanotionA,andwesaythat,bydefinition,anAisanythingforwhichcertainpostulatesaretrue.IfwecandemonstratedirectlythatallthesepostulatesaretrueofacertainobjectB,thedefinitionwillbejustified;theobjectBwillbeanexamcpeofanA.--Poincare'FollowingPoincare',wesay"conceptAisanexampleofconceptB"1ffAsatisfiesB'sdefinition.t5Equivalently,wesaythat"AisaB".Itwouldbelegal(inthatsituation)for"A"tobeanentryonB.Exs(theExamplesfacetofconceptB)andfor"B"tobeanentryonA.Isa(theIsa'sfacetofconceptA).SomeearliermentionoftheExamplesandIsa'sfacetscanbeseeninChapter4,page57.TheExamplesfacetofCdoesnotcontainallexamplesofC;rather,Justthe"immediate"ones.TheexamplesfacetofNumberswillnotcontain"II"sinceitiscontainedintheexamplesfacetofOdd-primes.A"rippling"procedureisusedtoacquirealistofallexamplesofagivenconcept.Thebasicequationi.:Examples(x)aSpecializations(Exs(Specializations(x)))whereExs(x)isthecontentsoftheexamplesfacetofx.Examples(x)representsthefinallistofallknownitemswhichsatisfythedefinitionofX.Examples(x)thusmustincludeExs(x).Specializations(x)mightbemoreregularlywrittenSpec"(x).Thatis,allmembersofx.Spec,allmembersoftheirSpecfacet,etc.NotethesimilarityofthistotheformulaforIsa's(x),givenonpage57.Wecouldalsowritetheaboveequationasfollows:Examples(x)aSpec*(Exs(Spec*(x)))Asanillustration,weshallshowhowAMwouldrecognizethat"3"IsanexampleofObject:F:Whetdoesthismean?B.DafnisaLisppredicate,aLambdaexpression.IfitisfodAasitsargument,anditreturnsTrue,wesaythatAisaB,orthatAsatisfiesB'sdofinitionIfB.DefnreturnsNIL,wesaythatAisnotaB,orthatAfailsB'sdefinition.IfB.DfnrunsoutoftimebeforereturningaT/NILvalue,thereisnodefinitestatementofthisformwecanmakeInthatcase,AMmightchecktoseewhetherAsatisfiesthedefinitionofsomespecializationofB,orwhetherAfailsthedefinitionofsomegeneralization,ofB.....~.-.-----.-7[ci..Jr..-,'."',--.,'*::°:..-Chapter5AM:DscoveryinMathematicsasHeuristicSearch-72-ObjectNumberOdd-numbersPrimesOdd-primesMereenne-primesAsthegraphaboveshows,AMwouldrippleintheSpecdirection4times,movingfromObjectallthewaytoMersenne-primes;thendescendonceintheExsdirection,toreach"3";thenripple0moretimesintheSpecdirection.Thus"3"isseentobeanexampleofObject,accordingtotheaboveformula.Similarly,weseethat"3"isalsoanexampleofNumber,ofPrimes,ofOdd-number,ofOdd-primes,andofcourseanexampleof5.Mersenne-primes.AswithGeneralizations/Specializations,thereasonsbehindtheincompletepointerstructureissimplytosavespace,andtominimizethedifficultyofupdatingthegraphstructure*.-;'o'.,=__.....-,_.,L-'--~~~..~~-J,~~-Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-73-whenevernewlinksarefound.SupposeanewMersenneprime1iscomputed.Wouldn'titbenicesimplytoaddasingleentrytotheExsfacetofMersenne-primes,ratherthantohavetoupdatetheExspointersfromadozenconcepts?Thereisnoharmifafewredundantlinkssneakin.Infact,frequently-usedpathsaregrantedthestatusofsinglelinks.Iftworequestsarrivecloselyintime,totestwhetherAisaB,thentheresultisstoredasanentryontheIsafacetofA,andtheExsfacetofB.IftheresultwereFalse,thenthelinkswouldspecifythat,sothatthenextrequestwouldnotgeneratealongsearch.Infact,thereisaseparatefacetcalledExs-not,andonecalledIsa-not.Thesetwoshadowyfacetsarequiteanalogoustotheunmentionablefacets"Genl-not"and"Spec-not",discussedintheprevioussubsection."Isa's"istheconverseof"Examples".Theformatisthesame,and(ifAandBarebothconcepts)AisanentryonB.IsaiffBisanentryonA.Exs.Inotherwords,AisamemberofExamples(B)1ffBisamemberof1a's(A).Duetoanuglylackofstandardization,non-conceptsareallowedtoexist.Thus,"3"isanexampleofPrimes,butisnotitselfaconcept.ExamplesofXsometimesareconcepts,ofcourse:"IntersectoIntersect"isanexampleofCompose-with-self.AndIsa's(x)arealwaysconcepts.Thehighestlevelconceptiscalled"Anything".ItsdefinitionIstheatomT.ThatIs,";,(x)T".Thishigh-levelconceptcanclaimeverythingasitsexamples.TheusesoftheExs/lIsa'sfacetsaresimilartothoseforGeni/Spec(seeprevioussubsection).TheirformatsarequiteabitmorecomplicatedthantheGenl/Specfacets'formats,whenwefinallygettotheimplementationlevel,however.TherearereallyaclusterofdifferentfacetsallrelatedtoExamples:1.TYPICAL:Thisisalistofaverageexamples.Caremustbetakentoincludeawidespectrumofallowablekindsofexamples.For"Sets",thesewouldIncludesetsofvaryingsize,nesting,complexity,typeofelements,etc.2.BOUNDARY:Itemswhichjustbarelypassthedefinitionofthisconcept.Thismightincludeitemswhichsatisfythebasestepofarecursivedefinition,oritemswhichwereintuitivelybelievedtobenon-examplesoftheconcept.For"Sets",thismightincludetheemptyset.3.BOUNDARY-NOT:Itemswhichjustbarelyfailthedefinition.Thismightincludeanitemwhichhadtobeslightlymodifiedduringchecking,like{A,B,A}becoming{A,B}.4.FOIBLES:Totalfailures.Itemswhicharecompletelyagainstthegrainofthisconcept.For"Sets",thismightincludetheoperation"Compose".5.NOT:Thisisthe"cache"trickusedtostoretheanswerstofrequently-askedquestions.IfAMfrequentlywantstoknowwhetherXisanexampleofY,andtheanswerisNo,thenmuchtimecanbesavedbyaddingXasanentrytotheExs-notfacetofY.Anindividualitemonthesefacetsmayjustbeaconceptname,oritmaybemorecomplicated.Inthecaseofanoperation,itisanitemoftheform<ala2...-,v>;i.e.,actual16"Mereenneprime,withoutahyphen,referstoanumbersatisfyingcertainproperties(seeglossary."Mersenne-primes",withahyphen,referstoonespecificAMconcept,adatastructurewithfacets.EachMersenneprimei*anexampleoftheconceptMersenne-primes.I7Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-74-argumentsandthevaluereturned.Inthecaseofobjects,itisanobjectofthatform.AnExsfacetoftheconceptSetsmightcontain(a}asoneentry.Hereisamoredetailedillustration.ConsidertheExamplesfacetofSet-union.Itmightappearthus:TYPICAL:{A)U{A,B)--(A,B};{A,B)U{A,B)-(A,B);{A,<3,4,3>,{A,B))U{3,A)-*{A,<3,4,3>,(A,B},3}.BOUNDARY:()UX-4X7BOUNDARY-NOT:{A,B)U{A,C)-*A,B,A,C);{A,B,C,D}U{E,F,G,H,I,J}-4{A,B,C,E,F,G,H,I,J}FOIBLES:<2,A,2>NOT:noentriesTheformatforIsa'saremuchsimpler:thereareonlytwokindsoflinks,andthey'reeachmerelyalistofconceptnames.HereistheIsafacetofSet-union:ISA:(Operation18DomainaRange-op)ISA-NOT:(StructureCompositionPredicate)Atsometime,someruleaskedwhetherSet-unionisaComposition.Asaresult,thenegativeresponsewasrecordedbyadding"Composition"totheIsa-notfacetofSet-union,andadding"Set-union"totheExs-notsubfacetoftheExamplesfacetoftheconceptComposition(indicatingthatSet-unionwasdefinitelynotanexampleofComposition,yettherewasnoreasontoconsideritafoible).5.2.3.In-Domain-of/ln-Range-ofWeshallsaythatAisinthedomainofB(written"AIn-dom-ofB")iff1.AandBareconcepts2.BisaOperation3.Aisequalto(oratleastaspecializationof)oneofthedomaincomponentsoftheoperationB.Thatis,BcanbeexecutedusinganyexampleofAasoneofitsarguments.'9Forexample,Odd-perfect-squaresisIn-dom-ofAdd,sinceOdd-perfect-squaresisaspecializationofNumbers,andNumbersisonecomponentofthefollowingentrywhichis17Actually,AMisnotquitesmartenoughtousethevariableXasshownintheboundaryexamples.Itwouldsimplystoreafewinstancesofthisgeneralrule,plushaveanentryoftheform<Equivalent.Identity(X)andSet-union(X,{)f>ontheEx*facetofConjectures.NoticethatbecauseoftheasymmetricwaySet-unionwasdefined,onlyonelopsidedboundaryexamplewasfound.Ifanotherdefinitionweresupplied,theconversekindofboundaryexampleswouldbefound.Thisentryisredundant.Moreformally,wecansaythatthisoccurswheneversomeentryontheDomain/rangefacetofBhastheform<DID2D-aR>withsomeDiamemberofGenerahiztions(A).ThenAisaepecializationofsomedomaincomponentofsomeentryonBDomain/range.-...-----I--.Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-75-locatedonAdd.Domain/range:<NumbersNumbers-+Numbers>.SinceOdd-perfect-squaresisaspecializationofNumbers,theoperation'Add'canbeexecutedusinganyexampleofOdd-perfect-squaresasitsargument.Asanotherexample,Odd-perfect-squaresisalsoIn-dom-ofSet-insert,oneofwhoseDomain/rangeentriesis<AnythingSets4Sets>.ThisisbecauseOdd-perfect-squaresisaspecializationofAnything.SoSet-insertisexecutedontwoarguments,andthefirstargumentcanbeanyexampleofOdd-perfect-squares(thesecondargumentmustbeanexampleofSets).20Althoughitcanberecomputedveryeasily,wemaywishtorecordthefactthatAIn-dom-ofBebyaddingtheentry"B"totheIn-dom-offacetofA.AMmayevenwishtoaddthisnewentrytotheDomain/rangefacetofB(whereAisaspecializationofthejthdomaincomponentofB):<DiD2...Dj.IADj.I...Di4R>.Thetwoexamplesgivenabovewouldproducenewdomain/rangeentriesof<Odd-perfect-squaresNumbers4Numbers>forAdd,and<Odd-perfect-squaresSetsSets>forSet-insert.Thesemanticcontentof"In-dom-of"is:whatcanbedonetoanyexampleofagivenconceptC?GivenanexampleofconceptC,whatoperationscanberunonthatthing?Herearesomeillustrations:"Odd-perfect-squaresIn-dom-ofSet-insert"tellsusthatSet-insertcanberunonanyparticularOdd-perfect-squarewecangrabholdof."OperationIn-dom-ofCompose"tellsusthatComposecanberunonanyoperationwewant."Dom-Range-operationIn-dom-ofCompose"tellsusthatComposecanberunonanyoperationwhichhasitsrangeequaltooneofitsdomaincomponents."PrimesIn-dom-ofSquaring"tellsusthatwecanapplytheoperationSquaringtoanyparticularprimenumberwewish.LetusnowturnfromIn-dom-oftotherelatedfacetIn-ran-of.WesaythatconceptAisintherangeofBeiffBisanActivity2'andAisaspecializationoftherangeofB.Moreprecisely,wecansaythat"AIn-ran-ofB"iff1.AandBareconcepts2.BisaOperation(i.e.,Beisanexampleoftheconcept"Operation")3.SomeentryontheDomain/rangefacetofBhastheform<DID2...DiR>withRageneralizationofA.Forexample,Odd-perfect-squaresisIn-ran-ofSquaring,since(I)bothofthoseareconcepts,(2)Squaringisanoperation,(3)oneofitsDomain/rangeentriesis<Numbers-,Perf-20SinceOdd-perfect-squaresismorecloselyrelatedtoNumbersthan%.theconceptAnything(halfasmanyGentlinkssway),AMexpectsthatrestrictingAddtoOdd-perfect-squareswillprobablyyieldamorepromisingnewoperationthenrestrictingSet-inserttoonlyinsertoddperfectsquaresintosets.21i.,iffBAs:cti',IffB(Exmp-(Acti'vs),iffActiv.Ofn{)-Trus.Actually,sincetherangeofPredicatesismerely(T,F),wemayaswellassumethatBisanoperation,notapredicate.Thisisinfactassumed,inthetextandintheactualAMsystem.7---..-Chapter5AM:DisccveryinMathematicsasHeuristicSearch-76-squar>,andPerf-squaresisageneralizationofOdd-perfect-squares22.HereiswhattheIn-ran-offacetofOdd-perfect-squaresmightlooklike:(SquaringAddTIMESMaximumMinimumCubing)Eachoftheseoperationswillatleastsometimesproduceanoddperfectsquareasitsresult.Semantically,theIn-ran-ofrelationbetweenAandBmeansthatonemightbeabletoproduceexamplesofAbyrunningopertionB.Aha!ThisisapotentialmechanismforfindingexamplesofaconceptA.AllyouneeddoisgetholdofIn-ran-of(A),andruneachofthoseoperations.EvenmoreexpeditiousistoexaminetheExamplesfacetsofeachofthoseoperations,foralready-runexampleswhosevaluesshouldbetestedusingA.Defn,toseeiftheyareexamplesofA's.AMreliesonthisintimesofhighmotivation;itistoo"blind"amethodtouseheavilyallthetime.Thisfacetisalsousefulforgeneratingsituationstoinvestigate.SupposethattheDomain/raroefacetofDoublingcontainsonlyoneentry:Numbers4Numbers>.Thensyntactically,Odd-numbersisintherangeofDoubling.EventuallyaheuristicrulemayhaveAMspendsometimelookingforanexampleofDoubling,wheretheresultwasanoddnumber.Ifnoneisquicklyfound,AMconject,,resthatitneverwillbefound.Since,nedefinitionofOdd.,,amber(x)is"Number(x)andNot(Even-number(x))",theonlynon-oddnumbersareevennumbers.SoAMwillincrementtheDomain/rangefacetofDoublingwiththeentry<Numbers-Even-numbers>,andremovetheoldentry.ThusOdd-numberswillnolongerbeIn-dom-ofDoubling.AMcanofcoursechanceuponthisconjectureinamorepositiveway,bynoticingthatallknownexamplesofDoublinghaveresultswhichareexamplesofEven-numbers.23.AmoreproductiveresultissuggestedbyexaminingthecaseswhereOdd-perfect-squaresaretheresultofcubing.Thesmallestsuchoddnumbersare1,729,and15625.Ingeneral,thesenumbersareallthoseoftheform(2n+1)6.HowcouldAMnoticesuchanawkwardrelationship?Thegeneralquestiontoask,whenAIn-ran-ofB,is"Whatisthesetofdomainitemswhosevalues(undertheoperationB)areA's?"Incasetheansweris"All"or"None",somespecialmodificationscanbemadetotheDomain/rangefacetsandIn-dom-of,In-ran-offacetsofvariousconcepts,andanewconjecturecanbeprinted.Inothercases,ane#conceptmightgetcreated,representingpreciselythesetofallargumentstoBwhichyieldvaluesinA.Ifyouwill,thisistheInverseimageofA,underoperationB.InthecaseofBapredicate,thismightbethesetofallargumentswhichsatisfythepredicate.22Why?BecauseGeneral-ions(Odd-perfect-squares)isthesetofconcepts(Odd-numbersPerf-squaresNumbersObiectsAny-conceptAnything),hencecontainsPerf-squares.SoPerf-squaresisageneraliationofOdd-perfect-squares.23ThispositiveapproachisinfactthowayAMnoticedthisparticularrelationship.6WrongThatwatanexponent,notafootnote'%0JIU.7.7,.FTChapter5AM:DiscoveryinMathematicsasHeuristicSearch-77-InthecaseofBCubingandA=Odd.perfect-squares,theheuristicmentionedabovewillhaveAMcreateanewconcept:theinverseimageofOdd-perfect-squaresundertheoperationofCubing.Thatis,findnumberswhosecubesareOdd-perfect-squares.ItisquicklynoticedthatsuchnumbersarepreciselythesetofOdd-perfect-squaresthemselves!SoTheDomain/rangefacetofCubingmightgetthisnewentry:<Odd-perfect-squares4Odd-perfect-squares>.Butnotallsquarescanbereachedbycubing,onlyafewofthemcan.AMwillnoticetF-s,andthenewrangewouldthenbeisolatedandmightberei,amedbytheuser"Perfect-,-powers".Notethatal;thiswasbroughtonbyexaminingtheIn-ran-offacetofOdd-.,ct-squares."Cubing"wasjustoneofthesevenentriesthere.Therearesixmore:.o;..,totellinthisti,ynookofAM'sactivities.Howexactlydoe....,,oaboutgatheringth-In-ran-u,andIn-dom-oflists?GivenaconceptC,AMcanSLandownthe:1obaltreeofoperations(theExsandSpeclinksbelowtheconcept'Active').ForifC-snotIn-dom.11'F,itcertainlywon'tbeIn-dom-ofanyLspecializationofF.Similarly,itcan'tbeproducedbyF,itwon'tbeproducedbyanyspecializationofF.Ifyoucan'tgusingDoublingyou'llnevergetitbyQuadrupling.SoAMsimplyripplesaround,asusual.TheprecisecodeforthisalgorithmisoflittleInterest.Therearenotthatmanyoperations,anditischeaptotellwhetherXisaspecializationofagivenconcept,soevenanexhaustivesearchwouldn'tbeprohibitive.Finally,recallthatsuchasearchisnotdone02lthetime.ItwillbedoneInitially,pe-haps,butafterthattheIn-dom-ofandIn-ran-ofnetworkswillonlyneedslightupdatingnowandthen.5.2.4.ViewsOften,twoconceptsAandBwillbeinequiva',ent,yettherewillbea"natural"bijectionbetweenoneand(asubsetof)theother.Forexample,considerafinitesetSofatoms,andconsiderthesetofallitssubsets,2S,alsocalledthepowtersetofS.NowSisamemberof,butnotasubsetof,2S(e.g.,ifS=fx,y,...},thenxisnotamemberof2S).Ontheotherhand,wecanidentifyorviewSasasubsetbythemappingv-.{v}.ThenSisassociatedwiththefollowingsubsetof2S:{x},{y)....Whywouldwewanttodothis?Well,itshowsthatSisidentifiedwithapropersubsetof2S,andindicatesthatShasalowercardinality(remember:allsetsarefinite).Asanotherexample,mostofuswouldagreethattheset{x,(y),z}ranbeassociatedwiththefollowingbag:(x,(y},z).Eachofthemcanbeviewedastheother.Sometimessuchaviewingisnotperfectlynatural,orisn'treallyabijection:howcouldthebag(2,2,3)beviewedasaset?Is12,3}betterorworsethan?,{12},3)?TheViewfacetofaconceptCdescribeshowtoviewinstancesofanotherconceptDasiftheywereC's.Forexample,thisentryontheViewfacetofSetsexplainshowtoviewanygivenstructureasifitwereaSet:Structure:.(x)Enclose-in-braces(Sort(Remove-multiple-elements(x)))ifgiventhelist',c',ist.0programwouldremovemultipleelements(leaving<z,a,c>),sortthestructure(makingit-a,c,z>),andreplacethe"<...>"by"{...}",leavingthefinalvalueas{a,c,z}.Notethatthistransformationisnot1-1;thelist<a,c,z>wouldgettransformedintothissameset.Ontheotherhand,itmaybemoreusefulthanLi"""''.T--"--"."..'T'"'.":-"-'-.".-"""'-"--''""'---'].'---'""-"-"'".}1tChapter5AM:DiscoveryinMathematicsasHeuristicSearch-78-transformingtheoriginallistinto{z,{a,lc,{a}}}}whichretainstheorderingandmultipleelementinformation.BothofthosetransformationsmaybepresentasentriesontheViewfacetofSets.Asitturnsout,theViewfacetofSetsactuallycontainsonlythefollowinginformation:Structure:(x)Enclose-in-bracesx)ThustheViewingwillproduceentitieswhicharenotquitesets.Eventually,AMwillgetwillbecorrected.OnegeneralizationofSetsisNo-multiple-elements-Structures,andoneofitsentriesunderExamples.Checksaystoremoveallmultipleelements.Similarly,Unordered-structuresisageneralizationofSets,andoneofitsExamples.Checksubfacetentriessaystosortthestructure.Ifeitherofthesealtersthestructure,theoldstructureisaddedtotheBoundary-notsubfacet(the'Just-barely-miss'kind)ofExamplesfacetofSets.ThesyntaxoftheViewfacetofaconceptCisalistofentries;eachentryspecifiesthenameofaconcept,X,andalittleprogramP.IfitisdesiredtoviewaninstanceofXasIfitwereaC,thenprogramPisrunonthatX;theresultis(hopefully)aC.TheprogramsPare*opaquetoAM;theymusthavenosideeffectsandLequick.HereisanentryontheViewfacetofSingleton:Anything:X(x)Set-insert(x,PHI)Inotherwords,toviewanythingasasingletonset,justinsertitintotheemptyset.Notethatthisisalsoonewaytoviewanythingasaset.Asyou'venodoubtguessed,thereisagenera!formulaexplainingthis:Views(X)mView(SpecializationsXl)Thus,tofindallthewaysofviewingsomethingasaC,AMripplesawayfromCintheSpecdirection,gatheringalltheViewfacetsalongtheway.AlloftheirentriesarevalidentriesforC.Viewaswell.Inadditiontothesebuilt-inwaysofusingtheViewsfacets,somespecialusesaremadein.individualheuristicrules.HereisaheuristicrulewhichemploystheViewingfacetsofrelevantconceptsinordertofindsomeexamplesofagivenconceptC:IFthecurrenttaskistoFill-inExamplesofC,andChassomeentriesonitsViewfacet,T.E'"andoneofthoseentries<X,P>indicatesaconceptXwhichhassomeknownExamples,THENruntheassociatedprogramPoneachmemberofExamples(X),andaddthefollowingtasktotheagenda:"CheckExamplesofC",forthefollowir,greason:"SomeveryriskytechniqueswereusedtofindexamplesofC",andthatreason'sratingiscomputedas:AtrageWorth(X),litheexamplesofCfoundinthismannerl).Saytheskselectedfromtheagendawas"Fill-inExamp;esofSets".Wesawthatoneentryon,ets.ViewwasStructure:X(x)Enclose-in-braces(x).Thusitisoftheform<X:P>,'TKKiChapter5AM:DiscoveryinMathematicsasHeuristicSearch-79-withX-Structure.TheaboveheuristicrulewilltriggerifanyexamplesofStructuresareknown.TherulewillthenusetheViewfacetofSetstofindsomeexamplesofSets.SoAMwillgooff,gatheringalltheexamplesofstructures.SinceListsisaSpecializationofStructure,thecomputationofExamples(Structures)willeventuallyrippledownwardsandaskforExamplesofLists.IftheExamplesfacetofListscontainstheentry<z,a,c,a,a>,thenthiswillberetrievedasoneofthemembersofExamples(Structure).Theheuristicruletakeseachsuchmemberinturn,andfeedsittoSet.View'slittleprogramP.Inthiscase,theprogramreplacesthelistbracketswithsetbraces,thusconverting<z,a,c,a,a>to{z,a,c,a,aJ.Inthismanner,alltheexistingstructureswillbeconvertedintosets,toprovideexamplesofsets.Afterallsuchconversionstakeplace,agreatnumberofpotentialexamplesofSetswillexist.Thefinalactionoftherightsideoftheaboveheuristicruleistoaddthenewtask"ChockexamplesofSets"totheagenda.Whenthisgetsselected,allthe"slightlywrong"exampleswillbefixedup.Fui"example,{z,a,c,a,a}willbeconvertedto{a,c,z}.Ifanyrelianceismadeonthoseuncheckedexamples,thereisthedangerofIncorrectlyrejectingavalidconjecture.Thisisnottooserious,sincetheveryfirstsuchreliancewillboostthepriorityofthetask"CheckexamplesofSets",anditwouldthenprobably4etheverynexttaskchosen.5.2.5.IntuitionsThemathematiciandoesnotworklikeamachine;wecannotoveremp/zatlzethefundamentalroleplayedinhisresearchbyaspecialintuition(frequentlywro,.g),whichisnoicommon-sense,butratheradivinationoftheregularbehaviorheexpectsofmathematicalbeings.--BourbakiThisfacetturnedouttobea"dud",andwaslaterexcisedfromalltheconcepts.Itwillbedescribedbelowanyway,forthebenefitoffutureresearchers.Feelfreetoskipdirectlytothenextsubsection.Theinitialideawastohaveasetofafew(3-10)large,global,opaqueLISPfunctions.Eachofthesefunctionswouldbetermedan"Intuition'andwouldhavesomesuggestivenamelike"jigsaw-puzzle","see-saw","archery",etc.Eachfunctionwouldsomehowmo',ItheparticularactivityImpliedbyitsname.Therewouldbeamultitudeofparameter.:hichcouldbespecifiedbythe"caller"asIftheyweretheargumentsofthefunction.Thefunctionwouldthenworktofillinvaluesforanyunspecifiedparameters.That'sallthefurctiondoes.Thecallerwouldalsohavetospecifywhichparametersweretobeconsideredasthe"results"ofthefunction.Forthesee-saw,thecallermightprovidetheweightoftheleft-hand-sidesitter,andthefinalpositionofthesee-saw,andaskfortheweightoftheright-handsitter.Thefunctionwouldthencomputethatweight(asanyrandomnumbergreater/less-thantheleft-handweight,..--..---.a.-.a.F.Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-80-dependingonthedesiredtiltoftheboard).Or,thecallermightspecifythetwoweightsaridaskforthefinalposition.x-.TheSee-sawfunctionisanexpertonthissubject;ithasefficientcodeforcomputinganyvalueswhichcanbecomputed,andforrandomlyinstantiatinganyvariableswhichmaytakeonanyvalue(e.g.,thefirstnamesofthepeopledoingthesitting).Whenanindividualcallismadeonthisfunction,thecallerisnottoldhowthefinalvaluesofthevariableswerecomputed,onlywhatthosevaluesendupas.SotheIntuitionsweretobeexperimentallaboratoriesforAM,whereinitcouldgetsome(simulated)real-worldempiricaldata.IftheseesawweretheIntuitionfor">",andweightcorrespondedtoNumbers,thenseveralrelationshipsmightbevisualizedintuitively(liketheanti-symmetryof">").Thisisaniceidea,butinpracticetheonlyrelationshipsderivedinthiswayweretheonesthatwerethoughtupwhiletryingtoencodetheIntuitionfunctions.ThisshamefulbehaviorledtotheexcisionoftheIntuitionsfacetscompletelyfromthesystem.Asanotherex.mple,supposeAMisconsideringcomposingtworelationsRandS.IftheyhavenocommonIntuitionreference,thenperhapsthey'renotmeaningfullycomposable.IftheydobothtieintothesameIntuitionfunction,thenperhapsthatfunctioncantellussomethingaboutthecomposition.Thisisaniceidea,butinpracticeveryfewpruningswereaccomplishedthisway,andnounanticipatedcombinationswerefused.EachIntuitionentryislikea"wayin"tooneofthefewglobalscenarios.Itcanbecharacterizedasfollows:I.OneofthesalientfeaturesoftheseentriesandofthescenariosisthatAMisabsolutelyforbiddentolookinsidethem,totrytoanalyzethem.Theyareopaue.MostIntuitionfunctionsusenumbersandarithmetic,anditwouldbepointlessto"-":.2saythatAMdiscoveredsuchconceptsifithadaccesstothosealgorithmsallalong.2.ThesecondcharacteristicofanIntuitionisthatitbefalible.Aswithhumanintuition,thereisnoguaranteethatwhatissuggestedwillbeverifiedevenempirically,letaloneformally.NotonlydoesthismaketheprogrammingofIntuitionfunctionseasier,itwasmeanttoprovideadegreeof"fairness"tothem.AMwasn'tcheatingquiteasmuchiftheSee-sawfunctionwasonlyantisymmetric90%ofthetime.3.Nevertheless,theintuitionsareverysug'estive.Manyconjecturescanbeproposedonlyviathem.Someanalogies(seethenextsubsection)canalsobesuggestedviacommonIntuitions.Aftertheywerecodedandrunning,Idecidedthae.theIntuitionfunctionswereunfair;they.containedsomemajordiscoveries"built-in"tothem.Theyhadthepowertoproposeotherwise-obscurenewconceptsandpotentialrelationships.Theycontributednothingotherthanwhatwasoriginailyprogrammedintothem;theywerenotsynergetic.Duetothis.0dubiouscharacterofthecontributionsbyAM'sfewIntuitionfunctions,theywereremovedfromthesystem.Alltheexamplesandallthediscoverieslistedinthisdocumentweremadewithouttheirassistance.Weshallnowdropthisde-implementedidea.Jthinkthereissomerealopportunityforresearchher3.Forthebenefitofanyfutureresearchersinthisarea,letmepointtothe*rexcellentdiscussionofanalogicrepresentationsin[Sloman71).+o"'Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-81-5.2.6.AnalogiesThewholeideaofanalogyisthat'Effects',viewedasafunctionofsituation,isacontinuousfunction.--Poincaro'AswithViewsandIntuitions,thisfacetisusefulforshiftingbetweenonepartoftheuniverseandanother.Viewsdealtwithtransformationsbetweentwospecificconcepts;Intuitionsdealtwithtransformationsbetweenabunchofconceptsandalargestandardscenariowhichwascarefullyhand-craftedinadvance.Incontrast,thisfacetdealswithtransformingbetweenalistofconceptsandanotherlistofconcepts.AnalogiesoperateonamuchgranderscalethanViews.Ratherthansimplytransformingafewisolateditems,theyinitiatethecreationofmanynewconcepts.UnlikeIntuitions,theyarenotlimitedinscopebeforehand,noraretheyopaque.Theyaredynamicallyproposed.Theconceptof"primenumbers"isanalogoustothenotionof"simplegroups".Whilenotisomorphic,youmightguessatafewrelationshipsinvolvingsimplegroupsJustbymyKtellingycuthisfact:simplegroupsaretogroupswhatprimesaretonumbers.24Let'stake3elementaryexamples,involvingveryfundamentalconcepts.1.AMwastoldhowtoViewasetasifitwereabag.2.AMwastolditcouldIntuittherelation""asthepredetermined"See.saw"function.3.AM,by:.self,onceAnalogizedthatthesetwolistscorrespond:<BagsSame-lengthOperations-on-and-intoBags><Bags-of-T'sEqualityThoseoperationsrestrictedtoBags-of-T's>Theconceptofabag,allofwhoseelementsare"T"'s,istheunaryrepresentationofnumbersdiscoveredbyAM.Whentheaboveanalogy(#3)isfirstproposed,therearemanyknownBag-operations25butthereareasyetnonumericoperations26ThistriggersoneofAM'sheuristicrules,whichspursAMontofindingtheanaloguesofspecificBag-24lagroupisnotsimple,itcanbefactoredUnfortunately,thefactorizationofagroupintosimelegrupsisnotunique.AnotheranalogizingcontactForeachprimep,wecanassociatethecyclicgroupoforderp,whichisofcourtsimpleAMnevercameupwiththeco-ceptofsimplegroups;thisisjustenillustratic.nforthesophisticatedreader.is,allentriesonIn-dom-of(Bag)andIn-ran-of(Bag);afewofthesare.Bag-insert,Bag-union,Bag-intersection26ExamplesofOperationwhosedomain/rangecontains"Number'.".-AZChapter5AM:DiacoveryinMathematicsaiHeuristicSearch-82-operations.Thatis,whatspecialpropertiesdothebag-operationshavewhentheirdomainsand/orrangesarerestrictedfromBagstoBags-of.T's(i.e,Numbers).Inthisway,infact,AMdiscoversAddition(byrestrictingBag-uniontotheDomain/range<Bags-of-T'sBags.of-T'sBags-of-T's>),plusmanyothernicearithmeticfunctions.Well,ifitleadstothediscoveryofAddition,thatanalogyiscertainlyworthhaving.Howwouldananalogylikethatbeproposed?Asthereadermightexpectbynow,themechanismIssimplysomeheuristicruleaddingitasanentrytotheAnalogiesfacetofacertainconcept.Forexample:IFthecurrenttaskhasjustcreatedacanonicalspecializationC2ofconceptCl,withrespecttooperationsFlandF2,[i.e.,twomembersofC2satisfyF1ifftheysatisfyF2],THENaddthefollowingentrytotheAnalogiesfacetofC2:<CllOperations-on-and-onto(CI)><C2F2ThoseoperationsrestrictedtoC2's>Aftergeneralizing"Equality"intotheoperation"Same-length",AMseekstofindacanonical27representationforBags.Thatis,AMseeksacanonizingfunctionf,suchthat(foranytwobagsx,y)Same-length(x,y)iffEqual(f(x),1(y)).Thentherangeoffwoulddelineatethesetof'canonical"Bags.AMfindssuchanfandsuchasetofcanonicalbags:theoperationfinvolvesreplacingeachelementofabagby"T",andthecanonicalbagsaretho.ewhoseelementsareallT's.Inthiscase,theaboveruletriggers,withCI=Bags,C2=Bags-o"-T's,FISame-length,F2=Equality,andtheanalogywhichisproducedistheoneshownasexample.3above.TheAnalogyfacetsarenotimplementedinfullgeneralityintheexistingLISPversionofAM,andforthatreasonIshallrefrainfromdelvingdeeperintotheirformat.Sincegoodresearchhasalreadybeendoneonreasoningbyanalogy28,Ididnotviewitaszcentralfeatureofmywork.Verylittlespacewillbedevotedtoitinthisdocument.AnimportanttypeofanalogywhichwasuntappedbyAMwasthatbetweenheuristics.Iftwosituationsweresimilar,thenconceivablytheheuristicsusefulinonesituationmightbeuseful(orhaveusefulanalogues)inthenewsituation.PerhapsthisIsaviablewayofenlargingtheknownheuristics.Such"meta-level"activitieswerekepttoaminimumthroughoutAM,andthisprovedtobeaseriouslimitation.LetmestressthatthefailureoftheIntuitionsfacetstobenontrivialwasduetothelackofspontaneitywhichtheypossessed.Analogiesfacetswereusefuland"fair"sincetheiruseswerenotpredeterminedbytheauthor.27Anatural,standardformAllbagsdifferinginonly"unimportant"waysshouldbetransformedintothesamecanonicalformTwobagc8ian"d82whichhavethesamelengthshouldgettransformedintothesamecanonicalbag.28Anexcellentdiscussionofreasoningbyanalogyfoundin(Polya54]Someearlyworkonemulatingthiswasreportedin(Evans68],amorerecentthssitonthistop;is[Klh,,g71].Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-83-5.2.7.Coniec'sBasically,facetConjecofconceptCisalistofrelationshipswhichinvolveC.Weshalldiscussitssemantics(usesofthisfacet)beforeitssyntax.Perhapsthemostobvioususeforthisfacetwouldbetoholdconjectureswhichcouldnotbephrasedsimply.Yetitturnsoutthatluckily(Ithink),alltheconjectures"fellout"naturallyastrivialrelationships,e.g.simplyasarcsintheGeni/SpeclExs/Isaspointerformat.Specifically,themodalconjecturehadtheform"therangeofFisnotjustC,butactuallyS".rForexample,AMrestrictedTIMEStoperfectsquares,andnotedthattheresultwasnotmerelyanumberbutaperfectsquareeachtime.Theuniquefactorizationtheoremwasnoticedsimilarly(therangeofPrime-factoringswasalwaysasingleton,notmere!yaset).!nallthecasesencounteredbyAM,therewasneveranyrealneedforaplaceto"park"anawkwardly-phrasedconjecture,becausenoawkwardconjecturecouldeverpossiblybenoticed.WhyIsthisso?AMwasconstructedexplicitlyontheassumptionthatall(enough?)importanttheoremscouldbediscoveredinquitenaturalways,asverysimple(already-known)relationshipsonaiready-definedconcepts.AMembodiesseveralsuchassumptionsaboutmathresearch;theyarecollectedandpackagedfordisplayinSection7.2.6,onpage162.Whatelsemightthisfacetbeusefulfor,ifnotthestorageofawkwardly-wordedconjectures?Itmightbeagoodplacetostoreflimsyconjectures:thosewhichwerestrongenoughtogetconsidered,yetforwhichnotmuchempiricalconfirmationhadbeendone.ThisInfactwasoneimportantroleofthisfacet.Forexample,AMwasinitiallytoldthattherearetwospecializationsofUnordered-structures,namelyBagsandSets.ButAMwasnotgivenanyexamplesofanystructuresatall.Earlyon,itchosethetask"FillinexamplesofBags"fromtheagenda.Afterfillingthemin,aheuristiciulehadAMconsiderwhetherornotthisconceptofBagswasreallyanymorespecializedthantheconceptofUnordered-structures.Totestthisempirically,AMtriedtoverifywhetherornottherewereanyexamplesofUnordered-structuresthatwerenotexamplesofBags.Failuretofindanyledtoproposingtheconjecture"AllUnordered-structuresarereallyBags".Thiscouldhavebeenrecordedquiteeasily:BagswasalreadyknowntobespecializationofUnordered-structure,soallAMhadtodowastagitasageneralizationaswell(add"Bags"totheGeneralizationsfacetoftheUnordered-structuresconcept).Butaheuristicrulewhichknowsaboutsucl.equivalenceconjecturesfirstaskedwhethertherewereanyspecializationsofUnordered-structureswhichhadnoknownexamples,andfurwhichAMhadnot(recently,atleast)triedtofillinexamples.Infact,suchanentrywas"Sets".SotheconjecturewasstoredontheConjecfacetofUnordered-structures,andanewjobwasaddedtotheagenda:"FillinexamplesofSets".Thereasonwasthatsuchexamplesmightdisprovethisfhmsyconjecture.Infact,thejobalreadyexistedontheagenda,soonlythenewreasonwasadded,anditsprioritywasboosted.Whensuchexamplesweretound,theydidofcoursedisprovethatconjecture:eachsetwas%%'--Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-84-anUnordered-structureandyetwasnotaBag.29Thislastexamplehassuggestedanotheruseforthisfacet:holdingheuristicruleswhicharerelevanttofillinginandcheckingconjectures.Forexample,theConjecfacetofOperationshassomespecialheuristicswhichlookforcertainkindsofrelationshipsinvolvinganygivenoperation(e.g.,"PickanyexampleF(x)=y.Seewhatinterestingstatementscanbemadeabouty.ThentrytoverifyordisproveeachonebylookingatthevaluesofalltheotherknowncallsonoperationF").TheConjecfacetofAny-conceptwillcontainknowledgewhichismuchmoregeneralinscope(e.g.,"SeewhetherconceptCisanexampleofsomememberof(C.lsa).Spec").Compose.Conjecwillcontainmorespecificheuristics(e.g.,"SeeifthecompositionAoBisreallynodifferentfromB").GivenanyconceptC,AMwillrippleupwards,locatingIsas(C),andcollecttheheuristicswhicharetackedontotheirConjecfacets.Theseheuristicruleswillthenbeevaluated(inorderofincreasinggenerality),andsomeconjectureswillprobablybeproposed,checked,discarded,modified,etc.Infact,eachConjecfacetofeachconceptcanhavetwoseparatesubfacets:Conjec.FillinandConjec.Check.Theformercontainsheuristicsfornoticingconjectures,thesecondforverifyingandpatchingthemup.*Thereisyetanotheruseforthisfacet,oneofefficiencyofstorage.Afterdiscoveringthatallprimesexcept2areOdd-primes,thereisverylittlereasontokeeparoundOdd-primesasaseparateconceptfromPrimes.Yettheyarenotquiteequivalent.Primes.ConjecisagoodplaceforAMtostoretheconjecture"Prime(x)impliesthatx-2orOdd(x)",andtopullovertoPrimesanyefficientdefinition/algorithmwhichOdd-primesmightpossess(patchingituptoworkfor"2").andthendestroytheconceptOdd-primes.Anotherwayoutismerelytodestroy"Primes",andmake2adistinguishednumbertackedontotheJust-barely-missedsubfacetofOdd.primes.Exs(justlike"I"isalready).Hereisanotherexample:AMdiscoversthatSet-insertoSet-insertisthesameasjustSet-insert.Thatis,ifyouinsertxtwiceintoasetS,it'snodifferentthaninsertingitjustonce(becauseSetsdon'tallowmultiplecopiesofthesameelement).Thenthere'snolongeranyreasonforkeepingSet-insertoSet-inserthangingaroundasaseparateconcept.Instead,justaddasmallnewentrytoSet-insert.Conjecandforgetthatspace-consumingcompositionforever.ThereisanotheruseoftheConjecfacet:untanglingparadoxes.ItiswithnosorrowthatImentionthatthisfacilitywasneverneededbyAM:nogenuinecontradictionseverwerebelievedbyAM.Whatwouldonelooklike?SupposeachainofSpeclinksindicatesthatXisaspecializationofY,andyetAMfindssomeexamplexofXwhichdoesnotsatisfyY.Definition).SoXisandisnotaspecializationofY.Insuchcases,theConjecsfacetsoftheconceptsinvolvedwouldindicatewhichofthoseSpeclinkswereinitially-supplied(henceunchallengabie),whichlinkswerecreatedbasedonformalverifications(barelychallengable),andwhichlinkswereestablishedbasedonlyonempiricalevidence(yes,thesearetheoneswhichwouldthenfadeintothesunset).Ifithasto,AMshouldbeable.torecallthejustificationforeachnewlinkitcreated.AMcandeducethisbyexaminingtheConjecfacetsoftheconceptsinvolved.29Baegsarenotmultisets,althoughthosetwonotionsar@verycloselyrelatedtoeachother,Eachsetisamultisetby-*definition;buteachsetisguaranteedbydefinitiontonotbeabag.Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-35-Periodically(athugeintervals)AMchoseataskoftheform"CheckconjecsaboutC",atwhichtimealltheentriesonC.Conjecwouldbere-examinedinlightofexistingdata.Somewouldbediscarded(perhapscausingsomeExs/IsalSpec/Genllinkstovanishwiththem).Someoftheconjecturesmightbebelievedmuchmorestronglynow(causingsomenewlinkstoberecorded).Thisturnedouttobeasurprisinglyineffectiveactivity;veryfewnewrevelationswereobtainedthisway.Ultimately,thiskindoftaskwasmuzzled(AMwasinhibitedfromdoingthis).Theoretically,AMmightpossessruleswhichtransformedaconjectureintoamoreefficientalgorithmforanoperation,orwhichusedtheknowledgecontainedthereintospeedupanexistingalgorithm.Anothersophisticateduseofaconjecwouldbetosetupanew30representationschemeforaconceptFinally,theConjec'sfacetisusedasashowcase,tohighlightsomenicediscoverythatAMwantstodisplay.Theusercanlookattheentriesoneachconcept'sConjecfacet(afteralongrun)andgetabetterfeelingforAM'sabilities.IfthereareseveralpowerfulconjectureslistedforconceptC,thenitappearstotheuserthatAM"understands"theconceptmuchbetterthanifC.Conjecsisempty.Let'srecapitulatetheusesofthisfacet:1.Storeawkwardly-phrasedconjectures:thiswasn'treallyuseful.2.Storeflimsyconjectures:apparentrelationshipsworthremembering,yetnotquitebelieved.3.Holdheuristicswhichnoticeandcheckconjectures.4.Obviatetheneedformanysimilarconcepts:Collapsetheentirpessenceofarelatedconceptintooneortworelationshipsinvolvingthisone.5.Untanglingparadoxes:ahistoricrecord,whichwasn'treallyused..6.Improveexistingalgorithms,definitiontestingprocedures,representations.7.DisplayAM'smostimpressiveobservedrelationshipsinaformwhichiseasilyinspectablebytheuser.Thesyntaxofthisfacetissimplyalistofconjectures,whereeachconjecturehastheformofarelationship:(Rabc...d).Risthenameofaknownoperation(inwhichcase,abc...areitsargumentsandweclaimthatdisitsvalue),orRisapredicate(anddiseitherTrueorFalse),orRisthenameofakindoflink(Genl,Spec,Isa,orExs),andtheclaimisthataandbarerelatedbyR.Herearethreeexampleofconjectures,illustratingthepossibleformats:1.(ComposeSet-insertSet-insertSet-insert).ThissaysthatifyouapplytheknownnperationCompose,tothetwoargumentsSet-insertandSet-insert,thentheresultantcompositionisindistinguishablefromSet-insert.2.(Same-sizelnsert(S,S)SFalse).Thatis,insertingasetintoitselfwillalways(forfinitesets)giveyouasetofadifferentlength.3.(Example-ofPrime-factoringsFunction).Thisconjectureistheuniquefactorizationa30eg,afteruniquefactorizationisdiscovered,beginrepre-';ngnumbersisabagofprimes:nisrepresentedastheprimefactorizationofnThisi.exponentiallybtterthinunarynotationbag-of-T's,AMhadatinyabilityforthiskindofongoingtransformation,socrudeit'sbetterleftundescribedChapter5AM:DiscoveryinMathematicsasHeuristicSearch-86-theorem.Theoperationwhichtakesanumbern,andfindsallprimefactorizationsofn,isclaimedtobeafunction,notmerelyarelation.Thatis,eachnhaspreciselyonesuchprimefactoring.5.2.8.DefinitionsAtypicalwaytodisambiguateaconceptfromallothersistoprovidea"definition"forit.31Almosteveryconcepthadsomeentriesinitiallysuppliedonits"Definitions"facet.Theformatofthisfacetisalistofentries,eachonedescribingaseparatedefinition.Asinglew..entrywillhavethefollowingparts:1.Descriptors:Recursivel'.inear/Iterative,Quick/Slow,Opaque/Transparent,Once-only/Early/Late,Destructive/Nondestructive.2.Relators:ReducingtothedefinitionofconceptX,SameasYexcept....SpecializedversionofZ,UsingthedefinitionofW,etc.3.Predicate:Asmall,executablepieceofLISPcode,totellifanygivenitemisanexampleofthisconcept.Thepredicateor"code"partoftheentrymustbefaithfullydescribedbytheDescriptors,mustberelatedtootherconceptsjustastheRelatorsclaim.ThepredicatemustbeaLISPfunctionwiichtakeargument(s)andreturneitherTorNIL(forTrue/False),dependingonwhetherornottheargument(s)canberegardedasexamplesoftheconcept.Theargument"{AB)"shouldsatisfythepredicateofanyvaliddefinitionentryoftheSetsconcept.Thistripleofarguments<[AB),(AC),(ABC)>shouldsatisfyanydefinitionoftheSet-unionconcept,sincethethirdisequaltotheSet-unionofthefirsttwoarguments.HereisatypicalentryfromtheDefinitionsfacetoftheSet-unionconcept:Descriptors:Slow,Recursive,TransparentRelators:UsesthealgorithmforSet-insert,UsesthedefinitionofEmpty-set,UsesthedefinitionofSet-equal,UsesthealgorithmforSome-member,UsesthealgorithmforSet-delete,UsesthedefinitionofSet-unionCode:(ABC)IFEmpty-set.Defn(A)THENSet-equal.Defn(B,C)ELSEX4-Some-member.Alg(A)-'---'A4"Set-delete.Alg(X,A)B4"Set-insert.Ag(X,B)Set-union.DefnlA,B,C)31AsEPAMstudiershowed[Feigenbaum63],on,car!neverbesurethatthisdefinitionwillspecifytheconceptuniquelyforalltime.Inthedistantfuture,eomenewconceptmaydifferinwaysthoughttobeignortbleatthepresenttime.9-'2-5--J*.-,-Chapter5AM:DiscoveryinMathematicsasHeuristicSeatch-87-Letmestressthatthisisjustoneentry,fromonefacetofoneconcept.Thenotation"X,-Some-member.Alg(A)"meansthatanyonealgorithmfortheconceptSome-membershouldbeaccessed,andthenitshouldberunontheargumentA.Theresult,whichwillbeanelementofA,istobeassignedthename"X".TheeffectistobindthevariableXtosomememberofsetA.IntheactualLISPimplementation,theELSEpartoftheconditionalisreallycoded32as:(Set-union.OefntSet-delete.Alg(SETQX(Some-memberAlgAA)(Set-insert.AlgXB)CThisparticulardefinitionisnotveryefficient,butitisdescribedasTransparent.ThatmeansitisverywellsuitedtoanalysisandmodificationbyAMItself.Supposesomeheuristicrulewantstogerieralizethisdefinition.Itcanpeerinsideit,and,e.g.,replacethebasestepcallonSet-equal,byacallonageneralizationofSet-equal(say"Same-length"33).Howcoulddifferentdefinitionshelphere?SupposetherewereadefinitionwhichfirstcheckedtoseeifthethreeargumentswereSet-equaltoeachother,andIfsothenitinstantlyreturnedTasthevalueofthedefinitionpredicate;otherwise,itrecurredintoSet-union.Defnagain.Thismightbeagoodalgorithmtotryattheverybeginning,butiftheEqualitytestfails,wedon'twanttokeeprecurringintothisdefinition.ThisalgorithmshouldthushaveadescriptorlabellingitONCE-ONLYEARLY.AtypicalkindofentryfortheDefinitionsfacetofanoperationistosimplycallontheAlgorithwm.partofthatsameconcept.HereissuchanentryfromtheDefinitionsfacetoftheSet-unionconcept:Descriptors:noneRelators:UsesthedefinitionofSet-equal,UsesthealgorithmforSet-unionCode:X(ABC)Set-equa.Doefn(C,Set-union.Alg(A,B))Thisdefinitionisatrivialcallonthe"Algorithms"facetofSet-union.ThatIs,onewaytotestwhetherCistheset-unionofAandB,issimplytorunset-uniononAandB,andcomparetheresultagainstC.Thedescriptorsandrelatorsoftheparticularalgorithmwhichischosenwillthenbeaddedtothedescriptorsandrelatorswhichexistsofaronthisentry.Notethattheboxabove(liketheboxonthepreviouspage)issimplyoneentryontheDefinitionsfacetoftheSet-unionconcept.V_3232Theexpression"(fDefnal*2means'applythepredicatepartofadefinitionoff,toargumentsal,e2,...*.ThisdefinitionistoberandomlyselectedfromtheentriesontheDefinition*facetofconceptf.33Fordisjointsets,thenewdefinitionwouldspecifytheoperationwhichwecall"addition"%-Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-88-Therearethreepurposestohavingdescriptorsandrelatorshangingaround:1.Forthebenefitoftheuser.AMappearsmoreintelligentbecauseitcandescribethekindofdefinitionitisusingandwhy.2.Forthesakeofefficiency.WhenallAMwantstodoistoevaluateSet-union(A,B),it'sbestjusttograbafastdefinition.WhentryingtogeneralizeSet-union,it'smoreappropriatetomodifyaveryclean,transparentdefinitionevenifitisaslowone.3.Forthebenefitoftheheuristicrules.Often,aleft-oraright-hand-sidewillaskaboutacertainkindofdefinition.Forexample,"IfatransparentdefinitionofXexists,thentrytospecializeX".GrantedthatDescriptorsandRelatorsareuseful,howdothese"meta-level"modifiersgetfilledin,fornewly-created34concepts?Allsuchpowersareembeddedinthefinestructureof:heheuristicrules.ThisistruefortheAlgorithmsfacetaswell,andwillbeillustratedintheverynextsubsection.Letmepullbackthecurtainalittlefurther,andexposetheactualimplementationoftheseideasinAM.Thesecretsabouttoberevealedwillnotbeacknowledgedanywhereelseillthisdocument.Theymay,however,beofinteresttofutureresearchers.EachconceptmayhaveaclusterofDefinitionfacets,justasitcanhaveseveralkindsofExamplesfacets.Theseincludethreetypes:Necessaryandsufficientdefinitions,necessarydefinitions,andsufficientdefinitions.Thesethreetypeshavetheusualmathematicalmeanings.Allthathasbeenalludedtobefore(andafterthissubsection)isthenecc&sufftypeofdefinition(xisanexampleofCifandonlyifxsatisfiesC.Def/necc&suff).Often,however,therewillbeamuchquickersufficientdefinition(xsatisfiesC.Def/suf,onlyifxiscertainlyaC).Similarly,entriesonC.Def/necareusefulforquicklycheckingthatxisnotanexampleofC(tocheckthis,itsufficestoverifythatxfailstosatisfyanecessarydefinitionofC).SogiventhetaskofdecidingwhetherornotxisanexampleofC,wehavemanyalternatives:1.Ifxisaconcept,seeifCisamemberofx.ISA(ifso,thenxisanexampleofC).2.TrytolocatexwithinC.Exs.(dependingupontheflavorofsubfacetonwhichxisfound,thismayshowthatxisorisnotanexampleofC).3.Ifxisaconcept,rippletocollectISA's(x),andseeifCisamemberofISA's(x).4.IfthereisafastsufficentdefinitionofC,seeifxsatisfiesit.5.IfthereisafastnecessarydefinitionofC,seeifxfailsit(ifso,thenxisnotanexampleofC).6.IfthereisanecessaryandsufficientdefinitionofC,seewhetherornotxsatisfiesthatdefinition(thismayshowthatxisorisnotanexampleofC).7.TrytolocatexwithinC.Exs.(dependingupontheflavorofsubfacetonwhichxisfound,thismayshowthatxisorisnotanexampleofC).8.Recur:checktoseeifxisanexampleofanyspecializationofC.9.Recur:checktoseeifxisnotanexampleofsomegeneralizationofC(ifso,thenxisnotanexampleofC),Infact,thereisaLISPfunction,IS-EXAMPLE,whichperformsthosestepsinthatorder.Foinitially-supplieddefinitionentries,theauthorhand-codedthasemodifiers.L*C-Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-89-Ateachmoment,thereisatimerset,soevenifthereisanecessaryandsufficientdefinitionhangingaround,itmightrunoutoftimebeforesettlingtheissueonewayortheother.Eachtimethefunctionrecurs,thetimerisgrantedasmallerandsmallerquantum,untilfinallyithastoolittletobotherrecurringanymore.Thereisapotentialoverlapofactivity:toseeifxisanexampleofC,thefunctionmightaskwhetherxisorIsnotanexampleofaparticulargeneralizationofC(step9,above);totestthat,AMmightgettostep8,andagainaskifxisanexampleofC.Eventhoughthetimerwouldeventuallyterminatethisfiasco(andeventhoughthetrueanswermightbefounddespitethiswastedeffort)itisnotoverlysmartofAMtofallintothisloop.Therefore,astackismaintained,ofallconceptswhosedefinitionstheIS-EXAMPLEfunctiontriedtotestonargumentx.Asthefunctionrecurs,itaddsthecvrrentvalueofCtothatstack;thisvaluegetsremovedwhentherecursionpopsbacktothislevel,whenthatrecursivecall"returns"avalue.5.2.9.AlgorithmsEarlier,wesaidthateachconceptcanhaveanyfacetsfromtheuniversalfixedsetof25facets.Thisisnotstrictlytrue.Sometimes,awholeclassofconceptswillpossessacertaintypeoffacetwhichnoothersmaymeaningfullyhave.IfCcanhavethatfacet,thensocananyspecializationofC.Typically,therewillbesomeconcept-.suchthattheexamplesofCarepreciselythesetofconceptswhichcanpossessthenewfacet.Thatis,therewillbeadomainofapplicabilityforthefacet,justaswedefinedsuchdomainsofapplicabilityforheuristics.Forexample,considerthe"Domain/Range"facet.Itismeaningfulonlyto"operations",butreallyisanimportantfeatureofalloperations.ItsdomainofapplicabilityisOperation.Thekindsoffacetsincludingallsuchlimited"jargon"facetsisfixedonceandforall.NewkindsoffacetscannotbeconceivedandaddedbyAMitself.NordoesAMhaveanycontroloverthedomainofapplicabilityofeachfacet.Ifdesired,onecanviewallthisinamoregenerallight.Foreachfacetf,theonlyconceptswhichcanhaveentriesforfacetfareexamplesofsomeparticularconceptJ(f)the"J"standsfor"jargon".J(f)isthedomainofapplicabilityoffacetf.IfCisanyconceptwhichisnotanexampleofJ(f),thenitcannevermeaningfullypossessanyentriesforthatfacetf.Foralmostallfacetsf,J(f)is"Any-concept".Thusanyconceptcanpossessalmostanyfacet.Forexample,J(Defn)-"Any.conceFt",soanyconceptmayhavedefinitions.Thereareafewmorerestrictedfacets.Forexample,J(Domain/range)-"Operation".Soonlyoperationscanhavedomain/rangefacets.35Theconcept"Sets",whichisnotanoperation,can'thaveadomain/rangefacet.Similarly,J(Algorithms)="Actives".Thisfacetisthesubjectofthissection.TheAlgorithmsfacetispresentforallbutonlyforActives(predicates,relations,operations).Therepresentationis,asusual,alistofentries,eachonedescribingaseparatealgorithm.singleentrywillhavethefollowingparts:35Actually,Predicatesalsohavedomain/rangefacets,eventhoughtheRangepartsareallnecessarilytheasme.{T,F}..74Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-90-I.Descriptors:Recursive/Linear/iterative,Quick/Slow,Opaque/Transparent,Once-only/Early/Late,Destructive/Nondestructive.2.Relators:ReducingtothealgorithmforconceptX,SameasYexcept...,SpecializedversionofZ'salgorithm,UsingthealgorithmforW,etc.3.Program:Asmall,executablepieceofLISPcode,foractuallyrunningC.NotethesimilaritytotheformatfortheDefinitionsfacetsofconcepts.InsteadofaLISPpredicate,howe,er,theAlgorithmsfacetspossessaLISPfunction(anexecutablepieceofcodewhosevaluewillIngeneralbeotherthanTrue/False).That"program"partoftheentrymustbefaithfullydescribedbytheDescriptors,mustberelatedtootherconceptsjustastheRelatorsclaim,musttakeargurentsandreturnvaluesasspecifiedintheDomain/RangefacetofC,andwhenrunonanyarguments,theresultant<argsvalue>pairmustsatisfytheDefinitionsfacetofC.ThereisanextralevelofsophisticationwhichisavailablebutrarelyusedinAM.Thedescriptorscanthemselvesbesmallnumeric-valuedfunctions.Forexample,insteadofjustincludingtheDescriptor"Quick",andinsteadofjustgivingafixednumberforthespeedofthealgorithm,theremightbealittleprogramthere,whichlookedattheargumentsfedtothealgorithm,andthenestimatedhowfastthisalgorithmwouldbe.Themainreasonfornotusircythisfeaturemoreheavilyisthatmostofthealgorithmsarefairlyfast,andfairlyconstantinperformance.Itwouldbesillytospendmuchtimerecomputingtheirefficiencyeachtimetheywerecalled.Ifthealgorithmisrecursive,thisconjuresupevensillierpictures.Themainreasoninsupportofusingthisfeatureisofcourse"intelligence":inthelongrun,processingalittlebitbeforedecidingwhichalgorithmtorunhastobethewinningsolution.Atthemoment,itisnotyetcost-effective.HereisatypicalentryfromtheAlgorithms36facetoftheSet-unionconcept:Descriptors:Slow,Recursive,TransparentRelators:UsesthealgorithmforSet-insert,UsesthedefinitionofEmpty-set,UsesthealgorithmforSome-member,UsesthealgorithmforSet-insert,UsesthealgorithmforSet-unionCode:(AB)IFEmpty-set.Defn(A)THENBELSEX4-Some-member.Alg(A)A4"Set-delete.Alg(X,A)B4"Set-insert.Ag(X,B)Set-union.AIg(A,B)r3g36notethatiissimilarto--butnotidanticalto--theentryshownonpage86,oiaDefinitionofSet-union.%.,Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-91-NotethattheDescriptorsdon'tsaywhetherthisalgorithmisdestructive37ornot.Thatmeansthatthissamealgorithmcanbeusedeitherdestructivelyornot,dependingonwhatAMwants.Moreprecisely,it'suptothealgorithmswhichgetcalledonbythsone.iftheyartallchosentobedestructive,sowillSet-union.IftheyallcopytheirargumentsfirstthenSet-unionwillnotbedestructive.Forexample,notehowthealgorithmcallsonSet-insert(X,B).Ifthisisdestructive,thenattheendBwillhavebeenphysicallymodifiedtocontainX;theoriginalcontentsofBwillbelost.Thisparticularalgorithmisnotveryefficient,butitisdescribedasTransparent.ThatmeansitisverywellsuitedtoanalysisandmodificationbyAMitself.Supposesomeheuristicrulewantstospecializethisalgorithm.Itcanpeerinsideit,and,e.g.,replacethevariableXin(Set-insertXB)bytheconstant"T".WhyshouldAMbotherstoringmultiplealgorithmsforthesameconcept?Considerthisexampleagain,ofSet-union.SupposetherewereanalgorithmwhichfirstcheckedtoseeifthetwoargumentswereEqualtoeachother,andifsothenitinstantlyreturnedoneofthemasthefinalvalueforSet-union;otherwise,itrecurredintoSet-union.Alg.Thismightbeagoodalgorithmtotryattheverybeginning,butiftheEqualitytestfails,wedon'twanttokeeprecurringintothisdefinition.ThisalgorithmshouldthushaveadescriptorlabellingitONCE-ONLYEARLY.Also,thereisaniterativealgorithmwhichcheckstoseeifAequalsB,andifsothenitreturnsB.Ifnot,thealgorithmproceedstocheckthatAisshorterthanB,andifnotitswitchesthem.Finally,itentersaniterativeloopsimilartotherecursiveoneabove:itrepeatedlytransfersanelementfromAtoB,usingSome-member,Set-deleteandSet-insert.TnisiterativelooprepeatsuntilAbecomesempty.Whilemoreefficientthantherecursiveone,thisdefinitionislesstransparent.LAnevenmoreefficientalgorithmisprovided,butitistotallyopaque:Descriptors:Quick,Non-recursive,Non-destructive,OpaqueRelafors:noneCode:X(A8)(UNIONA8)ThisalgorithmcallsontheLISPfunction"UNION"toperformtheset-union.Itisthe"best"algorithmtochooseunlessspaceiscritical,inwhichcaseadestructivealgorithmmustbechosen,orunlessAMwishestoinspectitratherthanrunit,inwhichcaseatransparentonemustbepicked.37ALISPalgorithmisdestructiveifitphysically,permanentlymodifiestheliststructuresitisfedasarguments.Set-union(A,B)isdestructiveif--afterrunning--AandBdon'thavethesamevaluestheystartedwithTheadvantagesofdestructiveoperationsareincreasedspeed,decreasedspaceusedup,fewerassignmentstatements.Thedangerofcourseisinaccidentallydestroyingsomeinformationyoudidn'tmeanto.39Thisisafairlyuselessnewoperation,ofcourse.ItaddsTtoBunlessAisempty,inwhichcasethisoperationhasnoeffectatall.'"".r".--.--,".-.,;.-.=.2Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-92-Allthedetailsaboutunderstandingthedescriptorsandrelatorsareembeddedinthefinestructureoftheheuristicrules.Aleft-hand-sidemaytestwhetheracertainkindofalgorithmexistsforagivenconcept.Aright-hand-sidewhichfillsinanewalgorithmmustalsoworryaboutfillingintheappropriatedescriptorsandrelators.Aswithnewlycreatedconcepts,suchinformationistrivialtofillinatthetimeofcreation,butbecomesmuchharderafterthefact.HereisatypicalheuristicrulewhichresultsinanewentrybeingaddedtotheAlgorithmsfacetofthenewly-createdconceptnamedCompose-Set-Intersect&Set-Intersect:IFthetaskistoFillinAlgorithmsforF,andFisanexampleofCompositionandFhasadefinitionoftheformF'GoH,andFhasnotransparent,nonrecursivealgorithm,THENaddanewentrytotheAlgorithmsfacetofF,withDescriptors:Transparent,Non-recursivewithRelators:ReducingtoG.AlgandH.Alg,UsingtheDefinitionof(G.Domain>withProgram:X(II(G.Domain>ll,ll<H.Domain>lI-l,X)(SETQX(H.AIgII<G.Domain>II))(AND(<G.Domain>.DefnX)(G.AIgXII<H.Domain>l-I))Theintentofthelittleprogramwhichgetscreatedistoapplythefirstoperator,checkthattheresultisinthedomainofthesecond,andthenapplythesecondoperator.TheexpressionIG<G.Domain>lmeansfindadomainlrangeentryforG,counthowmanydomaincomponentsthereare,andformalistthatlongfromrandomly-chosenvariablenames(u,v,w,x,y,z).Forthecasementionedabove,FCompose-Set-Intersect&Set-lntersect,GSet-Intersect,andHSet-Intersect.ThedomainofGisapairofSets,soI<G.Domain>Iisalistof2variables,say(uv).Similarly,!!<H.Domain>I-IisalistofIvariable,say(w).Puttingallthistogether,weseethatthenewdefinitionentrycreatedforCompose-Set-intersect&Set-Intersectwouldlooklikethis:Descriptors:Non-Recursive,TransparentRelators:ReducingtoSet-intersectAIg,UsingthedefinitionofSetsCode:X(u,v,w,X)(SETQX(Set-intersect.AIguv))(AND(Sets.DefnX)(Set-lntersect.AigXw)Letmemakeclearhereone"kluge"oftheAMprogram.Attimes,AM-willbecapableofproducingonlyaslowalgorithmforsomenewconceptC.Forexample,TIMES'(x)wasVChapter5AM:DiscoveryinMathematicsasHeuristicSearch-93-originallydefinedbyAMasablind,exhaustivesearchforbagsofnumberswhoseproductisx.AsAMusesthatalgorithmmoreandmore,AMrecordshowslowitis.Eventually,ataskisselectedoftheform"FillinnewalgorithmsforC",withthetworeasonsbeingthatthe[existingalgorithmsarealltooslow,andtheyareusedfrequently.Atthispoint,AMshoulddrawonabodyofruleswhichtakeadeclarativedefinitionandtransformitintoanefficientalgorithm,orwhichtakeaninefficientalgorithmandspeeditup.Doingagoodjobonjustthoseruleswouldbeamammothundertaking,andtheauthordecidedtoomitthem.Instead,thesystemwilloccasionallybegtheuserforabetter(albeitopaque)algorithmforsomeparticularoperation.Ingeneral,theonlyrequestswereforinverseoperations,andeventhenonlyafewofthem.ThereaderwhowishestoknowmoreaboutrulesforcreatingandimprovingLISPalgorithmsisdirectedto[DarlingtonandBurstall73).Amoregeneraldiscussionoftheprinciplesinvolvedcanbefoundin[Simon72).5.2.10.Domain/RangeAnotherfacetpossessedonlybyactiveconceptsisDomain/Range.Thesyntaxofthisfacetisquitesimple.Itisalistofentries,eachoftheform<D1D2...-R>,wheretherecanbeanynumberofDi'sprecedingthearrow,andRandalltheDi'sarethenamesUfconcepts.Semantically,thisentrymeansthattheactiveconceptmayberunonalistofargumentswherethefirstoneisanexampleofD1,thesecondanexampleofD2etc.,andinthatcasewillreturnavalueguaranteedtobeanexampleofR.Inotherwords,theconceptmaybeconsideredarelationonthecross.productDixD2x...xR.WeshallsaythatthedomainoftheconceptisDlxD2x...,andthatitsrangeisR.EachDiiscalledacomponentofthedomain.Forexample,hereiswhattheDomain/RangefacetofTIMESmightlooklike:<NumbersNumbers-4Numbers><Odd-numbersOdd-numbers-#Odd-numbers><Even-NumbersEven-Numbers-4Even-numbers><Odd-numbersEven-Numbers-4Even-Numbers><Perf-SquaresPerf-Squares-4Perf-Squares><Bags-of-Numbers-4Numbers>HereiswhattheDomain/RangefacetofSet-Unionmightlooklike:<SetsSets4Sets><Nonempty-setsSets4Non-empty-sets><Sets-of-Sets4Sets>5.-Lin,-1XWTVN11ZChapter5AM:DiscoveryinMathematic,,asHeuristicSearch-94-TheDomain/Rangepartisusefulforpruningawayabsurdcompositions,andforsyntacticallysuggestingcompositionsand"coalescings".Let'sseewhatthismeans.Supposesomerulesometime.riedtocomposeTIMESoSet-union.AruletackedontoComposesaystoensurethattherangeofSet-unionatleastintersects(andpreferablyisequalto)somecomponentofthedomainofTIMES.Buttherearenoentitieswhicharebothsetsandnumbers39;etgothisfailsalmostinstantaneously.Thisistoohad,sincetherewasprobablyagoodreason(e.g.,intuition)fortryingthiscomposition.Iftheactivationenergy(priorityofthecurrenttask)ishighenough,AMwillcontinuetryingtoforceitthrough.ThefailurearosebecauseSetscouldnotbeviewedasiftheywereNumbers.Arelevantrulesays:IFyouwanttoviewX'sasiftheyw.reY's,THENseekaninterestingoperationFfromXtoY,todotheviewing.SoAMhadtolocateanyandalloperationswhosedomain/rangehadanentryoftheform<Sets-4Numbers>.TheonlysuchoperationknowntoAMatthetimewasF-Length.SothecompositionproducedwasTIMES[X,Length(Set-union(Y,Z))].NoticethatifthecompositionSet-unionoSet-unionisproposed,therewillbenoconflict,sincetherangeofSet-unionobviouslyintersectsonecomponentofthedomainofSet-union.HowcanAMdeterminethedomain/rangeofthiscomposition?AruletackedontoComposeindicatesthatifFGoH,andadomain/rangeentryforGis<A...X...B-4C>,andanentryforHis<D...EY>,andYintersectsX,thenanentryforF'sdomain/rangeis<A...D...E...B-sC>.Thatis,thedomainofHissubstitutedforthesinglecomponentofthedomainofGwhichcanbeshowntointersecttherangeofH.Pu:,.ysyntactically,AMcanthuscomputesomedomain/rangeentriesforthecompositionSet-unionoSet-union.<SetsSets-+Sets>and<SetsSets-+Sets>com,,binetoyield<SetsSetsSets-4Sets>;<Non-empty-setsSets--Non-empty-sets>and<SetsSets-4Sets>combinetoyield<Non-empty-setsSetsSets-+Non-empty-sets>:andsoon.Similarly,onecancomputeanentryforthedomain/rangefacetofthepreviouscompositionofthreeoperationsTIMESoLengthoSet.union:<SetsSets-+Sets),<Sets--4Numbers>,and<NumbersNumbers-4Numberscombinetoyield<NumbersSetsSets-4Numbers>SowhencomputingTIMES(X,Length(Set-union(Y,Z))),bothYandZcanbesets,andXanumber,andtheresultwillbeanumber.TheclaimwasalsomadethatDomain/Rangefacetshelpproposeplausiblecoalescings.Bycoalescing"anoperation,wemeandefininganewone,whichdiffersfromtheoriginaloneinthatacoupleoftheargumentsmustnowcoincide.Forexample,coalescingTIMES(x,y)resultsinthenewoperationF(x)definedasTIMES(x,x).Syntactically,wecancoal'cceapairofdomaincomponentsofthedomain/rangefacetofanoperationifthosetwor,maincomponentsareequal,orifoneofthemisaspecializationoftheother,oreveniftheyWhy?Thenumbern,toAM,isrepresentedinunary,asabagofnT'sNoneofthesearesetsThecomposition"TIMESoBAG-UNION"wouldhavemadetensetoAM,butwouldhrvebeendefinedonlyforbagsi-of-T'eThenTIMESoBAG-UNION(x,y,z)wouldbejustx(y~z).oIW1A.Chapter5AM:DiscoveryinMathernstctasHeuristicSearch.95-merelyintersect.Inthecaseofonerelatedtotheotherbyspecialization,themorespecializedconceptwillreplacebothofthem,Incaseofmerelyirtersecting,;.r,extratestwillhavetobeinsertedintothedefinitionofthenewcoalescedoperation.Giventhisdomain/rangeentryforSet-insert:<AnythingSets-4Sets>,weseethatitisripeforcoalescing.SinceSetsisaspecializationofAnything,thenewoperationF(x),whichisdefinedasSet-insert(x,x),willhaveadomainirangeentryoftheform<Sets-4Sets>.Thatis,thespecializedconceptSetswillreplacebothoftheolddomainelements(AnythingandSets).F(x)takesasetxandinsertsitintoit.;,".ThusF({a,b))u{a,b,{a,b)J.Infact,thisnewoperationFisveryexcitingbecauseitalways:eemstogiveanew,largersetthantheoneyoufeedinastheargument.WehaveseenhowtheDomain/rangefacet.canpruneawaymeaninglesscoalescings,aswellasmeaninglesscompositions.Anypror,,sedcompositionorcoalescingwillatleastbesyntacticallymeaningful.Ifallcompositionsareproposedonlyforatleastonegoodsemanticreason,thenthosepassingthedomain/rangetest,andhencethosewhichultimatelygetcreated,willallbevaluablenewconcepts.Sincealmostallcoalescingsaresemanticallyinteresting,anyofthemwhichhaveavalidDomain/Rangeentrywillgetcreatedandprobablywillbeinte:esti:;g.Thisfacetisoccasionallyusedtosuggestconjecturestoinvestigate.Forexample,aheuristicrulesaysthatifthedomain/rangeentrieshavetheform<DDD...-4genl(D)>,thenit'sworthwhileseeingwhetherthevalueofthisoperationdoesn'treallyalwaysiieinsideDitself.ThisisusedrightaftertheBagsoNumbersanalogyisfound,inthefollowingway.OneoftheBag-operationsknownalreadyisBag-union.TheanalogycausesAMtoconsideranewoperation,withthesamealgorithmasBag-union,butrestrictedtoBags-of-T's(numbersinunaryrepresentation).TheDonmain/rangefacetofthisnew,restrictedmutationofBag-unioncontainsonlythisentry:<Bags-of-T'sBags-of-T's4Bags>.SinceBagsisageneralizationofBags-of-T's,theheuristicmentionedabovetriggers,andAMseeswhetherornottheunionoftwoBags-of-T'sisalwaysabagcontainingonlyT's.Itappearstobeso,eveninextremecases,sotheoldDomainlrangeentryisreplacedbythisnewone:<Bags-of.T'sBabs-of-T's4Bags-of-T's>.WhentheuserasksAMtocallthesebags-of-T's"numbers",thisentrybecomes<NumbersNumbers-4Numbers>.Inmodernterms,then,theconjecturesuggestedwasth3tthesumoftwonumbersisalwaysanumber.Tosumupthislastabilityinfancylanguage,wemightsaythatonemechanismforproposingconjecturesistheprejudicialbeliefinthe:nlikelihoodofasymnlery.Inthiscase,itisasymmetryinthepartsofaDomain/rangeentrythatdrawsattei.:ion.Suchconjecturingcanbedonebyanyactionpartofanyheuristicrule;theConje,-fto.etentriesdon'thaveamonopolyoninitiatingthistypeofactivity.5.2.11.WorthHowcanwerepresenttheworthofeachconcept?Herearesomepossiblesuggestions:1.Themostintelligent(butmostdifficult)solutionis"purelysymbolically".Thatis,anindividualizeddescriptionofthegoodandbadpointsoftheconcept;whenitis'2useful,whenmisleading,etc.C2.Asimplersolutionwouldbeto"standardize"theabovesymbolicdescriptiononceChapter5AM:DiscoveryinMathematicsasHeuristicSearch-96-andforall,fixingauniversallistofquestions.Soeachconceptwouldhavetoanswerthequestionsonthislist(Howgoodareyouatmotivatingnewconcepts?,Howcostlyisyourdefinitiontoexcuz?Theanswersmighteachbesymbolic;,e.g.,arbitraryEnglishphrases.3.Tosimplifythisschemeevenmore,wecanassumethattheanswerstoeachquestionFwillbenumeric-valuedfunctions(i.e,LISPcodewhichcanbeevaluatedtoyieldanumberbetween0and1000).ThevectorofnumbersproducedbyEvaluatingallthesefunctionswillthenbeeasytomanipulate(e.g.usingdot-product,vector-product,vector-addition.etc.),aridthefunctionsthemselvesmaybeinspectedforser,anticcontent.Nevertheless,muchcontentislostinpassingfromsymbolicphrasestosmallLISPfunctions.4.Aslightsimplificationoftheabovewouldbetojuststorethevectorofnumbersansweringthefixedsetofquestions;i.e.,don'tbotherstoringabunchofprogramswhichcomputethemdynamically.5.Evensimplerwouldbetotrytoassignasingle"worthwhileness"numbertoeachconcept,inlieuofthevectorofnumbers.SimplearithmeticoperationscouldmanipulateWorthvaluesthen.Insomecases,thislinearorderingseemsreasonable("primes"reallyarebetterthan"palindromes".)Yetinmanycaseswefindconceptswhicharetoodifferenttobesoeasilycompared(eg.,"numbers"anddangles".)6.Theleastintelligentsolutionisnoneatall:eachconceptisconsideredequallyworthwhileasanyotherconcept.Thisthreatenstobecombinatorialdynamite.Asweprogressalongtheintelligent---trivialdimension,wefindthattheschemesgeteasierandeasiertocode,theWorthvaluesgeteasierandeasiertodealwith,buttheamountofreliableknowledgepackedintothemdecreases.Initially,scheme*3abovewaschosenforAM:avectorofnumeric-valuedprocedu'ralanswerstoafixedsetofquestions.Herearethosequestions,thecomponentsoftheWorthvectorsforeachconcept:1.Overallaestheticworth.2.Overallutility.Combinationofusefulness,ubiquity.3.Age.Howmanycyclessincethisconceptwascreated?4.Life-span.Canthisconceptbeforgottenyet?5.Cost.Howmuchcputimehasbeenspentonthisconcept,sinceitscreation?Noticethatingeneralnoconstantnumbercanansweroneofthesequestionsonceandforall(consider,e.g.,Life-span).Each'answer'hadtobeanumeric-valuedLISPfunction.Afewquestion:whichcropupoftenarenotpresentonthi.list,sincetheycanbeansweredtriviallyusingstandardLISPfunctions(e.g.,"HowmuchspacedoesconceptCuseup?"canbefoundby,.ailingthefu.nction"COUNT"ontheproperty-listoftheLISPatom"C").Anotherkindofuestion,whichwasanticipatedanddidinfactcomeupfrequently,isoftheform"How'goodaretheentriesonfacetFofthisconcept?",forvariousvaluesofF.xSincethereareacoupledo.zenkindsoffacets,thiswouldmeanaddingacoupledozenmoreq..estionstothelist.Thelinemustbedrawnsomewhere.IftoomuchofAM'stimeisdrainedbyevaluatingwhereitisalready,itcanneverprogress."',-1Chapter5AM:DiscoveryinMathematicsasHeuristicSearch.97-TheheuristicrulesareresponsibleforinitiallysettingupthevariousentriesartheWorthfacetsofnewconcepts,andforperiodicallyalteringthoseentriesforaliconcepts,andfordelvingintothoseentrieswhenrequired.Recentexperimentshaveshown(seeExperimentI,page127)therewaslittlechangeinbehaviorwheneachvectoroffunctionswasreplacedbyasinglenumericfunction(actually,thesumofthevaluesofthecomponentsofthe"old"vectoroffunctions).Therewasn'teventoomuchchangewhenthiswasreplacedbyasinglenumber.Therewasanoticeabledegradation(butnocollapse)whenalltheconcepts'numbersweresetequaltoeachotherinitially.Forthepurposesofthisdocument,then(exceptforthispageandthediscussionofExperiment1),wemayaswellassumethateachconcepthasasinglenumber(between0and1000)attachedasitsoverall"Worth"rating.Thisnumberisset40andreferencedandupdatedbyheuristicrules.ExperimentIcanbeconsideredasshowingthatamoresophisticatedWorthschemeisnotnecessaryfortheparticularkindsofbehaviorsthatAMexhibits.5.2.12.InterestNowthatweknowhowhowtojudgetheoverallworthoftheconcept"Composition",le,'sturntothequestionofhowinterestingsomespecificcompositionis.Unfortunately,theWorthfacetreallyhasnothingtosayaboutthatproblem.TheWorthoftheconcept"Compose"haslittleeffectonhowinterestingaparticularcompositionis:"CountoDivisors-of"isveryinteresting,and"InsertoMember"41islessso.TheWorthfacetsofthoseconceptswillsaysomethingabouttheiroverallvalue.Andyetthereissomeknowledge,some"features"whichwouldmakeanycompositionwhichpossessedthemmoreinterestingthanacompositionwhichlackedthem:Arethedomainandrangeofthecompositionequaltoeachother?Areinterestingpropertiesofeachc,:,,rponentofthecompositionpreserved?Areundesirablepropertieslost(i.e.,nottrueaboutthecomposition)?Isthenewcompositionequivalenttosomealready-knownoperation?Thesehintsabout"featurestolookror"belongtackedontotheCompositionconcept,sincetheymodifyallcompositions.Whereandhowcanthisbedone?Forthispurposeeachconceptincluding"Composition"canhaveentriesonIts"Interest"facet.Itcontainsabunchoffeatureswhich(iftrue)wouldmakeanyparticularexampleofthecurrentconceptinteresting.TheformatfoitheInterestfacetisasfollows:<Conflic4l-matrix<Faiurol,Value,,Reason,,Used,><Feature2,Value2,Reasun2,Used2>40Theauthorinitiallysetsthisvalueforthe115initialconcepts.HeuristicrulessetitforeachconceptcreatedbyAM.41INSERToMEMBER(x,yz).ifx(y,theninsert'Tintoz,elseinsert'NIL'intoz.LiKChapter5AM:DiscoveryinMathematicsasHeuristicSearch-98-<FeajureK,ValueK,Re.tsonK,UsedK)Thisistheformatofthefacetitself,notofeachentry.Theconflict-matrixisspecialandwillbediscussedbelow.EachFeature/ValuelReasonlUsedquadruplewillbetermedan"entry"ontheInterestfaret.Each"Feature,"isaLISPpredicate,indicatingwhetherornotsomeinterestingpropertyissatisfied.Thecorresponding"Value,"isanumericfunctionforcomputingjusthowvaluablethisfeatureis.The"Reason,"isatoken(usuallyanEnglishphrase)whichistackedalongandmovedaround,andcanbeinspectedbytheuser.The"Usedi"subpartisalistofalltheconceptswhosedefinitionsareknowntoincorporate42thisfeature;allexamplesofsuchconceptswillthenautomaticallysatisfythisFeaturei.%:Forexample,hereisoneentryfromtheInterestfacetofCompose:FEATURE:Domain(ArgI):Range(Arg2)VALUE:.4.4xWorth(Domain(Argl)).2xPriority(currenttask)REASON:"ThecompositionofArgiandArg2willmapfromasetbackintothatsameset"USED:Compose-with-sef-Domain=Range-operation,Interesting-compose-4JustaswithIsa'sandGeneralizations,wecanmakeageneralstatementaboutInterestfeatures:AnyfeaturetackedontotheInterestfacetofan)'memberofISA's(C),alsoappliestoC.Thatis,X.InterestisrelevanttoCiffCisanexampleofX.Forexample,anyfeaturewhichmakesanoperationinteresting,alsomakesacompositioninteresting.Sowe'dliketodefinethefunctionInterests(C)astheunionoftheInterestfeaturesfoundtackedontoanymemberofISA's(C).43Butsoneofthesemighthavealreadybeenconjinedtoadefinition,toformtheconceptC(orageneralizationofC).SoallC'swilltrivially(bydefinition)satisfysuchfeatures.TheUSEDsubpartscanbeemployedtofindsuchfeatures.Infact,thefinalvalueofInterests(C)istheonecomputedabove,usingISA's(C),butaftereliminatingallthefeatureswhoseUSEDsubpartspointedtoany*memberofISA's(C).ThiscoversthepurposeofeachsubpartofeachentryonatypicalInterestfacet.Nowwe'rereadytomotivatethepresenceoftheConflict-matrices.Often,AMwillspecializeaconceptbyconjoiningontoitsdefinitionsomefeatureswhichwouldmakeanyexampleoftheconceptinteresting.Soanyexampleofthisnewspecialized"t1,2NotSATISFYthefeature,ThusthegeneralconceptDomain-Range-opincorporatesthefeature"range(x0sonecomponent.=domin()"asjutoneoftheconjunctsiitdefintionOntheotherhand,Set-unionsatisfiesthefeature,sinceitssnie,Sets,reallyisonecomponentofitsdomainRecallthattheformulaforthisisISA's(C)Generalizations(Isa(Generalizations(C)))Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-99-conceptisthusguaranteedtobeaninterestingexampleoftheoldconcept.Sometimes,however,apairoffeaturesareexclusive:bothofthemcanneverbesati'fiedsimultaneously.Forexample,acompositioncanalsobeinterestingif"arg2"isanoperationfromRange(argl)intoasetwhichismuchmoreinterestingthaneitherDomain(argi)orRange(argl).Clearly,thisfeatureandtheoneshownabovecan'tbothbetrue("x=y"andxmuchmoreinterestingthany"can'toccursimultaneously).IfAMdidn'thavesomesystematicwaytorealizethis,however,itmightcreateanewconcept,calledInteresting-composition,definedasanycompositionsatisfyingbothofthosefeatures.Butthenthisconceptwillbevacuous:nooperationcanpossiblysatisfythatover-constraineddefinition;thisnewconceptwillhavenoexamples;itisthenullconcept;itistriviallyforgettable.MerelytothinkofitisablotonAM'sclaimtorationality.The"Conflict-matrix"isspecifiedtopreventmanysuchtrivialcombinationsfromeatingupalotofAM'stime(and,asusual,ithelpstomakeAMappearsmarter).IfthereareKfeaturespresentfortheInterestfacetoftheconcept,thenitsconflict-matrixwillbeaKxKmatrix.InrowI,columnjofthismatrixisaletter,indicatingtherelationshipbetweenfeaturesIandj:EExclusiveofeachother:theybothcan'tbetrueatthesametime.-4Implies:Iffeatureiholds,thenfeaturejmusthold.Impliedby:Iffeaturejholds,thensodoesfeaturei.=Equal.Featureiholdspreciselywhenfeaturejholds.UUnrelated.Asfarasknown,thereisnoconnectionbetweenthem.Theselittlerelationsareutilizedbysomeoftheheuristicrules.Hereisonesuchrule.Itspurposeistocreateanew,specializedformofconceptC,ifmanyexamplesofCwerepreviouslyfoundveryquickly.IFCurrent-taskis(FillinSpecializationsofC)andIIC.Examplesll>30andTime-spent-on-C-so-far<3cpuseconds,andInterests(C)isnotnull,THENcreat.anewconceptnamedInteresting-C,DefinedastheconjunctionofC.Defnandthehighest-valuedmemberofInterests(C)whichisU(unrelated)toanyfeatureUSEDinthedefinitionofC.andaddthefollowingtasktotheagenda:FillinexamplesofInteresting-C,withvaluecomputedastheValuesubpartofthechosenfeature,;orthisreason:"AnyexampleofInteresting-CisautomaticallyaninterestingexampleofC".andadd"Interesting-C"totheUSEDsubpartoftheentrywherethatsaeturewasoriginallypluckedfrom.t)fcourse,theLISPformoftheaboveruleisreallymoredetailedaboutwhattodo,butti-.,generalflavoroftheinteractionwiththeInterestfacetshouldcomeacross.Asbefore,th,.valuedesiredisnotC.Interest,butratherthepost-ripplingvalueInterests(C).C.Intco;.%insafewfeaturespertainingjusttoC's,butInterests(C)containsman)adJitionalfeat-!swhicharenotlimitedinscopetomerelyjudgingC's,butpertaintoamoregeneralclass:,concepts.Thequantity'Time-spent-on-C.so.far'isonecomponentoftheWorthVfacettC;itmightjustaswellhavebeenaccessedfromsome"Past-history"recordofAM'sactiviti,..Thenumbersintherileandeverylittlebitofthatrulewerespecifiedadhocby,1,eauthor.ThisistrueforeachruleinitiallypresentinAM.AsSection6.2willdiscuss,Oviprecisenumbersdon'tdrasticallyaffectthesystem'sperformance.C..%Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-100-5.2.13.SuggestThissectiondescribesaspace-saving"trick",anda"fix-up"toundosomepotentiallyseriousside-effectsofthattrick.Readersnotinterestedinthislevelofdetailmayskiptothenextsubsection.AMmaintainsalonglistoftasks(theagenda),orderedbyaglobalpriorityratingscheme.Besidesthis,AMmaintainstwothreshholds:Do-threshholdandalowerone,Be-threshhold.Whenanewtaskisproposed,ifitsglobalpriorityisbelowBe-threshhold,thenitwon'tevenbeenteredontheagenda.Thisvalueissetsolowthatanytaskhavingevenonemediocrereasonwillmakeitontotheagenda.Afterataskisfinishedexecuting,thetop-ratedonefromtheagendaisselectedtoworkonnextIfitspriorityratingisbelowDo-threshhold,however,itisputbackontheagenda,andAMcomplainsthatnotaskontheagendaisveryinterestingatthemoment.AMthenspendsaminuteorsolookingaroundfornewtasks,re-evaluatingtheprioritiesofthetasksontheagendaalready,etc.Onewaytofindnewtasks(andnewreasonsforalready-existingtasks)istoevaluatethe"Suggest"facetsofalltheconceptsinthesystem.Moreprecisely,eachSuggestfacetcontainssomeheuristics,encodedintoLISPfunctions.EachfunctionacceptsanumberNasanargument(representingsomeminimumvaluetolerableforanewtask),andthefunctionreturnsasitsvaluealistofnewtasks.Thesearethenmergedintotheagenda,ifdesired.Semantically,eachfunctionisoneheuristicruleforsuggestinganewtaskwhichmightbeveryplausible,promising,andaproposatthecurrenttime.Forexample,hereisoneentryfromtheSuggestfacetofAny-concept:IFtherearenoexamplesforconceptCfilledinsofar,THENconsiderthetask"FiilinexamplesofC",forthefollowingreason:"NoexamplesofCfilledinsofar",whosevalueishalfofWorth(C).Ifthatvalueisbelowargi,thenforgetit;otherwise,trytoaddtototheagenda.Theargument"argl"isthatlownumericv'lue,N,suppliedtotheSuggestfacet.Thisentryalonewillproduceamultitudeofpotentialtasks;forconceptswhoseWorthnumbersarehigh,orforwhichataskisalreadyontheagendatofillintheirexamples,thesesuggestedtaskswillberemembered;mostoftheotheroneswilltypicallybeforgotten.Oneuseofthisfacetisthusto"beefup"theagendawheneverAMisdiscontentedwithallthetasksthereon.Atsuchatime,AMmaycallonalltheSuggestfacetsinthesystem,andalargevolumeofnewtaskswillbeaddedtotheagenda.Manyofthemwillexisttherealready,butfordifferentreasons,somanyoldtasks'priorityvalueswillrise.Afterthisperiodofsuggestingisover,theagenda'shighest-rankingtaskwillhopefullyhaveahighervaluethananydidbefore.Alsoatthistime,theBe-thrcshholdandDo-threshholdnumbersarereduced.SotherearetworeasonswhythetoptaskmaynowberatedhigherthanDo-threshhold.Ifitisn't,thenthethreshholdsareloweredagain,andagainalltheSuggfacetsaretriggered(thistimewithalowerNvalue).Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-10-BoththreshholdsareraisedslightlyeverytimeAMsucceedsinpickingandexecutingatask.Sotheyfollowapatternofslowincrease,followedbyasuddendecrement,followedbyanotherslowincrease,etc.Thiswasintendedtomimicahuman'sincreasingexpectationsashemakesprogress.44Italsomimicsthewayahumanstrainshismindwhenanobstacletothatprogressappears;ifthestrainingdoesn'tproduceabrilliantnewinsight,hegrudginglyiswillingtoreducehisexpectations,andperhapsresumesome"oldpath"abandonedearlier.Anotheruseofthisfacetistore-suggesttasksthatmighthavebeendroppedfrom(ornevermadeitonto)theagenda,becausetheyweren'tvaluedaboveBe-threshhold.Howmightthiswork?Supposethat,atanearliertime,ataskwasproposedbutnevermadeItontotheagendabecauseBe-threshholdwasquitehigh.Now,supposeBe-threshholdismuchlower(duetoasuccessionoffailures).IfaSuggfacetre-proposesthatsametask,itwillbe-maccepted,will"stick"ontotheagenda(albeitnearthebottom).TheSuggestfacetscanreproducemostofthecommontasks,andtrytostickthemontheagenda(thoughusuallyforamediocretopoorreason).Itwillstillusuallyrequireanotherreasonforsuchatasktorisetotheverytopoftheagenda,andbeselectedandexecuted.Sotheuseofthetwothreshholdsisreallyanunaestheticspace-savingdevice,a,dtheroleoftheSuggestfacetsismerelytocorrecttheerrorsintroducedinthisway.Theremaybenoconvincingintuitivereasonforhavingthesefacetsatallina"just"world.5.2.14.Fillin/CheckTodoubteverythingdoesn'tsuffice;onemustknoww_,hedoubts.1--PoincrThereisonemorelevelofstructuretoAM'srepresentationofaconceptthanthesimple"propertiesonaproperty-list"image.Eachconceptconsitssofabunchoffacets;eachfacetfollowstheformatlayeddownforit(anddescribedintheprecedingseveralsubsections).Yeteachfacetofeachconceptcanhavetwoadditional"subfacets"(littleslotsthatarehungontoanydesiredslot)namedFillinandCheck.The"Fillin"fieldoffacetFofconceptCisabbreviatedC.F.Fillin.Theformatofthatsubfieldisalistofheuristicrules,encodedintoLISPfunctions.Semantically,eachruleinC.F.FillinshouldberelevanttofillinginentriesforfacetFofanyconceptwhichisaC.Thissubstructureisanimplementationanswertrthequestionofwheretoplacecertainheuristicrules.Asanillustration,letmedescribeatypicalrulewhichisfoundonCompose.Examples.Fillin.Accordingtothelastparagraph,thismustbeusefulforfillinginexamplesofanyoperation"44.Thiswastbasedonpersonalintrospection,andshculdbetestedexperimentally...o--.Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-102-whichisacomposition.TherulesaysthatifthecompositionAoBisformedfromtwoverytime-consumingoperationsAandB,thenit'sworthtryingtofindsomeexamplesofAoBbysymbolicmeans;inthiscase,scantheexamplesofAandofB,forsomepairofexamplesx-4y(exampleofB)andy-z(exampleofA).Thenpositthatx-4zisanexampleofAoB.ThisruleappliespreciselytothetaskoffillinginexamplesofExamples(Composition).Thus,itisrelevanttothetask"FillinexamplesofInsertoinsert".Itisirrelevantifyouchangetheaction(e.g.,"CheckexamplesofInsertolnsert"),orifyouchangethefacettobedealtwith(e.g.,"FillinalgorithmsforInsertolnsert"),orifyouchangetheclassofconcept(e.g.,"FillinexamplesofSet-union)45.Asanotherillustration,letmedescribeatypicalrulewhichisfoundonCompose.Conjec.Flllin.ItsaysthatonepotentialconjectureaboutagivencompositionAoBisthatitisunchangedfromA(orfromB).Thishappensoftenenoughthatit'sworthexaminingeachtimeanewcompositionismade.Thisruleappliespreciselytothetaskoffillinginconjecturesaboutparticularcompositions.ThesubfacetAny-Concept.Examples.Fillinis,zstelarge;itcontainsa!ifheknownmethodsforfillinginexamplesofC(whenall',;eknowisthatCisaconcept).Hereareafewofthosetechniques46:I.InstantiateC.Defri2.SearchtheexamplesfacetsofalltheconceptsonGeneralizations(C)forexamplesofC3.RunsomeoftheconceptsnamedInIn.ran-of(C)[i.e.,operationswhoserangeisC)andcollecttheresultantvalues.Any-Concept.Examples.Checkislargeforsimile"reasons.AtypicalentrytheresaystoexamineeachverifiedexampleofC:ifitisalsoanexampleofaspecializationofC,thenitmustberemovedfromC.Examplesandinserted47intotheExamplesfacetofthatspecializedconcept.HereisonetypicalentryfromOperation.Domain/Range.Check:IFadomain/rangeentryhastheform(DDD....-4R),andalltheD'sareequal,andRisageneralizationofD,THENit'sworthseeingwhether(DDD....-D)isconsistentwithallknownexamplesoftheoperation.Iftherearenoknownexamples,addatasktotheagendarequestingtheybefilledin.Ifthereareexamples,and(DDD...-4D)isconsistent,addittotheDomain/rangefacetofthisoperation.Iftherearesomecontradictingexamples,createanewconceptwhichisdefinedasthisoperationrestrictedto(DDD...-4D).Notethatitdoesmakesenseifyoureplacetheconcept"InsertoInsert"byanyotherexampleofaComposition(e.g.,"FillinexamplesofSet-UnionoSet-intersection").46TheinterestedreaderwillfindthemalllistedinAppendix3,beginningonpage233.ConditionallySinceeachconceptisoffiniteworth,itisallottedafiniteamountofspace.ArandomnumberisgeneratedtodecidewhetherornottoactuallyinsertthisexampleintotheExamplesfacetofthespecializationofC.Themorethatspeciatizefconceptis"exceedingitsquota",thenarrowertherangethattherandomnumbermustfallintotohaveOatnewiteminserted.TheprobabilityisneverpreciselyIor04,4,------Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-103-Notethatthis"Checking"ruledoesn'tjustpassivelycheckthedesignatedfacet;itactively"fixesup"faultyentries,addsnewtasks,createsnewconcepts,etc.Allthecheckrulesareveryaggressiveinthisway.Forexample,oneentryonNo-multiple-elements-structure.Examples.Checkwillactuallyremoveanymultipleoccurrencesofanelementfromastructure.Asyoumightexpect,thesetChecks(C.F)ofallrelevantrulesforcheckingfacetFofconceptCisobtainedas(ISA's(C)).F.Check.Thatis,lookfortheChecksubfacetoftheFfacetofalltheconceptsonISA's(C)).Similarly,Fillins(C.F)istheunionoftheFillinsubfacetsoftheFfacetsofalltheconceptsonISA's(C).WhenAMchoosesatasklike"FillinexamplesofPrimes",itsfirstactionistocomputeFillins(Primes.Exs).ItdoesthisbyaskingforISA's(Primes);thatis,alistofallconceptsofwhichPrimesisanexample.Thislistis:<ObjectsAny-conceptAnything>.SotherelevantheuristicsaregatheredfromObjects.Exs.Fillin,etc.Thislistofheuristicsisthenexecuted,inorder(lastexecutedaretheheristicsattachedtoAnything.Exs.Fillin).Itshouldnowbeclearwhatismeantwhenaconcept'sfacetsarelistedinthefollowingformat:Name(s)Frob,FrobnationoAlgorithmsAlA2ExamplesElE2E3E4E5E6FillinRulelRule2CheckRule3Rule4Rule5Domain/rangeDRIDR2DR3CheckRule6ConjecsClC2C3C4C5C6FillinRule7Rule8CheckRule9RulelOE.g.,theentryRule9isaheuristicrulewhichmayhelptocheckentriesontheConjecsfacetofanyFrob48.Thisnotationwillnotbeusedactuallyinthisdocument,partlyforthebenefitofthosereaderswhoskipthissubsection,partlyforconsistencybetweenconceptsIdiagrammedbeforeandafterthissubsection.Rather,alltheFillinheuristicsforaconceptwillbegatheredtogetherintowhatappearstobejustonecoherentfacet.Theoretically,ofcourse,onecouldorganizethemthatway,withanextrapreconditiononeachFillinheuristictoindicatewhichfacetitisusefulforfillingin.48'Frob'isanensenseword,avariableidentifierwhichstandsforanyconcept.Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-104-5.2.15.OtherFacetswhichwereConsideredMostfacets(like"Definitions")wereanticipatedfromtheverybeginningplanningofAM,andprovedjustasusefulasexpected.Others(like"Intuitions")werealsoexpectedtobeveryimportant,yetwereaseriousdisappointment.Stillothers(like"Suggest")wereunplannedandgrumblinglyacknowledgedasnecessaryfortheparticularLISPprogramthatbearsthenameAM.Finally,weturntoafewfacetswhichwereinitiallyplanned,andyetwhichwereadjudgeduselessaroundthetimethatAMwascoded.TheywerethereforeneverreallyapartoftheLISPprogramAM,althoughtheyfiguredinitsproposal.Letmelistthem,andexplainwhyeachonewasdropped.1.UN-INTERESTINGNESS.ThiswastobesimilartotheInterestpart.Itwouldcontainentriesoftheformfeaturelvalue/reason,wherethefeaturewouldbeabad(dull,trivializing,undesirable,uninteresting)propertythatanentity(aconceptoratask)mightpossess.Ifitdid,thenthevaluecomponentwouldreturnanegativenumberasitscontributiontotheworth/priorityofthatentity.Thissoundedplausible,butturnedouttobeuselessinpractice:(i)Therewereveryfewfeaturesonecouldpointtowhichexplicitlyindicatedwhensomethingwasboring;(ii)Often,aconjunctionofmanysuchfeatureswouldmaketheentityseemunusual,henceinteresting;(iii)Mostentitieswereviewedasverymediocreunlessluntilspecificreasonstothecontrary,andinthosecasesthepresenceafewboringpropertieswouldbeoutshadowedbythefewnon-boringones.Inaseaofmediocrity,thereislittleneedtoseparatetheboringfromtheveryboring.2.JUSTIFICATION.Forconjectureswhichwerenotyetbelievedwithcertainty,thispartwouldcontainalltheknownevidencesupportinghem.Thiswouldhopefullybeconvincing,iftheuser(oraconcept)everwantedtoknow.Incasesofcontradictionsarisingsomehow,thisfacetwastokeepholdofthethreadsthatcouldbeuntangledtoresolvethoseparadoxes.Asdescribedearlier,thisdutycouldnaturallybeassumedbytheConjecsfacetofeachconcept.Theotherintendedroleforthisfacetwastoholdsketchesoftheproofsoftheorems.Unfortunately,theintendedconceptsforProofandAbsolutetruthwereneverimplemented,andthusmostoftheheuristicruleswhichwouldhaveinteractedwiththisfacetareabsentfromAM.Itsimplywasneverneeded.3.RECOGNITIONOriginally,itwasassumedthatthelocationofrelevantconceptsandtheirheuristicswouldbemuchmorelikeafree-for-all(pandemonium)thananorderlyripplingprocess.AswiththeoriginaluseofBEINGs49theexpectationwasthateachconceptwouldhaveto"shoutout"itsrelevancewhenevertheactivitiestriggeredsomerecognitionpredicateinsidethatconcept.Suchpredicatesweretobestoredinthisfacet.Butitquicklybecameapparentthatthetriggeringpredicateswhichweretheleft-hand-sidesoftheheuristicruleswerequickenoughtoobviatetheneedforpre-processingthemtooheavily.Also,theonlyrulesrelevanttoagivenactivityonconceptCalwaysseemedtobeattainablebyripplinginacertaindirectionawayfromC.Thisvariedwiththeactivity,andarelativelysmalltablecouldbewritten,tospecifywhichdirectiontoripplein(foranygivendesiredactivity).Weseethatfor"Fill-inexamplesof...",thedirectiontorippleinis"Generalizations",tolocaterelevantheuristicrules,For"Judgeinterestof..."thedirectionisalsogeneralizations.For"Accessspecializationsof",the49Interactingknowledgomodules,eachmodulesimulatingadifferentexpertataround-tablemeeting.See[Lenat75b].Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-105-directionisSpecializations,etc.TheonlyimportantpointhereisthattheRecognitionfacetwasnolongerneeded.5.3.AM'sStartingConceptsThefirstsubsectionpresentsadiagramofthetop-ievel(general)conceptsAMstartedwith,withthelinesindicatingtheGeneralizationslSpecializationskindsofrelationships(singlelinelinks)andafewExamples/Isa'slinks(tripleverticallines).Severalspecificconceptshavebeenomittedfromthatpicture.AlltheconceptsinitiallyfedtoAMarethenlistedalphabeticaliyanddescribedinSection5.3.2.Afullfacet-by-facetdescriptionofeachconceptisprovidedinAppendix2.Finally,Section5.3.3discussesthechoiceofstartingconcepts.5.3.1.DiagramofInitialConceptsI_Chapter5AM:DiscoveryinMathematicsasHeuristicSearch*106-AnythingAny-conceptnon-conceptsActivityObjectRelation/PredicateOperationAtomConjecStructureCoalescg/setsInverted-operationCanonization/CompositionSetsRestricted-operationListsBagsOrd-pairsThediagramaboverepresentsthe"topmost"conceptswhichAMhadInitially,shownconnectedviaSpecializationlinksNandExampleslinks(11i.TheonlyconceptsnotdiagrammedareexamplesoftheconceptOperation.Thereare47suchoperations.Also,weshouldnotethatmanyentitiesexistinthesystemwhicharenotthemselvesconcepts.Forexample,thenumber"3",thoughitbeanexampleofmanyconcepts,isnotitselfaconcept.AllentitieswhichareconceptsarepresentonthelistcalledCONCEPTS,andtheyallhavepropertylists(withfacetnamesastheproperties).Inhindsight,thissomewhatarbitraryschemeisregrettable.AmoreaestheticdesignermighthavecomeupwithamoreuniformsystemofrepresentationthanAM's.Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-107-5.3.2.SummaryofInitialConceptsSincetheprecisesetofconceptsisnotcentraltothedesignofAM,orthequalityofbehaviorsofAM,theyarenotworthdetailinghere.Ontheotherhand,acursoryfamiliaritywiththeirnamesanddefinitionsshouldaidthereaderinbuildingupanunderstandingofwhatAMhasdone.Forthatreason,theconceptswillnowbebrieflydescribed,inalphabeticalorder.Thisisthesameorderasconceptsarelistedonpage173.AfullerdescriptionoftheconceptsisprovidedinAppendix2.Theorderingwithinthatappendixisdifferent;conceptsaregroupedtogetherIftheyaresemanticallyrelated,bystartingatthetopofthediagramandmeanderingdownward.ACTIVITYrepresentssomethingthatcanbe"performed".AllActivesandonlyActives-haveDomainirangefacetsandAlgorithmsfacets.ALL-BUf-FIRST-ELEMENTisanoperationwhichtakesanorderedstructureandremovesthefirstelementfromit.ItissimilarinspirittotheLispfunction"CDR".ALL-BUT-LAST-ELEMENTtakesanorderedstructureandremovesitslastelement.ANY-CONCEPTisusefulbecauseitholdsalltheverygeneraltacticsforfillinginandcheckingeachfacet.ThedefinitionofAny-conceptis"X(x)x(CONCEPTS".'CONCEPTS'isAM'sgloballistofentitiesknowntobeconcepts.Initially,thislistcontainsthehundredorsoconceptswhichAMstartswith(e.g.,allthosediagrammedontheprecedingpage).ANYTHINGisdefinedas"k,(x)T";i.e.,apredicatewhichwillalwaysreturntrue.Noticethatthesingleton{a}isanexampleofAnything,but(sinceit'snotonthelistCONCEPTS)itisnotanexampleofAny-concept.ATOMcontainsdataaboutallprimitive,indivisibleobjects(identifiers,constants,variables).BAGisatypeofstructure.Itisunordered,andmultipleoccurrencesofthesameelementarepermitted.Theyareisomorphictotheconceptknownas'multiset',exceptthatwestipulatethatsetsarenotbags.BAG-DELETEisanoperationwhichtakestwoarguments,xandB.Althoughxcanbeanything,Bmustbeabag.TheprocedureistoremoveoneoccurrenceofxfromB.BAG-DIFFisanoperationwhichtakestwobagsB,C.ItrepeatedlypicksamemberofC,andre-novesit(oneoccurrenceofit)frombothBandC.ThiscontinuesuntilCisempty.BAG-INSERTisanoperationwhichadds(anotheroccurrenceof)xintobagB.BAG-INTERSECTtakestwobagsB,C,andcreatesanewbagD.AnitemoccursinDtheminimumnumberoftimesitoccursineitherBorC.BAG-UNIONtakesbagCanddumpsallitselementsintobagB.CANONIZEisbothanexampleofandaspecializationof'Operation'.ItacceptstwopredicatesP1andP2asarguments,bothdefinedoversomedomainAxA,wherePIisaChapter5AM:DiscoveryinMathmaticsasHeuristicSearch-108-generalizationofP2.Canonizethentriestoproducea"standardrepresentation"forelementsofA,inthefollowingway.ItcreatesanoperationffromAintoA,saisfying.PI(x,y)iffP2(f(x),f(y)).Thenanyitemoftheformf(x)iscalledacanonicalmemberofA.Thesetofsuchcanonical-A'sisworthnaming,anditisworthinvestigatingtherestrictionsofvariousoperations'domainsandrangestothissetofcanonical-A'ss"Canonize"containslotsofinformationrelevanttocreatingsuchfunctionsf(givenPIandP2).ThusCanonizeisanexampleoftheconceptOperation.Canonizealsocontainsinformationrelevanttodealingwithanyandallsuchf's.SoCanonizeisaspecializationofOperation.COALESCEadmitsthesameduality51.ThisveryusefuloperationtakesasitsargumentanyoperationF(a,b,c,d...),locatestwodomaincomponentswhichintersect(preferably,whichareequal;saythesecondandthird),andthencreatesanewoperationGdefinedasG(a,b,d...)-F(a,b,b,d...).Thatis,Fiscalleduponwithapairofargumentsequaltoeachother.IfF-ercTi..cs,thenGwouldbeSquaring.IfFwereSet-insert,thenGwouldbetheoperationofinsertingasetSintoitself.COMPOSITIONinvolvestakingtwooperationsAandB,andapplyingtheminsequence:Ao,(x),A(B(x)).Thisconceptdealswith(!)theactivityofcreatingnewcompositions,givenapairofoperations;(ii)alltheoperationswhichwerecreatedinthisfashion.ThatiswhythisconceptisbothaspecializationofandanexampleofOperation.CONJECTURESareakindofobject.Thisconceptknowsaboutandcanstoreconjectures.WhenprooftechniquesareinsertedintoAM,thistinytwigofthetreeofconceptswillgrowtogiantproportions.CONSTANT-PREDICATEisapredicatewhichcanaffordtohaveaveryliberaldomain:italwaysignoresitsargumentsandjustreturnsthesamelogicalvalueallthetime.DELETEisanoperationwhichcontainsalltheinformationcommontoallflavorsofremovinganelementfromastructure(regardlessofthetypeofstructurewhichisbeingattenuated).Whencalledupontoactuallyperformadeletion,thisconceptdeterminesthetypeofstructureandthencallstheappropriatespecializeddeleteconcept(e.g.,Bag-delete).DIFFERENCEisanothergeneraloperation,whichacceptstwostructures,determinestheirtype(e.g.,Bags),andthencallstheappropriatespecializedversionofdifference(e.g.,Bag-diff).EMPTY-STRUCTUREcontainsdatarelevanttostructureswithnomembers.FIRST-ELEMENTisanoperationwhichtakesanorderedstructui.,andreturnsthefirstelement.ItisliketheLispfunction'CAR'.ICENTITYisjustwhatitclaimstobe.Ittakesoneargumentandreturnsitimmediately.Themainpurposeofknowingaboutthisboringtransformationisjustincasesomenewconceptturs.outunexpectedlytobeequivalenttoit.50ie,takeanoperationwhichusedtohave"A"atoneofitsdomaincomponentsorasitsrange,andtrytocreateanewoperationwithessentiallythesamedefinitionbutwhosedomain/rangesays"Canonical-A"insteadofA".51BothaspecializationofOperationandanexampleofOperation..-7,..Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-log-INSERTtakesanitemxandastructureS,determinesS'stype,andcallstheappropriateflavorofspecializedInsertionconcept.ThegeneralINSERTconceptcontainsanyinformationcommorttoallofthoseinsertionconcepts.INTERSECTisanoperationwhichcomputestheintersectionofanytwostructures.It,too,hasaseparatespecializationforBags,Sets,Osets,andLists.UINVERT-AN-OPERATIONisaveryactiveconcept.Itcaninvertanygivenoperation.IfF:X-+Yisanoperation,thenitsinversewillbeabbreviatedF"andF'l(y)isdefinedasallthex'sinXforwhichF(x)-y.ThedomainandrangeofF-1arethustherangeanddomainofF.INVERTED-OPcontainsinformationspecifictooperationswhichwerecreatedastheinversesofmoreprimitiveones.LAST-ELEMENTtakesanorderedstructureandreturnsitsfinalmember.LISTisatypeofstructure.Itisordered,andmultipleoccurrencesofthesameelementarepermitted.Listsarealsocalledvectors,tuples,andobags(for"orderedbags").LIST-DELETEisanoperationwhichtakestwoarguments,xandB.Althoughxcanbeanything,Bmustbealist.TheprocedureistoremovethefirstoccurrenceofxfromB.LIST-DIFFisanoperationwhichtakestwolistsBC.Itrepeatedlypicksamemberof0,andremovesit(thefirstremamingoccurrenceofit)frombothBandC.ThiscontinuesuntiltherearenomoremembprsinC.LIST-INSERTisanoperationwhichadds(anotheroccurrenceof)xontothefrontoflistB.ItisliketheLispfunction'CONS'.LIST-INTERSECTtakestwolistsB,C,andcreatesanewlistD.AnitemoccursInDtheminimumnumberoftimesitoccursineitherBorC.Disarrangedinorderas(asublistof)listB.rLIST-UNIONtakeslistCgluesitontotheendoflistB.It'slike'APPEND'inLisp.LOGICAL-RELATIONcontainsknowledgeaboutBooleancembinations:disjunction,conjunction,implication,etc.MULTIPLE-ELEMENTS-STRUCTURESareaspecializationofStructure.Theypermitthesameatomtooccurmorethanonceasamember.(e.g.,BagsandLists)NO-MULTIPLE-ELEMENTS-,TRUCTURESareaspecializationofStructure.Theypermitthesameatomtooccuronlyonceasamember.(e.g.,SetsandOsets)NONEMPTY-STRUCTtI-EScaspu.iaiizatonofStructurealso.Theycontaindataaboutallstructureswhichhavesomemembers.OBJECTisageneral,staticconcept.ObjectsarelikethesubjectsanddirectobjectsinI-i..,.7...-.--,-..,-,.-x-",-f''''.."-r.'Y"d':f,£":_,.,*"""";;Chapter5AM:DiscovervinMathematicsasHeuristicSearchsentences,whiletheActivesareliketheverbs52.OBJECT-EQUALITYisapredicate.Ittakesapairofobjects,andreturnsTrueif(i)theyareidentical,or(ii)theyarestructures,andeachcorrespondingpairofmemberssatisfiesObject-Equality.Oftenwe'llcallthis'Equal',anddenoteitasV.OPERATIONSareActiveswhichtakeargumentsandreturnavalue.WhileapredicateexaminesitsargumentsandreturnseitherTrueorFalse,anoperationexaminesitsargumentsandreturnsanynumberofvalues,ofvaryingtypes.Assu.mingthattheargumentslayinthedomaino,theoperation(asspecifiedbysomeentryonitsDomain/rangefacet),theneveryvaluereturnedmustliewithinitsrange(asspecifiedbythatsameDomain/rangeentry).ORDERED-PAIRisakindofList.Ithasjusttwo'slots',however:afrontand.4rearelement.ORDERED-STRUCTUREisaspecializedtypeofStructure.Itincludesallstructuresforwhichtheorderofinsertionoftwomemberscanmakeadifferenceinwhetherthestructuresareequalornot.Ordered-structuresarethoseforwhichitmakessensetotalkaboutafrontandarear,afirstelementandalastelement.OSETisatypeofstructure.Itisordered,andmultipleoccurrencesofthesameelementarenotpermittedTheshort-term-memoryofNewell'sPSG[Newell73]isanOset,asIsacafeterialine.NotmuchusewasfoundforthisconceptbyAM.OSET-DELETEremov,xfromosetB(ifxwasinB).OSET-DIFFisanoperationwhichtakestwoosetsB,C.ItremoveseachmemberofCfromB.OSET-INSERTisanoperationwhichaddsxtothefrontofosetB.IfxwasinBpreviously,itissimplymovedtethefrontofB.OSET-INTERSECTtakestwoosetsB,C,andremovesfromBanyitemswhicharenotinCas-.-,well.Bthus'induces'theorderingontheresultantoset.OSET-UNIONtakesosetC,removesanyelementsinBalready,thenglueswhat'sleftofContotherearofB.PARALLEL-JOINisanoperationwhichtakesakindofstructureandanoperationH.ItcreatesanewoperationF,whosedomainisthattypeofstructure.ForanysuchstructureS,F(S)iscomputedbyappendingtogetherH(x)foreachmemberxofS.PARALLEL-JOIN2isasimilaroperation.ItcreatesanoperationFwithtwostructuralarguments.F(S,L)iscomputedbyappendingthevaluesofH(x,L),asxrunsthroughtheelementsofS.5352AsinFnglish,aparticularActivitycansometimesitself:ethesubjectHere,thearetoPARALLEL-JOIN2aretwotypesofstructuresSSandLL,andanoperationHwhoserangeisalsoastructuraltypeDD.Thennewoperationiscreated,withdomainSSxLLandrangeDD.Chaple;5AM:DiscoveryinMathematicsasHeuristicSearch-III-PARALLEL-REPLACEisanoperationusedtosynthesizenewsubstitutionoperations.IttakesastructuraltypeandanoperationHasitsarguments,aridcreatesanewoperationF.F(S)iscomputedbysimplyreplacingeachmemberxofSbythevalueofF(x).TheoperationproducedisverymuchliketheLispfunctionMAPCAR.PARALLEL-REPLACE2isaslightlymoregeneraloperation.ItcreatesF,whereF(S,L)iscomputedbyreplacingeachx(SbyF(x,L).PREDICATESareactiveswhichexaminetheirargumentsandthenreturnTorNIL(TrueorFalse).ItisonlyduetothecapriciousnessofAM'sinitialdesignthatpredicatesarekeptdistinctfromoperations.Ofcourse,eachexampleofanoperationcanbeviewedasifitwereapredicate;ifF:A-BisanyoperationfromAtoB,thenwecanconsiderFarelationonAxB,thatisasubsetofAxB,andfromtherepasstoviewingFasa(characteristic)predicateF:AxB4[T,F.Similarly,anypredicateonAx...xBxCmaybeconsideredanoperation(amulti-valued,not-always-definedfunction)fromAx...xBintoC.Therearenounarypredicates.Iftherewereone,sayP:A-*[T,F},thenthatpredicatewouldessentiallybeanewwaytoviewacertainsubsetofA;thepredicatewouldthenbetransformedinto{a(AIP(a)},madeintoanewconcept,taggedasaspecializationofA,anditsdefinitionwouldbe"X(a)[A.Defn(a)AP(a)]".PROJECTIONIisasimpleoperation.Itisdefinedas>,(xy)x.NoticethatIdentityisjustaspecializedrestrictionofProji.Projl(Me.You).Me.PROJECTION2isasimilaroperation.ItisdefinedasX,(Ny)y.RELATIONisatn,Activewhichhasbeenencapsulatedintoasetoforderedpairs.'Relation'bridgesthegapbetweenactiveandstaticconcepts.REPEATisanoperationforgeneratingnewoperationsbyrepeatingoldones.GivenasitsargumentastructuraltypeSSandanexistingoperationH(withdomainandrangeoftheformSSxSS4SS),Repeat(SS,H)synthesizesabrandnewoperationF.ThedomainlrangeofFisjustthatofH.F(S)iscomputedbyrepeatingTEMP'-H(x,TEMP)foreachelementxofS.TEMPisinitializedassomemember(preferablythefirstelement)ofS.REPEAT2issimilar,butrequiresthatHtakethreearguments,anditcreatesF,whereF(S,L)isgottenbyrepeatedlydoingTEMP-H(x,TEMP,L).RESTRICTisanoperationwhichturnsoutnewoperations.Givenanargumentoperation(orpredicate)F,thesynthesizedconceptwouldhavethesamedefinitionasF,butwouldhaveitsdomainand/orrangecurtailed.REVERSE-ORDERED-PAIRtransformstheorderedpair<x,y>into<y,x>.SETisatypeofstructure.Itisunordered,andmultipleoccurrencesofthesameelementarenotpermitted.SET-DELETEisanoperationwhichtakestwoarguments,xandB.Althoughxcanbeanything,Bmustbeaset.TheprocedureIstoremovexfromB(ifxwasInB),thentetu-.n!!,presultantvalueofB.Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-I12-qFT-nIFFisanoperationwhichtalestwosetsB,C.ItremoveseachmemberofCfromB.SET-INSERTisanoperationwhichaddsxtosetB.SET-INTERSECTremovesfromsetBanyitemswhicharenotinsetC,too.SET-UNIONdumpsintoBailthemembersofCwhichweren'tintherealready.STRUCTURE,theantithesisofATOM,isinherentlydivisible.Astructureissomethingthathasmembers,thatcanbebrokenintopieces.Therearetwoquestionsonecanaskaboutanykindofstructure:Isitorderedornot?Cantherebemultipleoccurrencesofthesameelementinitornot?Therearefoursetsofanswerstothesetwoquestions,andeachofthefourspecifiesawel-knewnkindofstructure(Sets,Lists,Osets,Bags).STRUCTURE-OF-STRUCTURESisaspecializationofStructure,representingthosestructuresallofwhosemembeisarethemselvesstructures.TRUTH-VALUEisaspecializedkindofatomicobject.ItsonlyexamplesareTrueandFalse.Thisconceptistherangesetforallpredicates.UNIONisageneralkindofjoiningoperation.Ittakestwostructuresandcombinesthem.FourseparatevariantsofthisconceptaregiventoAMinitially(e.g.,Set-union).UNORDERED-STRUCTUREisaspecializedtypeofStructure.Itincludesallstructuresforwhichtheorderofinsertionoftwomembersnevermakesanydifferenceinwhetherthestructuresareequalornot.Unordered-structurescannotbesaidtohaveafrontorarear,afirstelementoralastelement.5.3.9.RationalebehindChoiceofConceptsAnecessarypartofrealizingAMwastochooseaparticularsetofstartingconcepts.Buthowshouldsuchachoicebemade?MyfirstImpulsewastogatheracompletesetofconcepts.Thatis,abasiswhichwouldbesufficienttoderiveallmathematics.ThelongerIstudiedthis,thelargertheestimatedsizeofthisbasisgrew.Itimmediatelybecameclearthatthiswouldneverfitin256k.eOnephilosophicalproblemhereisthatfuturemathematicsmaybeinspiredbysomereal-worldphenomenawhichhaven'tevenbeenobservedyet.AliensvisitingEarthmighthaveadifferentmathematicsfromours,sincetheircollectivelifeexperiencescouldbequitedifferentfromweTerrans.Scrappingtheideaofasufficientbasis,whataboutanecessaryone?Thatis,abasiswhich*wouldbeminimalinthefollowingsense:ifyoueverremovedaconceptfromthatbasis,itcouldneverbere-discovered.Inisolatedcases,onecantellwhenabasisIsnotminimal:ifitcontainsbothadditionandmultiplication,thenitistoorich,sincethelattercanbe54ThisisthesizeofthecorememoryofthecomputerIhadatmydisposEl.4'".-.-.-....-.-_-.-°.._.-,.,-..-...-..-...=,.,.,,,,,,,,Chapter5AM:DiscoveryinMathematicsasHeuristicSearch-113-derivedfromtheformer.55ndyet,thesameproblemabout"absoluteness"croppedup:howcananyoneclaimthet'ediscoveryofXcanneverbemadefromagivenstartingpoint?Untilrecently,mathemd,ciansdidn'trealizehownaturalitwastoderivenumbersandarithmeticfromsettheor;,.taskwhichAMdoes,bytheway)56.So50yearsagotheconceptsofsettheoryandnumbartheorywouldbothhavebeenundisputedlyplacedintoa"minirrial"basis.Therearethusnoabsoluteconceptualprimitives;eachculture(perhapsOIeveneachindividual)possessesitsownbasis.SinceIcouldn'tgiveAMaminimalbasis,noracompleteone,IdecidedAMmightaswellhaveaniceone.Althoughitcanneverbeminimal,itshouldneverthelessbemadeverysmall(orderofmagnitude:100concepts).Althoughitcanneverbecomplete,itshouldsufficeforre-discoveringmuciofalready-knownmathematics.Finally,itshouldbeNOrational,bywhichImeanthatthereshouldbeasimplerulefordecidingwhichconceptsdoanddon'tbelonginthatbasis.TheconceptsAMstartswitharemeanttobethosepossessedbyyoungchildren(age4,say).Thisexplainssomeomissionsofconceptswhichwouldotherwisebeconsideredfundamental:(i)Proofandtechniquesforproof/disproof;(ii)Abstractpropertiesofrelations,likeassociativity,single-valued,onto;(iii)Cardinality,arithmetic;(iv)Infinity,continuity,limits.Theinterestedreadershouldsee[Piaget55]or(Copeland70].BecausemyprogrammingtimeandthePDP-10'snemoryspacewerebothquitesmall,onlyasmallpercentageorthese'pre-numerical'conceptscouldbeincluded.Someunjustifiedomissionsare:(i)visualoperations,likerotation,coloration;(ii)Games,rules,procedures,Ulstrategies,tactics;(iii)Geometricnotions,e.g.,outsideandbetween.AMisnotsupposedtobeamodelofachild,however.Itwasnevermyintention(anditwouldbemuchtoohardforme)totrytoemulateahumanchild'swhimsicalimaginationandemotivedrives.AndAMisnotripefor"teaching",asarechildren.7Also,thoughitpossessesachild'signoranceofmostconcepts,AMisgivenalargebodyofsophisticated."adult"heuristics.SoperhapsamorefaithfulimageisthatofRamanujan,abrilliantmodernmathematicianwhoreceivedaverypooreducation,andwasforcedtore-derivemuchofknownnumbertheoryallbyhimself.Incidentally,Ramanujanneverdidmastertheconceptofformalproof.Thereisnoformi.1justificationfortheparticularsetofstartingcotiLepts.Tl'?y:r,;Illreasonablyprimitive(sets,composition),andlieseverallevels"below"theoneswhi.-.AMmanagedtoultimatelyderive(primefactorization,square-root).It.,*,,tevaluabletoattemptasimilarautomatedmathdiscoverer,whir-h,ganwithaverydifferentsetofconcepts(eg.,startitoutasanPvpc;.inlatticetheory,possessingallknownconceptsthereof).Theconvr,:kiilaofexperimentsaretovarytheinitialbaseofconcepts,andobserv-t,%et.ectsonAM'sbehavior.Afewexperimentsofthatformaredescribedinbection6.2.byAM,andbyanymathematicianAsDonCohenpointsout,iftheresearcherlackedtheproperdiscoverymethods,thenhemightneverderiveTimesfromPks56The"newmath"istryingtogotyoungchildrentodothisaswell.unfortunately,nooneshowedtheelementary-schoolteacherstheunderlyingharmony,andtheresultshavebeensaddening57LearningpsychologistsmightlabelAMasneo-behavioristicandcognitivistic.See[LeFrancois]-'"-114-Chapter6.ResultsThischapteropensbysummarizingwhatAM"did".Section1givesafairlyhigh-leveldescriptionofthemajorpathswhichwereexplored,theconceptsdiscoveredalongtheway,therelationshipswhichwerenoticed,andoccasionallytheoneswhich"should"havebeenbutbutweren't.Thenextsection(6.2)continusthisexpositionbypresentingtheresultsofexperimentswhichweredonewith(andon)AM.Chapter7willdrawupontheseresultsandothersgivenintheappendicestoformconclusionsaboutAM.Severalmeta-levelquestionswillbetackledthere(e.g.,"WhatareAM'slimitations?").6.1.WhatAMDidNowwehaveseenthatmathematicalworkisnotsimplymechanical,thatitcouldnotbedonebyamachine,howeverperfect.Itisnotmerelyaquestionofapplyingrules,ofmakingthemostcombinationspossibleaccordingtocertainfixedlaws.Thecombinationssoobtainedwouldbeexceedinglynumerous,useless,andcumbersome.Thetrueworkoftheinventorconsistsinchoosingamongthesecombinatioassoastoeliminatetheuselessonesorrathertoavoidthetroubleofmakingthem,andtheruleswhichmustguidethischoiceareextremelyfineanddelicate,itisalmostimpossibletostatethemprecisely;theyarefeltratherthanformulated.Undertheseconditions,howimagineasievecapableofapplyingthemmechanically?--Poincars'AMisbothamathematicianofsorts,a,idabigcomputerprogram.BygrantingAMmoreanthropomorphicqualitiesthanitdeserves,wecandescribeitsprogressthroughelementarymathematics.Itrediscoveredmanywell-knownconcepts,acoupleinterestingbutnot-generally-knownones,andseveralconceptswhichwerehithertounknownandshouldhavestayedthatway.Section1.3,onpage10,recapswhatAMdid,muchasahistorianmightcriticallyevaluateEuler'swork.AmoredetailedprosedescriptionofeverythingAMdidisfoundinAppendix5.1,beginningonpage287.-I'Chapter6AM:DiscoveryinMathematicsasHeuristicSearch-115-Insteadofrepeatinganyofthisdescriptiveprosehere,Section6.1.!willprovideaverybrieflistingofwhatAMdidinasinglegoodrun,taskbytask.AmuchmoredetailedversionofthissamelistisfoundinAppendix5.2,beginningonpage294.Thetasknumberstherecorrespondtothenumberingbelow1.Thesetask-by-tasklistingsarenotcompletelistingsofeverytaskAMeverattemptedinanyofitsmanyruns,butratheratraceofasingle,better-than-averagerunoftheprogram.2Thereadermaywishtoconsultthebriefalphabetizedglossaryofconceptnamesinthelastchapter(page107),orthemoredetailedappendixofconceptdescriptions(followingpage173).FollowingthislineartraceofAM'sbehaviorisamoreappropriaterepresentationofwhatitdid:namely,atwo-dimensionalgraphofthatsamebehaviorasseenin"concept-space".ThisformsSection6.1.2,andisfoundonpage123.Byunder-estimatingAM'ssophistication,onecandemandanswerstothetypicalquestionstoaskaboutacomputerprogram:howbigisit,howmuchcputimedoesituse,whatlanguageit'scodedin,etc.ThesearefoundInSection6.1.3.6.1.1.LinearTask-by.taskSummaryofaGoodRun1.FillinexamplesofCompose.Failed,butsuggestednexttask:2.FillinexamplesofSet-union.Alsofailed,butsuggested:3.FillinexamplesofSets.Manyfound(e.g.,byinstantiatingSet.Defn)andthenmorederivedfromthoseexamples(e.g.,byrunningUnion.Alg).4.FillinspecializationsofSets(becauseItwasveryeasytofindexamplesofSets).Creationofnewconcepts.One,INT-Sets,isrelatedto"Singletons".Another,"Bl,-Sets",isallnestsofbraces(noatomicelements).5.FillinexamplesofINT-Sets.ThisindirectlyledtoariseintheworthofEqual.6.CheckallexamplesofINT-Sets.Allwereconfirmed.AMdefinesthesetofNonemptyINT-Sets;thisisrenamed"Singletons"bytheuser.7.CheckallexamplesofSets.Tocheckacoupleconjectures,AMwillsoonlookforBagsandOsets.8.FillinexamplesofBags.9.FillinspecializationsofBags.CreatedINT-Bags(containjustonekindofelement),andBI-Bags(nestsofparentheses).10.FillinexamplesofOsets.11.CheckexamplesofOsets.1'2.FillinexamplesofLists.13.CheckexamplesofLists.14.FillinexamplesofAll-but-first.15.FillinexamplesofAll-but-last.16.FillinspecializationsofAll-but-last.Failed.TheydonotpreciselymatchthetasknumbersaccompanyingtheexamplegiveninChapter2.2Infact,itisperhapsthebestoverallrun.Itoccurredintwostages(duetospaceproblems;unimportant).Inthisparticularrun,AMmissesthefew"verybest"discoveriesRevermade,sincetherunstheyoccurredinwentinsomewhatdifferentdirections.Italsoomitssomeofthemoreboringtaskssee,eC.,thedescriptionoftasknumber69.Chapter6AM:DiscoveryinMathematicssHeuristicSearch17.FillinexamplesofList-union.18.FillinexamplesofProjl.19.CheckexamplesofAll-but-first.20.CheckexamplesofAll-but-last.21.FillinexamplesofProj2.22.FillinexamplesofEmpty-structures.4found.23.FillingeneralizationsofEmpty-structures.Failed.24.CheckexamplesofList-union.25.CheckexamplesofBags.DefinedSingleton-bags.26.FillinexamplesofBag-union.27.CheckexamplesofProj2.28.FillinexamplesofSet-union.29.CheckexamplesofSet-union.Definex(x,y)xuy.x,latercalledSuperset.30.FillinexamplesofBag-insert.31.CheckexamplesofBag-insert.RangeIsreallyNonemptybags.IsolatetheresultsofinsertionrestrictedtoSingletons:callthemDoubleton-bags.32.FillinexamplesofBag-intersect33.FillinexamplesofSet-insert.34.CheckexamplesofSet-insert.RangeisalwaysNonemptysets.DefineA(x,S)Set-insert(x,S)=S;i.e.,setmembership.DefineDoubletonsets.35.FillinexamplesofBag-delete.1:36.FillinexamplesofBag-difference.37.CheckexamplesofBag-intersect.Define(x,y)xny=-,i.e.disjointbags.38.FillinexamplesofSet-intersect.39.CheckexamplesofSet-intersect.Definex,(x,y)xnyux;i.e.,subset.Alsodefinedisjointsets:A(x,y)xnyu{}.40.FillinexamplesofList-intersect.41.FillinexamplesofEqual.Verydifficulttofindexamples;thisledto:F42.FillingeneralizationsofEqual.Define"Same-size","Equal-CARs",andsomelosers.43.FillinexamplesofSame-size.44.ApplyanAlgorithmforCanonizetotheargsSame-sizeandEqual.AMeventuallysynthesizesthecanonizingfunction"Size".AMdefinesthesetofcanonicalstructures:bagsofT's;thislatergetsrenamedas"Numbers".45.Restrictthedomain/rangeofBag-union.Anewoperationisdefined,Number-union,withdomain/rangeentry<NumberNumber-+Bag>.46.FillinexamplesofNumber-union.Manyfound.47.Checkthedomain/rangeofNumber-union.Rangeis'Number'.Thisoperationisrenamed"Add2".48.Restrictthedomain/rangeofBag-intersecttoNumbers.Renamed"Minimum".49.Restrictthedomain/rangeofBag-deletetoNumbers.Renamed"SUBI".50.Restrictthedomain/rangeofBag-inserttoNumbers.AMcallsthenewoperation"Number-insert".Itsdomain/rangeentryis<AnythingNumber-+Bag>.51.Checkthedomain/rangeofNumber-insert.Thisdoesn'tleadanywhere.52.Restrictthedomain/rangeofBag-differencetoNumbers.Thisbecomes"Subtract".53.FillinexamplesofSubtract.ThisleadstodefiningtherelationLEO,.().354.FillinexamplesofLEO.Manyfound.3Ifalargernumberis"subiacted"fromasmaller,theresultiszero.AMexplicitlydefinestheestoforderedpairsofnumbershavingzero"difference".<x,y>isinthatsetiffxislethanorequaltoy.4y11114.1y..,7TL."7E,L,,-7L.T'7T.PU71Chapter6AM:DiscoveryinMsihematicsasHeuristicSearch-117-55.CheckexamplesofLEQ56.ApplyalgorithmofCoalescetoLELEx,x)isConstant-True.57.FillinexamplesofParallel-join2.IncludedisParallel-join2(Bags,Bags,Proj2),whichisrenamed"TIMES",andParallel-join2(Structures,Structures,ProjI),ageneralizedUnionoperationrenamed"G-Union",andabunchoflosers.58.-69.Fillinandcheckexamplesoftheoperationsjustcreated.70.FillinexamplesofCoalesce.Created:Self-Compose,Self-Insert,Self-Delete,Self-Add,Self-Times,Self-Union,etc.Also:Coa-repeat2,Coa-join2,etc.71.FillinexamplesofSelf-Delete.Manyfound.72.CheckexamplesofSelf-Delete.Self-DeleteisjustIdentity-op.73.FillinexamplesofSelf-Member.Nopositiveexamplesfound.74.CheckexamplesofSelf-Member.Self-memberisjustConstant-False.75.FillinexamplesofSelf-Add.ManyfoundUserrenamesthis"Doubling".76.CheckexamplesofCoalesce.Confirmed.77.CheckexamplesofAdd2.Confirmed.78.FillinexamplesofSelf-Times.Manyfound.Renamed"Squaring"bytheuser.79.FillinexamplesofSelf-Compose.DefinedSquarlngoSquaring.CreatedAddoAdd(twoversions:Add2lwhichisX(x,y,z)(x+y)+z,andAdd22whichisx.(y+z)).Similarly,twoversionsofTimesoTimesandofComposeoCompose.80.FillinexamplesofAdd2l.(x+y).z.Manyarefound.81.FillinexamplesofAdd22.x4(y+z).Againmanyarefound.82.CheckexamplesofSquaring.Confirmed.83.CheckexamplesofAdd22.Add2landAdd22appearequivalent.Butfirst:84.CheckexamplesofAdd2l.Add2landAdd22stillappearequivalent.Mergethem.Sotheproperargumentforageneralized"Add"operationisaBag.85.ApplyalgorithmforInverttoargument'Add'.DefineInv-add(x)asthesetofallbagsofnumbers(>0)whosesumisx.AlsodenotedAdd'l(x).86.FillinexamplesofTIMES21.(xy)z.Manyarefound.87.FillinexamplesofTIMES22.x(yz).Againmanyarefound.88.CheckexamplesofTIMES22.TIMES2IandTIMES22maybeequivalent.89.CheckexamplesofTIMES21.TIMES21andTIMES22stillappearequivalent.Mergethem.Sotheproperargumentforageneralized"TIMES"operationisaBag.SetupananalogybetweenTIMESandADD,becauseofthisfact.90.ApplyalgorithmforInverttoargumentTIMES'.DefineInv-TIMES(x)asthesetofallbagsofnumbers(>1)whoseproductisx.AnalogictoInv-Add.91.FillinexamplesofParallel-replace2.IncludedareParal1li-replace2(Bags,Bags,Proj2)(calledMR2-BBP2),andmanylosers.92.-107.Fillinandcheckexamplesoftheoperationsjustcreated.10j.FillinexamplesofCompose.SoeasythatAMcreatesInt-Compose.109.FillinexamplesofInt-Compose.ThetwochosenoperationsG,Hmustbesuchthatran(H)(dom(G),andran(G)(dom(H);bothGandHmustbeinteresting.CreateG-UnionoMR2-BBP2,4InsertoDelete,TimesoSquaring,etc.110.-127.Fillinandcheckexamplesofthecompositionsjustcreated.NoticethatG-UnionoMR2-BBP2isjustTIMES.128.FillinexamplesofCoa-repeat2.Amongthem:Coa-repeat2(Bags-of-Numbers,Add2)[multiplicationagain!),Coa-repeat2(Bag5-of-Numbers,Times)4analternatederivationoftheoperationofmultiplication.r=r,."-'=idii-lrillmm~r+tlI!(MmlmmMmrmChapter6AM:DiscoveryinMathematicsasHeuristicSearch-I18-[exponentiation),Coa-repeat2(Structures,ProjI)[CAR),Coa-repeat2(Structures,Proj2)[Last-element-of],etc.129.ChecktheexamplesofCoa-repeat2.Allconfirmed.130.ApplyalgorithmsforInvertto'Doubling'.TherecultIscalled"Halving"bytheuser.AMthendefines"Evens".131.FillinexamplesofSelf-Insert.132.CheckexamplesofSelf-Insert.Nothingspecialfound.133.FillinexamplesofCoa-repeat2-Add2.134.CheckexamplesofCoa-repeat2-Add2.It'sthesameasTIMES.135.ApplyalgorithmforInverttoargument'Squaring'.Define"Square-root".136.Fillinexamp!esofSquare-root.Somefound,butveryinefficiently.137.FillinnewalgorithmsforSquare-root.Hadtoaskuserforagoodone.138.CheckexamplesofSquare-root.Definethesetofnumbers"Perfect-squares".139.FillinexamplesofCoa-repeat2-Times.Thisisexponentiation.140.CheckexamplesofCoa-repeat2-Times.Nothingspecialnoticed,unfortunately.141.FillinexamplesofInv-TIMES.Manyfound,butinefficiently.142.FillinnewalgorithmsforInv-TIMES.Obtainedopaquelyfromtheuser.143.CheckexamplesofInv-TIMES.Thistasksuggeststhenextone:144.ComposeG-UnionwithInv-TIMES.Gooddomain/range.Renamed"Divisors".145.FillinexampleFofDivisors.Manyfound,butnotveryefficiently.146.FillinnewalgorithmsforDivisors.Obtainedfromtheuser.147.FillinexamplesofPerfect-squares.Manyfound.148.FillinspecializationsofTIMES.Timesl(x)-lex,Times2(x)-2x,Times-sqisTIMESwithitsdomainrestrictedtobagsofperfectsquares,Times-evtakesonlyevenarguments,Times-to-evensrequiresthattheresultbeeven,Times.to-sq,149.CheckexamplesofDivisors.Define0-Div,l-Div,2-Div,and3-Div,thesetsofnumberswhoseDivisorsvalueistheemptyset,asingleton,adoubleton,andatripleton,respectively.150.FillinexamplesofI-Div.Onlyoneexamplefound:"I".Lowerl-Div.Worth.151.Fillinexamplesof0-Div.Nonefound.Lowertheworthofthisconcept.152.Fillinexamplesof2-Div.Anicenumberarefound.Raise2-Dlv.Worth.153.Checkexamplesof2-Div.Allconfirmed,butnopatternnoticed.154.Fillinexamplesof3-Div.Anicenumberfound.155.Checkexamplesof3-Div.Allconfirmed.Allareperfectsquares.156.RestrictSquare-roottonumberswhicharein3-Div.CallthisRoot3.157.FillinexamplesofRootS.Manyfound.158.CheckexamplesofRootS.Allconfirmed.Allarein2-Div.Raisetheirworths.159.RestrictSquaringto2-divs.CalltheresultSquare2.160.FillinexamplesofSquare2.Manyfound.161.ChecktherangeofSquare2.Always3-Divs.Conjecture:xhas2divisorsiffx2has3divisors.162.RestrictSquaringto3-Divs.CalltheresultSquareS.63.RestrictSquare-rootingto2-Divs.CalltheresultRoot2.164.FillinexamplesofSquare3.Manyfound.165.ComposeDivisors-ofandSquareS.CalltheresultDiv-Sq3.166.FillinexamplesofDiv-Sq3.Manyfound.167.CheckexamplesofDiv-Sq3.AllsuchexamplesareSame-size.168.-175.Moreconfirmationsandexplorationsoftheaboveconjecture.Gradually,allitsramificationsleadtodead-ends(asfarasAMisconcerned).176.FillinexamplesofRoot2.Nonefound.Conjecturethattherearenone.=,~-,Chap0r5AM:DiscoveryinMathematicsasHeuristicSearch-19-177.CheckexamplesofInv-TIMES.Inv-TIMESalwayscontainsasingletonbag,andalwayscontainsabagofprimes.178.RestricttherangeofInv-TIMEStobagsofprimes.CallthisPrime-Times.179.RestricttherangeofInv-TIMEStosingletons.CalledSingle-Times.180.FillinexamplesofPrime-times.Manyfound.181.CheckexamplesofPrime-times.Alwaysasingletonset.Userrenamesthisconjecture"Theuniquefactorizationtheorem".182.FillinexamplesofSingle-TIMES.Manyfound.183.CheckexamplesofSingle-TIMES.Alwaysasingletonset.Single-TIMESis*-.actuallythesameasBag-insert!184.FillinexamplesofSelf-set-union.Manyfound.185.CheckexamplesofSelf-set-union.ThisoperationissameasIdentity.186.FillinexamplesofSelf-bag-union.Manyfound.187.CheckexamplesofSelf-bag-union.Confirmed.Nothinginterestingnoticed.188.FillinexamplesofInv-ADD.189.CheckexamplesofInv-ADD.Hordesofboringconjectures,so:190.RestrictthedomainofInv-ADDtoprimes(Inv-Add-primes),toevens(Inv-Add-evens),tosquares,etc.V191.FillinexamplesofInv.add-primes.Manyfound.l192.CheckexamplesofInv-add-primes.Confirmed,butnothingspecialnoticed.193.FillinexamplesofInv-add-evens.Manyfound.194.CheckexamplesofInv-add-evens.Alwayscontainsabagofprimes.195.RestricttherangeofInv-Add-evenstobagsofprimes.CalledPrime-ADD.196.RestricttherangeofInv-ADDtosingletons.CallthatnewoperationSingle-ADD.197.FillinexamplesofPrime-ADD.Manyfound.198.CheckexamplesofPrime-ADD.Alwaysanonemptyset(ofbagsofprimes).Userrenamesthisconjecture"Goldbach'sconjecture".199.FillinexamplesofSingle-ADD.Manyfound.200.CheckexamplesofSingle-ADD.Alwaysasingletonset.ThisoperationisthesameasBag-insertandSingle.TIMES.201.RestricttherangeofPrime-ADDtosingletons,byanalogytoPrime-TIMES.5CallthenewoperationPrime-ADD-SING.202.FillinexamplesofPrime-ADD-SING.Manyfound.203.CheckexamplesofPrime-ADD-SING.Nothingspecialnoticed.204.FillinexamplesofTimes-sq.6Manyexamplesfound.205.CheckdomainlrangeofTimes-sq.IstherangeactuallyPerfect-squares?Yes!206.FillinexamplesofTimesi.RecallthatTimesl(x)TIMES(1,x).207.CheckexamplesofTimesl.ApparentlyjustarestrictionofIdentity.208.CheckexamplesofTimes-sq.Confirmed.209.FillinexamplesofTimesO.210.FillinexamplesofTimes2.211.CheckexamplesofTimes2.ApparentlythesameasDoubling.Thatis,x~x=2ox.Veryimportant.Byanalogy,defineAd2(x)asx+2.~.T212.FillinexamplesofAd2.213.Checkexam~plesofAd2.Nothinginterestingnoticed.Inthiscase,AMisaskingwhichnumbersareuniquelyrepresentableasthesumoftwoprimes.j-g)6RecallthatthisisjustTIMESrestrictedtooperateonperfectsquares-.Iv.Chapter6AM:DiscoveryinMathematicsasHeuristicSearch-120-214.FillinspecializationsofAdd.Amongthosecreatedare:AddO(x+O),AddI,Add3,ADD-sq(additionrestrictedtoperfectsquares),Add-ev(sumofevennumbers),Add-pr(sumofprimes),etc.215.CheckexamplesofTimesO.Thevaluealwaysseemstobe0.216.FillinexamplesofTimes-ev.7Manyexamplesfound.217.CheckexamplesofTimes-ev.ApparentlyalltheresultsareEvens.218.FillinexamplesofTimes-to-ev.8Manyfound.219.FillinexamplesofTimes-to-sq.Onlyafewfound.220.CheckexamplesofTimes-to-sq.Allargumentsalwaysseemtobesquares.Conjec:Times-to-sqisreallythesameasTimes-sq.Mergethetwo.Thisisafalseconjecture,butdidAMnoharm.221.CheckexamplesofTimes-to-ev.Thedomainalwayscontainsanevennumber.222.FillinexamplesofSelf-Union.223.CheckexamplesofSelf-Union.224.FillinexamplesofSubSet.225.CheckexampleofSubSet.226.FillinexamplesofSuperSet.227.CheckexamplesofSuperSet.Conjec:Subset(x,y)iffSuperset(y,x).Important.228.FillinexamplesofComposeoCompose-l.AMcreatessomeexplosivecombination(e.g.,(ComposeoCompose)o(ComposeoCompose)o(ComposeoCompose)),somepoorones(e.g.,SquareoCountoADD'),andevenafewveryfewwinners(e.g.,SUBloCountoSelf-Insert).229.CheckexamplesofComposeoCompose-l.230.FillinexamplesofComposeoCompose-2.9AMrecreatesmanyoftheprevioustasks'operations.231.CheckexamplesofComposeoCompose-2.Nothingnoticedyet'0.232.-252.Fillinandcheckexamplesofthelosingcompositionsjustcreated.253.FillinexamplesofAdd-sq(i.e.,sumofsquares).254.Checkdomain/rangeentriesofAdd-sq.Therangeisnotalwaysperfectsquares.DefineAdd-sq-sq(x,y),whichisTrueiffxandyareperfectsquaresandtheirsumisaperfectsquareaswell.255.FillinexamplesofAdd-pr;i.e.,additionofprimes.256.CheckDomain/rangeentriesofAdd-pr.AMdefinesthesetofpairsofprimeswhosesumisalsoaprime.Thisisabizarrederivationofprimepairs.RecallthatTimes-evisjustIrksTIMESrestrictedtooperatingonevennumbers.Thatit,considerbagsofnumberswhichmultiplytogiveanevennumber.9Recallthatthedifferencebetweenthisoperationandthelastoneismerelyintheorder#%ftrecomposing:Fo(GoH)versus(FoG)oH.30Lateron,AMwillusethesenewoperationstodiscovertW.socistivityofCompose.":;2""""""'""""=Chapter6AM:DiscoveryinMathematicsasHeuristicSearch-1!-6.1.2.Two-DimensionalBehaviorGraphOnthenexttwopagesisagraphofthesame"bestrun"whichAMexecuted.Thenodesareconcepts,andthelinksareactionswhichAMperformed.Labelsonthelinksindicatewheneachactionwastaken,sothereadermayobservehowAMjumpedaround.Itshouldalsoeasytoperceivefromthegraphwhichpathsofdevelopmentwereabandoned,whichconceptsignored,andwhichonesconcentratedupon.ThesearepreciselythefeaturesofAM'sbehaviorwhichareawkwardtoinferfromasimplelineartrace(asintheprevioussection).Inmoredetail,hereishowtoreadthegraph:Eachnodeisaconcept.Tosavespace,thesenamesareoftenhighlyabbreviated.Forexample,"xW"isusedinplaceof"TIMES-0".Eachconceptnameissurroundedbyfromzerotofournumbers:318288FROBNATION310291Theupperrightnumberindicatesthetasknumber(seelastsection)duringwhichexamplesofthisconceptwerefilledIn.Thelowerrightnumbertellswhentheywerechecked.TheupperleftnumberindicateswhentheDomain/rangefacetofthatconceptwasmodified.Finally,thelowerleftnumberisthetasknumberduringwhichsomenewAlgorithmsforthatconceptwereobtained.Anumberinparenthesesindicatesthatthetaskwiththatnumberwasatotalfailure.Becauseofthelimitedspace,itwasdecidedthatifaconceptwereeverrenamedbytheuser,thenonlythatnewer,mnemonicnamewouldbegiveninthediagram.Thusthereisanarrowfrom"Coalesce"to"Square",anoperationoriginallycalled"Self-Times"byAM.Sometimes,aconceptwillhaveunderitanoteoftheform,GROK.ThissimplymeansthatAMeventuallydiscoveredthattheconceptwasequivalenttothealready-knownconcc.P(""Grok",andprobablyforgotaboutthisone(mergeditintotheoneitalreadykn-ewabout).The"trail"ofdiscoverymaypickupagainatthatpre-existingconc,Pt.Anodewrittenas-GROKmeansthattheconceptwasreallythesameas"Grok",butAMneverinvestigateditenoughtonoticethis.Eachnodemayhaveanarrou,iadingintoit,andanynumberofarrowsemanatingfromit.Thearrowsindic"tcthecreationofnewconcepts.Thusanarrowleadingtoconcept"Frobnate"-,dicateshowthatconceptwascreated.AnarrowdirectedawayfromFrobnatenitstoaconceptcreatedas,e.g.,aspecializationoranexampleofFrobnate.Noarrowheadsareinpracticenecessary:allarrowsaredirecteddownwards.Thearrowsmaybelabelled,indicatingpreciselywhattheyrepresent(e.g.,composition,restriction)andwhatthetasknumberwaswhentheyoccurred.Forspacereasons,thefollowingconventionhasprovennecessary:ifanarrowemanatingfromCisun-numbered,itisassumedtohaveoccurredatthesametimeasthearrowtoitsimmediateleftwhichalsopointsfromC;ifallthearrowsemanatingfromChavenonumber,thanalltheirtimesofChapter6AM:DiscoveryinMathematicsasHeuristicSearch-122-occurrenceareassumedtobethelowerright'InumberofC.Finally,ifChasnolowerrightnumber,thearrowisassumedtohavethevalueoftheupperrightnumberofC.AnunlabelledarrowisassumedtobeanactofSpecializationorthecreationofanExample.12Labels,whentheydooccur,aregivenincapitalsandsmallletters;conceptnames(nodes)arebycontrastinallcapitals.Allthenumberscorrespondtothosegiventothetasksinthetask-by-tasktracespresentedinthelastsection(p.115)andinAppendix5(p.294).Thefirstpartofthisgraph(presentedbelow)containsstaticstructural(andultimatelynumerical)conceptswhichwerestudiedbyAM:STRUCTURES38,.81222SETSBRGOGSETLISTSElPTY-STRUCS(23)4~~-44.allure)IN4~A~~.ADOBIBCanonicalizoNSBSN-SAG$,ISINBAGTRJPL-BAGNUMBERS1301341138Si18,15"-52--.154SINGLETONSDOUBLETONSEVENSSQUARESI-DIV&-DIVPRIMIES3-DIVaEIIPTY.153155Therestofthegraph(presentedonthenextpage)dealswithactivitieswhichwereinvestigated:Thisisoftentruebecausemanyconceptsarecreatedwhilecheckingexamplesofsomeknownconcept.12Itshouldbeclearineachcontextwhichishappening.Ifnot,refertutheshorttraceintheprecedingsection,andlookuptheappropriatetasknumber.rjeftC44t13,-I-Iftnc40-.aC4CC~~~00.I0eta024rN~CFN44Nmf0oIccgIaI0C3-tar--4a9.K)..CI,.12InV)4..aw0~ClW,Chapter6AM:DiscoveryinMathematicsasHeuristicSearch124-6.1.3.AMasaComputerProgramWhenviewedasalargeLISPprogram,thereisverylittleofinterestaboutAM.Therearetheusualbatteryofcustomizedfunctions(e.g.,aconditionalPRINTfunction),thestoragehacks(specialemergencygarbagecollectionroutines,whichknowwhichfacetsareexpendible),thetimehacks(omniscientlyarrangeclausesinaconjunctionsothattheonemostlikelytofailwillcomefirst),andthebugs(iftheuserrenamesaconceptwhileit'sthecurrentonebeingworkedon,thereIsa5%chanceofAMenteringaninfiniteloop).Belowarelistedafewparametersofthesystem,althoughIdoubtthattheyholdanytheoreticalsignificance.ThereadermaybecuriousabouthowbigAM,howlongittakestoexecute,etc.Machine:SUMEX,PDP.10,KI-10uniprocessor,256kcorememory.Language:Interllsp,January'75release,whichoccupies140kofthetotal256k,butwhichprovidesasurplus"shadowspace"of256kadditionalwordsavailableforholdingcompiledcode.AMsupportcode:200compiled(notblock.compiled)utilityroutines,controlroutines,etc.Theyoccupyroughly100k,butallarepushedintotheshadowspace.AMitself:115concepts,eachoccupyingabout.7k(abouttwotypedpages,whenPretty-printedwithindentation).Facet/entriesstoredasproperty/valueonthepropertylistofatomswhosenamesareconcepts'names.13Eachconcepthasabout8facetsfilledin.Heuristicsaretackedontothefacetsoftheconcepts.Themoregeneraltheconcept,themoreheuristicrulesithasattachedtoit.14"Any-concept"has121rules;"Activeconcept"has24;"Coalesce"has7;"Set-Insert:.n"hasnone.Thereare250heuristicrulesinall,dividedinto4flavors(Fillin,Check,Suggest,Interestingness).Althoughthemeannumberofrulesisthereforeonlyabout2.2(i.e.,lessthanIofeachflavor)perconcept,thestandarddeviationofthisisawhopping127.4.Theaveragenumberofheuristics(ofagivenflavor)encounteredripplingupwardfromarandomly-chosenconceptC(alongthenetworkofgeneralizationlinks)isabout35,eventhoughthemeanpathlengthisonlyabout4.15Thetotalnumberofjobsexecutedinatypicalrun(fromscratch)isabout200.Therunendsbeca'.useofspaceproblems,butAM'sperformancebeginstodegradeneartheendanyway."Final"stateofAM:300concepts,eachoccupyingaboutIk.Manyareswappedoutonto13SnazzyfeatureExecutableentriesonfacets(eg,anentryonUnonAIg)arestoreduncompileduntilthefirsttimetheyareactuallycalledon,atwhichtimetheyarecompiledandthenexecuted14Thiswasnotdoneconsciously,andmayormaynotholdsometheoreticalsignificance15Iftheheuristicswerehomogeneouslydistributedamongtheconcepts,thenumberofheuristics(ofagiventype)alongatypicalpathoflength4wouldonlybeabout2,not35IfalltheheuristicsweretackedontoAnythingandAny-concept,thenumberencounteredinanypathwouldbe75,not35%-Chapter6AM:DiscoveryinMathematicsasHeuristicSearch25-"disk.Numberofwinningconceptsdiscovered:25(estimated).Numberofacceptableconceptsdefined:100(est.).16Numberoflosingconceptsunfortunatelyworkedon:60(est.).Theoriginal115conceptshavegrowntoanaveragesizeof2k.Eachconcepthasabout11facetsfilledin.About30secondsofcputimewereallocatedtoeachtask,ontheaverage,butthetasktypicallyusedonlyabout18secondsbeforequitting.TotalCPUtimeforarunisaboutIhour.Totalcputimeconsumedbythisresearchprojectwasabout500cpuhours.Realtime:aboutIminutepertask,2hoursperrun.TheideaforAMwasformulatedintheFallof1974,andAMwascodedinthesummerof1975.Totaltimeconsumedbythisprojecttodatehasbeenabout2500man-hours:700forplanning,500forcoding,600formodifyinganddebuggingandexperimenting,and700forwritingthisthesis.6,2.ExperimentswithAMNowwe'vedescribedtheactivitiesAMcarriedoutduringitsbestrun.AMwasworkingbyitself,andeachtimeexecutedthetoptaskontheagenda.Itreceivednohelpfromtheuser,andallitsconcepts'Intuitionsfacetshadbeenremoved.OnevaluableaspectofAMisthatitisamenabletomanykindofinterestingexperiments.AlthoughAMistooadhocfornumericalresultstohavemuchsignificance,thequalitativeresultsperhapsdohavesomevalidthingstosayaboutresearchinelementarymathematics,aboutautomatingresearch,andatleastabouttheefficacyofvariouspartsofAM'sdesign.ThissectionwillexplainwhatitmeanstoperformanexperimentonAM,whatkindsofexperimentsareimaginable,whichofthosearefeasible,andfinallywilldescribethemany%experimentswhichwereperformedonAM.BymodifyingAMinvariousways,itsbehaviorcanbealtered,andthequalityofitsbehaviorwillchangeaswell.Asadrasticexample,oneexperimentinvolvedforcingAMtoselectthenexttasktoworkonrandomlyfromtheagenda,notthetoptaskeachtime.Needlesstosay,theperformancewasverydifferentfromusual.Bycarefulplanning,eachexperimentcantellussomethingnewaboutAM:howvaluableacertainpieceofitis,howrobustacertainschemereallyis,etc.Theresultsoftheseexperimentswouldthenhavesomethingtocontributetoadiscussionofthe"realintelligence"ofAM(e.g.,whatfeaturesweresuperfluous),andcontributetothedesignofthe"next"AM-likesystem.Generalizingfromthoseresults,onemightsuggestsomehypothesesaboutthelargertaskofautomatedmathresearch.Let'scoverthedifferentkindsofexperimentsonecouldperformonAM:(i)Removeindividualconceptmodules,and/orindividualheuristicrules.Thenexamine16Foralistofmostofthe'winners'and'acceptables',seethefinalsectioninAppendix2,page224."J)°-p".Ch.ter6AM:CicoveryinMathematicsasHeuristicSearch-126-howAM'sperformanceisdegraded.AMshouldoperateevenifmostofitsheuristicrulesandmostofitsconceptmoduleswereexcised.IftheremainingfragmentofAMistoosmall,however,itmaynotbeabletofindanythinginterestingtodo.Infact,thissituationwasactuallyencounteredexperimentally,whenthefirstfewpartiallycompleteconceptswereinserted.IfonlyalittlebitofAMisremoved,theremainderwillinfactkeepoperatingwithoutthis"tninterestingcollapse".Theconversesituationshouldalsohold:althoughstillfunctionalwithanyconceptmoduleunplugged,AM'sperformanceshouldbenoticeablydegraded.Thatis,whilenotindispensable,eachconceptshouldnontriviallyhelptheothers.Thesameholdsforeachindividualheuristicrule.WhenapieceofAMisremoved,whichconceptsdoesAMthen"miss"discovering?Istheremovedconcept/heuristiclaterdiscoveredanywaybythosewhichareleftinAM?TNsshouldindicatetheimportanceofeachkindofconceptandrulewhichAMstartswith.(ii)Varytherelativeweightsgiventofeaturesbythecriteriawhichjudgeaesthetics,interestingness,worth,utility,etc.SeehowimportanteachfactorisindirectingAMalongsuccessfulroutes.Inotherwords,varythelittlenumbersintheformulae(boththeglobalpriority-assigningformulaandthelocalreason-ratingonesinsideheuristicrules).Oneimportantresultwillbesomeideaoftherobustnessor"toughness"ofthenumericweightingfactors.Ifthesystemeasilycollapses,itwastoofinelytunedtobeginwith.(iii)Addseveralnewconceptmodules(includingnewheuristicsrelevanttothem)andseeifAMcanworkinsomeunanticipatedfieldofmathematics(likegraphtheoryorcalculusorplanegeometry).DoearlierachievementsconceptsandconjecturesAMsynthesizedalreadyhaveanyimpactinthenewdomain?Aresomespecializedheuristicsfromthefirstdomaintotallywronghere?Doalltheoldgeneralheuristicsstillholdhere?Aretheysufficient,oraresome"general"heuristicsneededherewhichweren'tneededbefore?DoesAM"slowdown"asmoreandmoreconceptsgetintroduced?(iv)TrytohaveAMdevelopnonmathematicaltheories(likeelementaryphysics,orprogramverification).ThismightrequirelimitingAM'sfreedomto"ignoreagivenbodyofdataandmoveontosomethingmoreinteresting".Theexplorationofverynon-formalizablefields(e.g.,politics)mightrequiremuchmorethanasmallaugmentationofAM'sbaseofconcepts.Forsomesuchdomains,the"Intuitions"scheme,whichhadtobeabandonedformath,mightprovevalidandvaluable.(v)Addseveralnewconceptsdealingwithproof,andofcourseaddalltheassociatedheuristicrules.SuchruleswouldadviseAMonthefinepointsofusingvarioustechniquesofproof/disproof,whentousethem,whattotrynextbasedonwhythelastattemptfailed,etc.SeeifthekindsofdiscoveriesAMmakesareincreased.Justpriortothewritingofthisdocument,severalexperiments(oftypesi,ii,andiiiabove'7)weresetupandperformedonAM.We'renowreadytoexamineeachofthemindetail.Thefollowingpointsarecoveredforeachexperiment:1.Howwasitthoughtof?2.Whatwillbegainedbyit?Whatwouldbetheimplicationsofthevariouspossibleoutcomes?17experimentsoftype(iv)weren'ttriedandareleftas"openproblems",asinvitationsforfutureresearchefforts.Experiment(v)willprobablybecarriedoutthisyear(1976).Chapter6AM:DiscoveryinMathematicsasHeuristicSearch-127-3.Howwastheexperimentsetup?Whatpreparations/modificationshadtobemade?Howmuchtime(man-hours)didittake?4.Whathappened?HowdidAM'sbehaviorchange?Wasthisexpected?Analysis.5.Whatwaslearnedfromthisexperiment?Canweconcludeanythingwhichsuggestsnewexperiments(e.g.,useabettermachine,anewdomain)orwhichbearsonamoregeneralproblemthatAMfaced(e.g.,anewwaytoteachmath,anewideaaboutdoingmathresearch)?6.2.1.MusttheWorthnumbersbefinelytuned?Eachofthe115initialconceptshassuppliedtoit(bytheauthor)anumberbetween0and1000,storedasitsWorthfacet,whichIssupposedtorepresenttheoverallvalueoftheconcept."Compose"hasahigherinitialWorththan"Structure-delete",whichishigherthan"Equality".Frequently,thepriorityofataskinvolvingCdependsontheoverallWorthofC.HowsensitiveisAM'sbehaviortotheinitialsettingsoftheWorthfacets?HowfinelytunedmusttheseinitialWorthvaluesbe?Thisexperimentwasthoughtofbecauseofthe'brittleness'ofmanyotherAlsystems,theamountoffinetuningneededtoelicitcoherentbehavior.Forexample,seethediscussionoflimitationsol"PUP,.,in[Lenat75b].TheauthorbelievedthatAMwasveryresilientinthisregard,andthatademonstrationofthatfactwouldincreasecredibilityinthepoweroftheideaswhichAMembodies.VTotestthis,asimpleexperimentwasperformed.JustbeforestartingAM,themeanvalueofallconcepts'Worthvalueswascomputed.Itturnedouttoberoughly200.TheneachconcepthaditsWorthresettothevalue200.19Thiswasdone"byhand",bytheauthor,inamatterofseconds.AMwasthenstartedandrunasiftherewerenothingamiss,anditsbehaviorwaswatchedcarefully.Whathappened?Byandlarge,thesamemajordiscoveriesweremadeandrn-asusual,inthesameorderasusual.ButwhereasAMproceededfairlysmoothlybefore,withlittlesuperfluousactivity,itnowwanderedquiteblindlyforlongperiodsoftime,especiallyattheverybeginning.OnceAM"hookedInto"alineofproductivedevelopment,itfolloweditjustasalways,withnonoticeableadditionalwanderings.Asoneoftheselinesofdevelopmentsdiedout,AMwouldwanderaroundagain,untilthenextonewasbegun.Ittookroughlythreetimesaslongforeachmajordiscoverytooccurasnormal.ThisK_%%-:"delay"gotshorterandshorterasAMdevelopedfurther.Ineachcase,thetasksprecedingthediscoveryandfollowingitwereprettymuchthesameasnormal;onlythetasks"between"twoperiodsofdevelopmentweredifferentandmuchmorenumerous.TheprecisenumbersInvolvedwouldprobablybemoremisleadingthanhelpful,sotheywillnot.8AsAMprorreseesitnoticesaomethinginterestingaboutEqualityeverynowandthen.andpushesitsWorthvalueupwards.19Theinitialspreadofvahueswasfrom100to600..J-,t:"IJ~""-"".'-::'T"'.'".""""Chapter6AM:DiscoveryinMathematicsasHeuristicSearch-128-begiven20-ThereadermaybeinterestedtolearnthattheWorthvaluesofmanyoftheconceptsandmostofthenewconceptsendedupvEryclosetothesamevaluesthattheyachievedintheoriginalrun.Overratedconceptswereinvestigatedandprovedboring;underratedconceptshadtowaitlongerfortheirchances,butthenquicklyprovedinterestingandhadtheirWorthfacetsboostr-I.TheconclusionIdrawfromthischangeinbehavioristhattheWorthfacetsareusefulformakingblinddecisionswhereAMmustchoosebasedonlyontheoverallworthsofthevariousconceptsinitsrepertoire.Wheneveraspecificreasonexisted,itwasfarmoreinfluentialthanthe"erroneous"Worthvalues.Theclose,blind,randomdecisionsoccurbetweenlongburstsofspecific.reason.drivenperiodsofcreativework.21Thegeneralanswer,then,isNo,theinitialsettingsoftheWorthvaluesarenotcrucial.Guessingreasonableinitialvaluesforthemismerelyatime-savingdevice.Thissuggestsaninterestingresearchproblem:whatimpactdoesthequalityofinitialstartingvalueshaveonhumans?Giveseveralbrightundergraduatemathmajorsthesamesetofobjectsandoperatorstoplaywith,buttellsomeofthem(i)nothing,andsomeofthem(ii)acertainfewpiecesofthesystemareverypromising,(il)emphasizeadifferentsubsetoftheobjectsandoperators.Howdoes"misinformation"impedethehumans?Howaboutnoinformation?Havethemgiveverbalprotocolsaboutwheretheyarefocussingtheirattention,andwhy.Albeitatanontrivialcost,theWorthfacetsdidmanagetocorrectthemselvesbytheendofalong22run.WhatwouldhappeniftheWorthfacetsofthose115conceptswerenotonlyinitializedto200,butwereheldfixedat200forthedurationoftherun?Inthiscase,thedelaystillsubsidedwithtime.Thatis,AMstillgotmoreandmore"backtonormal"asitprogressedonward.ThereasonisbecauseAM'slaterworkdealtwithconceptslikePrimes,Square-root,etc.,whichweresofarremovedfromtheinitialbaseofconceptsthattheinitialconcepts'Worthswereoflittleconsequence.Evenmoredrastically,wecouldforcealltheWorthfacetsofallconceptsevennewly-createdonestobekeptatthevalue200foreverinthiscase,AM'sbehaviordoesn'tcompletelydisintegrate,bLtthatdelayfactoractuallyincreaseswithtime:apparently,AMbeginstosufferfromtheexponentialgrowthof"thingstodo"asitsrepertoireofconceptsgrowslinearly.Itspurposiveness,itsdirectionalitydependson"focusofattention"moreandmore,andifthatfeatureisremoved,AMlosesmuchofitsrationality.Afactorof5delaydoesn'tsoundthatbad"efficiency-wise",buttheactualapparent'ehaviorofAMisasstaccatoburstsofdevelopment,followedbywildleapstounrelatedconcepts.AMnolongercan"permanently"recorditsinterestinacertainconcept.SoweconcludethattheWorthfacetsare(i)notfinelytuned,yet(i)provideimportant20Anyreaderwhowishestoperformthisexperimentcansimplysay[MAPCCONCEPTS'(LAMBDA()(SETBcWORTH200]tointerlp,jltbeforeiyping(START)iobeginAM21Incidentally,GPSbehavedyustthissamewaySee,eg,[Newell&Simon72J22Acouplecpuhours,aboutathousandtaskstotalselectedfromtheagenda---.-%Chapter6AM:DiscoveryinMathematicsasHeuristicSearch-129-globalinformationabouttherelb'ivevaluesofconcepts.IftheWorthfacetsarecompletelydisabled,therationalityofAM'sbehaviorhangsortheslenderthreadof"focusofattention".6.2.2.HowfinelytunedistheAgenda?Thetopfewcandidatesontheagendaalwaysappeartobereasonable(tome).IfIworkwiththesystem,guidingit,Icancauseittomakeafewdiscoveriesitwouldn'totherwisemake,andIcancauseittomakeitstypicalonesmuchfaster(aboutafactorof2).Thustheverytoptaskisnotalwaysthebest.IfAMrandomlyselectsoneofthetop20orsotasksontheagendaeachtime,whatwillhappentoitsbehavior?Willitdisintegrate,slowdownbyafactorof10,slowdownslightly,...?Thisexperimentrequiredonlyafewsecondstosetup,butdemandedafamiliaritywiththeLISPfunctionswhichmakeupAM'scontrolstructure.Atacertainpoint,AMasksforBest-task(Agenda).Typically,theLISPfunctionBest-taskisdefinedasCARi.e.,pickthefirstmemberfromthelistoftasks.WhatIdidwastoredefineBest-taskasafunctionwhichrandomlyselectednfromtheset{1,2,...,20),andthenreturnedthenthmemberofthejob-list.Ifyouwatchthetopjobontheagenda,itwilltakeabout10cyclesuntilAMchoosesit.Andyettherearemanygood,interesting,worthwhilejobssprinkledamongthetop20ontheagenda,soAM'sperformanceiscutbymerelyafactorof3,asfarascputimepergivenmajordiscovery.Partofthisbetter.than-20behaviorisduetothefactthatthe18thbesttaskhadamuchlowerpriorityratingthanthetopfew,hencewasallocatedmuchlesscputimeforitsquantumthanthetoptaskwouldhavereceived.Whetheritsucceededorfailed,itusedupverylittletime.SinceAMwasfrequentlyworkingonalow-valuetask,itwasunwillingtospendmuchtimeorspaceonit.Sothemeantimeallottedpertaskfelltoabout15seconds(fromthetypical30secs).Thus,the"losers"weredealtwithquickly,sothedetrimenttocpu-timeperformancewassoftened.YetAMismuchlessrationalinitssequencingoftasks.Atopicwillbedroppedrightinthemiddle,foradozencycles,thenpickedupagain.Oftena"good"taskwillbechosen,havingreasonsallofwhichweretrue10cyclesagoandwhichareclearlysuperiortoV,thoseofthelast10tasks.Thisiswhatissoannoyingtohumanonlooker4.Tocarrythisinvestigationfurther,anotherexperimentwascarriedout.AMwasforcedtoalternatebetweenchoosingthetoptaskontheagenda,andarandomly-chosenone.Althoughitsrateofdiscoverywascutbylessthanhalf,itsbehaviorwasalmostasdistastefultotheuserasinthelast(always-random)experiment.Conclusion:Picking(ontheaverage)the10th-bestcandidateimpedesprogressbyafactorlessthan10(aboutafactorof3),butitdramaticallydegradesthe"sensibleness"ofAM'sbehavior,thecontinuityofitsactions.Humansplaceabigvalueonabsolutesensibleness,andbelievethatdoingsomethingsilly50%ofthetimeismuchworsethanhalfasproductiveasalwaysdoingthenextmostlogicaltask.Chapter6AM:D;scoveryinMathematicsasHeuristicSearch-130-Corollary:Having20multi.processorssimultaneouslyexecutethetop20jobswillincreasetherateof"big"discoveries,butnotbyafullfactorof20.Anotherexperimentinthissameveinwasdone,onewhichwasdesignedtobefarmorecripplingtoAM.Be-threshholdwasheldat0always,soanytaskwhichevergotproposedwaskeptforeveroatheagenda,nomatterhowlowitspriority.TheBest-taskfunctionwarmodifiedsoitrandomlyseectedanymemberofthelistofjobs.Asafinalinsult,theWorthfacetsofalltheconceptswereinitializedto200beforestartingAM.Result:Many"explosive"taskswerechosen,andthenumberofnewconceptsincreasedrapidly.Asexpected,mostofthesewerereal"losers".ThereseemednorationalitytoAM'ssequenceofactions,anditwasquiteboringtowatchitflounderingso.Thetypicallengthoftheagendawasabout500,andAM'sperformancewas"slowed"byatleastacoupleordersofmagnitude.Amoresubjectivemeasureofits"intelligence"wouldsaythatittotallycollapsedunderthisrandomscheme.Conclusion:HavinganunlimitednumberofprocessorssimultaneouslyexecuteallthejobsontheagendawouldincreasetherateatwhichAMmadebigdiscoveries,ataneveracceleratingpace(sincethelengthoftheagendawouldgrowexponentially).Havingauniprocessorsimulatesuchparallelprocessingwouldbealosingidea,however.Thetruly"intelligent"behaviorAMexhibitsisItsplausiblesequencingoftasks.6.2.3.Howvaluableistackingreasonsontoeachtask?Let'sdiginsidetheagendaschemenow.OneideaI'verepeatedlyemphasizedistheattachingofreasonstothetasksontheagenda,andusingthosereasonsandtheirratingstocomputetheoverallpriorityvalueassignedtoeachtask.Anexperimentwasdonetoascertaintheamountofintelligencethatwasemanatingfromthatidea.Theglobalformulaassigningapriorityvaluetoeachjobwasmodified.Weletitstillbeafunctionofthereasonsforthejob,butwe"trivialized"it:thepriorityofajobwascomputedassimplythenumberofreasonsithas(normalizedbymultiplyingby100,andcut-offifover1000).Thisraisedthenewquestionofwhattodoifseveraljobsallhavethesamepriority.Inthatcase,IhadAMexecutetheminstack-order(mostrecentfirst)23.Result:Isecretlyexpectedthatthiswouldn'tmaketoomuchdifferenceonAM'sapparentlevelofdirectionality,butsuchwasdefinitelynotthecase.WhileAMopenedbydoingtaskswhichwerefarmoreinterestinganddaringthanusual(e.g.,fillinginvariousCoalescingsrightaway),itsoonbecameobviousthatAMwasbeingswayedbyhithertotrivialcodingdecisions.WholeclassesoftaskslikeCheckingExamplesofCwereneverchosen,becausetheyonlyhadoneortworeasonssupportingthem.Previously,oneWhy7BecauseGi)itsoundsrightintuitivelytome,(i)thisisakintohumanfocusofattention,andmainlybecause(i)thisiswhatAMdidanyway,withnoextramodificationChapter6AM:DiscoveryinMathematicsasHeuristicSearch-131-ortwogoodreasonsweresufficient.Now,taskswithseveralpoorreasonswererisingtothetopandbeingworkedon.EventheLIFO(stack)policyforresolvingtiesdidn'tkeepAM'sattentionfocussed.Conclusion:Unlessaconsciouseffortismadetoensurethateachreasonreallywillcarryroughlyaneq,alamountofsemanticimpact(charge,weight),itisnotacceptablemerelytochoosetasksonthebasisofhowmanyreasonstheypossess.Eveninthoseconstrictedequal-weightcases,thesimilaritiesbetweenreasonssupportingataskshouldbetakenintoaccount.Anotherexperiment,notyetperformed,willpindownthevalueofthisrule-attaching.-'.aevenmoreprecisely.Athreshholdvaluesay400willbefixed.Anyreasonwhoseratingisabovethatthreshholdwillbecalledagoodreason,andeveryotherreasonwillbeaminorreason.Thentaskswillbeorderedbythenumberofgoodreasonstheypossess,andtieswillbebrokenbythenumberofminorreasons.Stillanotherexperimentwouldbetorandomlypickanytaskwithatleastonegoodreason.6.2.4.Whatifcertainconceptsareeliminated/added?Feelinginaperversemoodoneday,ieliminatedtheconcept"Equality"fromAM,toseewhatitwouldthendo.Equalitywasakeyconcept,becauseAMdiscoveredNumbersviathetechniqueofgeneralizingtherelation"Equality"(exactequalityof2givenstructures,atallinternallevels).Whatwouldhappenifweeliminatethispath?WillAMrederiveEquality?WillitgettoCardinalityviaanotherroute?Willitdosomeset-theoreticthings?Result:Ratherdisappointing.AMneverdidre-deriveEquality,norCardinality.Itspentitstimethrashingaboutwithvariousflavorsofdata-structures(unorderedvs.ordered,multiple.elementsallowedornot,etc.),derivinglargequantitiesofboringresultsaboutthem.Verymanycomposingsandcoalescingsweredone,butnoexcitingnewoperationswereproduced.Itisexpectedthateliminatingother,lesscentralconceptsthanEqualitywilldolessdamagetoAM'sprogress.Thereaderisinvitedtotrysuchexperimentshimself.Toeliminateaconcept,likeequality,oneneedmerelytypeKILB(OBJ-EQUALITY24)atthebeginningofthesession,beforetyping(START).Anevenkindertypeofexperimentwouldbetoaddafewconcepts.Onesuchexperimentwasdone:theadditionofCartesian-product.Thisoperation,namedC-PROD,acceptstwusetsasargumentsandreturnsathirdsetasitsvalue:theCartesianprodurcOfihefirsttwo.Result:TheonlysignificantchangeinAM'sbehaviorwasthatTIMESwasdiscoveredfirstastherestrictionofC-PRODtoCatonical-Bags.Whenitsoonwasrediscoveredinafewotherguises,itsWorthwasevenhigherthanusual.AMspentevenmoretimeexploringconceptsconcernedwithit,anddeviatedmuchlessforquitealongtime.24TofindouttheprecisePNAMEofeachconcept,justtypeCONCEPTS..4,-~-SK--Chapter6AM:DiscoveryinMathematicsasHeuristicSearch-132-Synthesisoftheaboveexperiments:ItappearsthatAMmayreallybemorespecializedthanexpected;AMmayonlybeabletoforgeaheadalongoneortwomainlinesofdevelopment-atleastifwedemanditmakeveryinteresting,well-knowndiscoveriesquitefrequently.Removingcertainkeyconceptscanbedisastrous.Ontheotherhand,addingsomecarefully-chosennewonescangreatlyenhanceAM'sdirectionality(henceitsapparentintelligence).Conclusion:Initscurrentstate,AMIsthusseentobeminimallycompetent:ifanyknowledgeisremoved,itappearsmuchlessintelligent;ifanyisadded,itappearsslightlysmarter.Suggestionforfutureresearch:Ahypothe'--whichshouldbetest'.Vxperimentally,isthattheimportanceofthepresenceofeachindivuualconceptdecreasesas.henumberofanddepthofthesynthesizedconceptsincrease.Thatis,anyexcisionwouldeventually"healover",givenenoughtime.Thefailhi'eofAMtoverifythismaybeduetotherelativelysmallamountofdevelopmentintoto(anhourofcputime,acouplehundrednewconcepts,afewlevelsdeeperthanthestartingones).6.2.5.Whatifcertainheuristicsaretamperedwith?Theclassofexperimentsdescribedbythissection'sheadingshouldproveentertaining,butitwillprobablybedifficulttolearnfromtheirresults.Whyisthis?Someoftheheuristicswereaddedtocorrectaspecificproblem;removingthemwouldsimplyre-initiatethatproblem.OtherswereneveractuallyusedbyAM,sotheirdeletionwouldhavenoeffect.IfAMenlargedtherangeofwhatitworkedon,theirabsencemightthenbefelt.Whatgoodwouldtheseexperimentsbe,then?Wemightlearnsomethingaboutthe"redundancyofreasoningchains".We'dstopAMjustbeforeitmadeabigdiscovery,removetheheuristicruleitwasabouttouse,andseeifitevermakesthatbigdiscoveryanyway,lateron.Ifnot,perhapsthediscardedrulewasveryimportant,ortherearealternateruleswhichexistbuthaven'tbeeninsertedinAM.Ifthesamediscoveryismadebyanalternateroute,doesthatindicateanunexpectedduplicationofheuristicknowledge?ifheuristicH2isusednow,insteadofHi,doesthatsuggestanewmeta-rule:"ifyouwanttoapplyoneofHI/H2butcan't,seeiftheotherrulecanbeapplied."?IsthatlastsentencereallyaMeta-meta-rule?Beforethisdiscussionentersaninfiniteloop,I'dbetterextractmyselfandthereaderbycommentingthattheremaybeanideair,allthis,perhapsofusetowhoeverwritesMeta-AM.ItwasdecidednottocarryoutasystematicseriesofexperimentsofthistypeuntilAMismuchfurtherdevelopedinabilities.Chapter6AM:DiscoveryinMathematicsasHeuristicSearch-133-6.2.6.CanAMworkinanewdomain:PlaneGeometry?Atruestrategyshouldbedomain-independent.--AdamsAsMcDermottpointsout[McDermott76),justlabellingabunchofheuristics'Operationheuristics'doesn'tsuddenlymakethemrelevanttoanyoperation;allitdoesisgivethatimpressiontoahumanwholooksatthecode(oradescriptionofit).Sincetheauthorhopedthatthelabellingreallywasfair,anexperimentwasdonetotestthis.SuchanexperimentwouldbeakeydeterminerofhowgeneralAMis.Howmightonedemonstratethatthe"Operation"heuristicsreallycouldbeusefulordealingwithanyoperation,notjusttheonesalreadyinAM'sinitialbaseofconcepts?Onewaywouldbetopickanewdomain,andseehowmanyoldheuristicscontributeto-andhowmanynewheuristicshavetobeaddedtoelicitsomesophisticatedbehaviorinthatdomain.Ofcourse,somenewprimitiveconceptswouldhavetobeintroduced(defined)toAM.Onlyoneexperimentofthistypewasattempted.TheauthoraddedanewbaseofconceptstotheonesalreadyinAM.Includedwere:Point,Line.Angle,Triangle,Equalityofpointsllineslanglesltrlangles.Thes,simplep;negeometrynotionsweresufficientlyremovedfromset-thecrctl,onesthatthosepre-existingspecificconceptswouldbetotallyirrelevant;ontheotherhand,thegeneralconceptstheoneswiththeheuristicsattachedwouldstillbcjustasrelevant:Any-concept,Operation,Predicate,Structure,etc.Foreachnewgeometricconcept,theonlyfacetfilledinwasitsDefinition.Forthenewpredicatesandoperators,theirDomainlrangeentrieswerealsosupplied.NonewheuristicswereaddedtoAM.Results:fairlygoodbehavior.AMwasabletofindexamplesofalltheconceptsdefined,Sidtousethecharacteroftheresultsofthoseexamplessearchestodetermineintelligentca.ursesofaction.AMderivedcongruenceandsimilarityoftriangies,andseveralotherwell-knownsimpleconcepts.Anunusualresultwastherepeatedderivationoftheideaof'timberline".Thisisapredicateontwotriangles:Timberline(TI,T2)iffTIandT2haveacommonangle,andthesideoppositethatangleinthetwotrianglesareparallel:raChapter5AM:DiscoveryinMathematicsasHeuristicSearch-134-_CATimberline(ABC,ADE)B__CD0.FSinceAMkeptrederivingthisinnewways,itseemisurprisingthattheieIsnoverycommonnamefortheconcept.ItcouldbethatAMisusingtechniqueswhichhumansdon't-atleast,forgeometry.Theonlynewbitofknowledgethatcameoutofthisexperimentwasa"use"forColcibach'sconjecture:anyangle(0-180degrees)canbebuiltup(towithinIdegree)asthesumoftwoanglesofprimedegrees(r180).ThisresultisadmittedlyesotericPtbest,butisnonethelesswotthreporting.Thetotaleffortexpendedonthisexperimentwas:afewmonthsofsubconseiousprocessing,tenhoursofdesigningthebaseofconcep.stoinsert,tenhoursinsertinganddebuggingthem.Thewholetasktookabnuttwodaysofrea!time.Theconclusiontobedrawnisthatheuristicsreallycanbegenerallyuseful;theirattachmenttogeneral-soundingconceptsisnotanillusion.25TheimplicationofthisisthatAMcanbegrownincrementally,domainbydomain.Addinge~pertisc;nanewdomaintequiresonlytheintroductionofconceptslocaltothatdomain;allthevrygeneralconcepisandtheirheuristicsalreadyexistandcanbeusedwithnochange.Theauthorfeelsthatthisresultcanbegenealized:AMcanbeexpandedinscope,eventonon-mathematicalfieldsofendeavor.Ineachfield,however,therankingsofthevariousheuristics26mayshiftslightly.Asthedomaingetsfurtherawayfrommathematics,variousheuristicsareimportantwhichwereignorablebefore(e.g.,thosedealingwithethics),andsomepuremathresearch-orientedheuristicsbecomelessapplicable("givingupandmovingontoanothertopic"isnotanacceptableresponsetothe15-puzzle,nortoahostagesituation).Well,itsoundsasifwe'veshiftedourorientationfrom'Results'toasubjectiveevaluationofthoseresults,Let'sstartanewchaptertolegitimizethistypeofcommentary.25Orit'saverygoodillusion!Butnote:ifthisphenomenonisrepeatableanduseful,then(likeNewtonianmechanics)itwon'tpragmaticallymatterwhqtherit'sonlyanillusion.26thenumericvaluesthatshouldbereturnedbythelocalratingsformulaewhichareattschedtotheheuristicrulesr::-135-Chapter7.EvaluatingAMAllmathematiciansarewrongattimes.--MaxwellThischaptercontainsdiscussions"meta"toAMitself.FirstcomesanessayaboutjudgingtheperformanceofasystemlikeAM.Thisisaveryhardtask,sinceAMhasno"goal".Evenusingcurrentmathematicalstandards,shouldAMbejudgedonwhatitproduced,orthequalityofthepathwhichledtothoseresults,orthedifferencebetweenwhatitstartedwithandwhatitfinallyderived?Section7.2thendealswiththecapabilitiesandlimitationsofAM:*WhatconceptscanbeelicitedfromAMnow?Withalittletuning/tinyadditions?*WhataresomenotableomissionsinAM'sbehavior?Cantheuserelicitthese?,Whatcouldprobablybedonewithinacouplemonthsofmodifications?+Asidefromatotalchangeofdomain,whatkindsofactiviu,sdoesAMlack(e.g.,proofcapabilities)?Areanydiscoveries(e.g.,analyticfunctiontheory)clearlybeyonditsdesignlimitations?Finally,alltheconclusionswillbegatheredtogether,andashortsummaryofthisproject's'contributiontoknowledge'willbetolerated.7.1.JudgingPerformanceOnemayviewAM'sactivityasaprogressionfromaninitialcoreofknowledgetoamoresophisticated"final"bodyofconceptsandtheirfacets.Theneachofthefollowingisareasonablewaytomeasuresuccess,to"judge"AM:1.ByAM'sultimateachievements.ExaminethelistofconceptsandmethodsAMAshasbeenstressedbefore,AMhasnofixedgoal,no"final"stateForpracticalpurposes,however,thetotalityofexplorationsbyAMisaboutthesameasthe"bestruntofar";eitherofthesecanbethoughtofasdefiningwhatismeantbythe"final"stateofknowledge.Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-136-developed.DidAMeverdiscoveranythinginterestingyetunknowntotheuser?2AnythingnewtoMankind?2.Bythecharacterofthedifferencebetweentheinitialandfinalstates.ProgressingfromsettheorytonumbertheoryIsmuchmoreimpressivethanprogressingfromtwo-dimensionalgeometrytothree-dimensionalgeometry.3.BythequalityoftherouteAMtooktoaccomplishtheseadvances:Howclever,howcircuitous,howmanyofthedetourswerequicklyidentifiedassuchandabandoned?4.BythecharacteroftheUser-Systeminteractions:Howimportantistheuser'sguidance?HowcloselymustheguideAM?Whathappensifhedoesn'tsayanythingever?Whenhedoeswanttosaysomething,isthereaneasywaytoexpressthattoAM,anddoesAMrespondwelltoit?Givenareasonablekickintherightdirection,canAMdevelopthemini-theorieswhichtheuserintended,oratleastsomethingequallyinteresting?5.Byitsintuitiveheuristicpowers:DoesAMbelievein"reasonable"conjectures?HowaccuratelydoesAMestimatethedifficultyoftasksitisconsidering?DoesAMtietogether(e.g.,asanalogous)conceptswhichareformallyunrelatedyetwhichbenefitfromsuchatie?6.BytheresultsoftheexperimentsdescribedinSection6.2(beginningonpage125).How"tuned"istheworthnumberingscheme?Thetaskpriorityratingscheme?Howfragileisthesetofinitialconceptsandheuristicrules?Howdomain-specificarethoseheuristicsreally?Thesetoffacets?7.BytheveryfactthatthekindsofexperimentsoutlinedinSection6.2caneasilybesetup"andperformedonAM.Regardlessoftheexperiments'outcomes,thefeaturesofAMwhichallowthemtobecarriedoutatallareworthyofnote.a.Bytheimplicationsofthisproject.WhatcanAMsuggestabouteducatingyoungmathematicians(andscientistsingeneral)?WhatcanAMsayaboutdoingmath?aboutempiricalresearchingeneral?9.Bythenumberofnewavenuesforresearchandexperimentationitopensup.Whatnewprojectscanwepropose?10.Bycomparisonstoother,similarsystems.Foreachofthese10measuringcriteria,asubsectionwillnowbeprovided,toillustrate(I)thebiggestachievementand(i)thebiggestfailureofAMalongeachdimension,and(iii)totrytoobjectivelycharacterizeAM'sperformanceaccordingtothatmeasure.Othermeasuresofjudgingperformanceexist3,ofcourse,buthaven'tbeenappliedtoAM.7.1.1.AM'sUltimateDiscoveries2The"user"isahumanwhoworkswithAMinteractively,givingithints,commands,questions,etcNoticethatby"new"wemeannewtotheuser,notnewtoMankindThismightoccuriftheuserwereachild,andAMdiscoveredsomeelementaryfactesofarithmetic.Thisisnotreallysoprovincialmathematicianstake"new"tomeannew'JtoMankind,notnowintheUniverseIfeelphilosophyslippingin,tothisfootnoteisterminatedForexample,ColbysenttranscriptsofasessionwithPARRYtovariouspsychiatrists,andhadthemevaluateeachinteractionalongseveraldimensionsThesamekindofsurveycouldbedoneforAM.AquiteseparatemeasureofAMwouldbetowaitandseehowmanyfuturearticlesinthefieldrefertothiswork(andinwhatghtl).L%Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-137-TwooftheideaswhichAMproposedweretotallynewandunexpected:41.Considernumberswithanabnormallyhighnumberofdivisors.Ifd(n)representsthenumberofdivisorsofn,5thenAMdefinesthesetof"maximally-divisiblenumbers"tobe{n(NI(Vm<n)d(m)<d(n)).Byfactoringeachsuchnumberintoprimes,AMnoticedaregularityinthem.Theauthorthendevelopeda"mini-theory"aboutthesenumbers.ItlaterturnedoutthatRamanujanhadalreadyproposedthatverysamedefinition(in1915),andhadfoundthatsameregularity.HisresultsonlypartiallyoverlapthoseofAMandtheauthor,however,andhismethodsareradicallydifferent.2.AMfoundacutegeometricapplicationot'Goldbach'sconjecture.Givenasetofallanglesofprimedegree,from0to1800,6thenanyanglebetween0and180degreescanbeapproximatedtowithin10byaddingapairofanglesfromthisprimeset.Infact,itishardtofindsmallersetsthanthisonewhichapproximateanyangletothataccuracy.Byandlarge,theotherconceptswhichAMdevelopedwereeitheralready-known,orreallosers.Forexample,AMcomposedSet-insertwiththepredicateEquality.TheresultwasanoperationInsertoEqua(x,y,z),whichfirsttestedwhetherxwasEqualtoyornot.ThevalueofthiswaseitherTrueorFalse7.Next,thisT/Fvaluewasinsertedintoz.Forexample,InsertoEqual(1l,2},{3,4},{5,6}){False,5,6}.Thefirsttwoargumentsarenotequal,sotheatom'False'wasinsertedintothethird.Althoughhitherto"unknown",thisoperationwouldclearlybebetteroffleftinthatstate.AnotherkindofloseroccurredwheneverAMentereduponsome"regular"behavior.Forexample,ifitdecidedthatComposewasinteresting,itmighttrytocreatesomeexamplesofcompositions.Itcoulddothisbypickingtwooperationsandcomposingthem.WhatbetteroperationstopickthanComposeandCompose!ThusComposeoComposewouldbeborn.Bycomposingthatwithitself,anevenmoremonstrousoperationisspawned:ComposeoComposeoComposeoCompose.Sit-eAMactuallyusestheword"Compose"insteadofthatlittleinfixcircle,thePNAMEofthedatastructureitcreatesishorrendous.Itsuseisalmostnonexistent:itmusttake5operationsasarguments,anditreturnsanewoperationwhichisthecompositionofthosefive.AnanalogousdangerwhichexistsisforAMtobecontentconjecturingastreamofverysimilarrelationships(e.g.,themultiplicationtable).Inallsuchcases,AMmusthavemeta-ruleswhichpullitupoutofsuchwhirlpools,toperceiveahighergeneraliz.tionofitsprevioussequenceofrelatedactivities.Insummary,then,wemafsaythatAMproducedafewwinningideasnewtotheauthor,acoupleofwhichwerenewtoMankind.Severaladditional"new"conceptswerecreated4.ethattheseare"ultimatediscoveries"onlyinthesenseofwhathasbeendoneatthetimeofwritingthisthesisForoneofAM'sideastobe"new",itshouldbepreviouslyunknowntoboththeauthorandtheuser.Why?Iftheauthorknewaboutit,thentheheuristicsheprovidedAMwithmightunconsciouslyencodeapathtothatknowledgeIftheuserknewaboutthatidea,hisguidancemightunconsciouslyhelpAMtoderiveit.AnevenmorestringentinterpretationwouldbethattheideabehithertounknowntothecollectivewrittenrecordofMathematics.eg,d(i2)Size((1,2,3,,6,12))6.6Includedare00andI0,aswellasthe"typical"primes20,30,50,70,110,.,1790.7Actually,inLISP,itwaseasiertohavesuchresultsalwaysbeeitherTorNIL11oChapter7AM:DiscoveryinMathematicsasHeuristicSearch-138-whichbothAMandtheuseragreedwerebetterforgotten.The"level"ofAM'sfruitscouldbeclassifiedasanundergraduatemathmajor,althoughthisisdeceptivesinceAMlacksthebreadthofabilitiesanyhumanbeingpossesses.7.1.2.TheMagnitudeofAM'sProgressEvenwithmenofgenius,withwhomthebirthrateofhypothesesisveryhigh,itonlyjustmanagestoexceedthedeathrate.WH.Georp8Wecanaskthefollowingkindofquestion:howmany"levels"didAMprogressalong?Thisisafuzzynotion,butbasicallyweshallsaythatanewlevelisreachedwhenavaluablenewbunchofconnectedconceptsaredefinedintermsofconceptsatalowerlevel.Forexample,AMstartedoutknowingaboutSetsandSet.operations.Whenitprogressedtonumbersandarithmetic,tkatwasonebigstepuptoanewlevel.Whenitzeroedinonprimes,unique-factorization,anddivisibility,ithadmovedupanotherlevel.Whenfedsimplegeometryconcepts,AMmoveduponelevelwhenitdefinedsomegeneralizationsoftheequalityofgeometricfigures(parallellines,congruentandsimilartriangles,anglesequalinmeasure)andtheirinvariants(rotations,translations,reflections).Theabovefewexamplesareunfortunatelyexhaustive:thatjustaboutsumsupthemajoradvancesAMmade.Itsprogresswashaltednotsomuchbycputimeandtn;,'t,a-!.byapaucityofmeta-knowledge:heuristicrulesforfillit1t,iwwheuristicrules.ThusAM'ssuccessesarefinite,anditsrf!ursinfinite,alongthisdimension.AmorecharitableviewmightcompareAMtoahumanwhowasforcedtostartfromsettheory,withAM'ssparseabilities.Inthatsense,perhaps,AMwouldratequitewell.The"unfair"advantageithadwasthepresenceofmanyheuristicswhichthemselveswereXgleanedfrommathematicians:i.e.,theyarelikecompiledhindsight.Amajorpurposeofmathematicseducationintheuniversityistoinstiltheseheuristicsintothemindsofthestudents.AMisthuscharacterizedaspossessingheuristicswhicharepowerfulenoughtotakeita;y,.few"levels"awayfromthekindofknowledgeitbeganwith,butonlyafewlevels.Thelimitingfactorsare(i)theheuristicrulesAMbeginswith,andmorespecifically(ii)theexpertiseinrecognizingandcompilingnewheuristics,andmoregenerally(iii)alackoft-real-worldsituationstodrawuponforanalogies,intuitions,andapplications.8Quotdfrom[Bevoridle501Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-139-7.1.3.TheQualityofAM'sRouteThinkingisnotmeasuredbywhatisproduced,butratherisapropertyofthewaysomethingisdone.--HammingNo.,oatterwhatitsachievementswere,orthemagnitudeofitsadvancementfrominitialknowledge,AMcould9stillbejudged"unintelligent"if,e.g.,itwereexploringvastnumbersofabsurdavenuesforeachworthwhileoneitfound.ThequalityoftherouteAMfollowedisthusquitesignificant.AMperformedbetterinthisrespectthanexpected.Itisnotobviousl0howwellahumanwouldhavefaredundersimilarcircumstances.Ofthetwohundrednewconceptsitdefined,about130wereacceptableinthesensethatonecandefendAM'sreasoninginatleastexploringthem;inthesensethatahumanmathematicianmighthaveconsideredthem.Ofthese"winners",abouttwodozenweresignificantthatis,useful,catalytic,well-knownbyhumanmathematicians,etc.Unfortunately,thesixtyorseventyconceptswhichwereloserswerereallosers.Inthisrespect,AMfellfarbelowthestandardsamathematicianwouldsetforacceptablebehavior:allhisfailuresshouldhaveatleastseemedpromisingatthebeginning.HalfofAM'sadventureswerepoorlygrounded,and(perhapsduetoalackofintuition)AMbotheredwithconceptswhichwere"obviously"trivial:thesetofevenprimes,thesetofnumberswithonlyonedivisor,etc.Thehumanmathematicianwouldmomentarilyconsidermanypoorcoursesofaction,whereasAMontheotherhandmanagedtoavoidtrulylunaticactivitieswithoutevenmomentaryconsiderationofthem,6uta-ti*an;-':-Annlvspendasignificantamountoftimeonverypromisingtasks,andAMwastedahugeamountortimeorntPkswhichahumanwouldhavequicklyrecognizedasdead-ends.OnceagainwemustobservethatthequalityoftherouteisafunctionofthequaliLyoftheheuristics.Iftherearemanycleverlittlerules,thenthestepsAMtakeswilloftenseemcleverandsophisticated.Iftherulessuperimposenicely,joiningtogethertocollectivelybuttresssomespecificactivity,thentheireffectivenessmaysurpriseandsurpasstheircreator.Suchmomentsofgreatinsight(i.e.,whereAM'sreasoningsurpassedmine)didoccur,althoughrarely.BothofAM's"bigdiscoveries"startedbyitsexaminingconceptsIfeltweren'treallyinteresting.Forexample,Ididn'tlikeAMspendingsomuchtimeworryingaboutnumberswithmanydivisors;I"knew"t-Itheconverseconceptofprimeswas9notnecessarilyWOULDbesojudged.Humansmayverywellconsideranincrediblenumberofsillyideasbeforetherightpairof"hookedatoms"collideintoasensiblethought,whichisthenconsideredinfullconsciousnessIf,likehuman,AU-,-capbleofdoingthisprocessinginsufficientlybriefperiodofrealtime,itwouldnotreflectillonieevaluationOfcourse,thismaysimplybetheDEFINITIONof"sufficientlybrief".10I0Orwhetherthatevenmakessenttoconsider.Comparisonswithmathematicianswouldbedesirable,butarebeyondthescopeofthisinvestigation.--Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-140-infinitelymorevaluable.AndyetAMsawnoreasontogiveuponmaximally-divisiblenumbers;ithadseveralgoodreasonsforcontinuingthatinquiry(theyweretheconversetoprimeswhichhadalreadyprovedinteresting,theirfrequencywithintheintegerswasneitherveryhighnorverylownorveryregular,theirdefinitionwassimple,theywereextremalsoftheinterestingoperation"Divisors-of",etc.,etc.)Similarly,I"knew"thatGoldbach'sconjecturewasuseless,soIwasunhappythatAMwasbotheringtotrytoapplyitinthedomainofgeometry.Inbothcases,AM'sreasonsforitsactionswereunassailable,andinfactitdiddiscoversomeinterestingnewideasbothtimes.SometimesAM'sbehaviorwasdispleasing,eventhoughitwasn't"erring".Occasionallyitwassimultaneouslydevelopingtwomini-theories(sayprimesandmaximally-divisibles).,.i.,Thenitmightpickataskortwodealingwithoneofthesetopics,thenataskortwodealingwiththeothertopic,etc.Thetaskpickedateachmomentwouldbetheonewiththehighestpriorityvalue.Asatheoryisdevelopel,theinterestingnessofitsassociatedtasksgoupanddown;theremaybedoldrumsforahit,justbeforefallingintothetrackthatwillleadtothediscoveryofavaluablerelationship.Duringthesetemporarylags,theinterestvalueoftasksrelatedtotheothertheory'sconce?tswillappeartohaveahigherpriorityvalue:i.e.,betterreasonssupportingit.SoAMwouldthenskipovertooneofthoseconcepts,-%_developituntilitsdoldrums,thenreturntothefirstone,etc.MosthumansfoundthisObehaviorunpalatable'becauseAMhadnocompunctionaboutskippingfromonetopictoanother.Humanshavetoretunetheirmindstodothisskipping,andthereforetreatit.4muchmoreseriously.Forthatreason,AMwasgivenanextramobilereasontouseforcertaintasksonitsagenda:"focusofattention".Anytaskwiththesamekindoftopicastheonesjustexecutedaregiventhisextrareason,anditraisestheirpriorityvaluesalittle.ThiswasenoughsometimestokeepAMworkingonacertainmini-theorywhenitotherwisewouldhaveskippedsomewhereelse.Theabove"defect"isacutelittlekindofbehaviorAMexhibitedwhichwasnon-humanbutnotclearly"wrong".Thereweregenuinebadmomentsalso,ofcourse.Forexample,AMbecameveryexcited12whentheconjunctionof"empty-set"andotherconceptskeptbeingequaltoempty-set.AMkeptrepeatingconjunctionsofthisform,ratherthansteppingbackandgeneralizingthisdataintoa(phenomenological)conjecture.SimilarblindloopingbehavioroccurredwhenAMkeptcomposingComposewithitself,overandover.Ingeneral,onecouldsaythat"regular"behaviorofanykindsignalsaprobablefiasco.Aheuristicruletothiseffecthaltedmostofthesedisgracefulantics.Thisrulehadtobecareful,sinceitwasalmosttheantithesisofthe"focusofattention"ideamentionedinthe-precedingParagraph.Together,thosetworulesseemtosaythatyoushouldcontinueonwiththekindofthingyouwerejustdoing,butnotfortoolongatime.Themomentsofinsightwere2innumber;themomentsofstupidmisdirectionwereabouttwentytimesasmany.J&AMhasveryfewheuristicsfordecidingthatsomethingwasuninteresting,thatworkonitAlthoughitmightbethe*best"fromadynamicmanagementpointofview,itprobablywouldbewronginthelongrun.Maoradvancesreallydohavelullsintheirdevelopment.12Pleaseexcusethisanthropomorphism.Technically,wemaysaythatthepriorityvalueofthebestjobontheagendaisthe"levelofexcitement"ofAM.700orhigheriscalled"excitement",onascaleof0-1000.N!-.-.-_________Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-14I-shouldhaltforalongtime.Rather,AMsimplywon'thaveanythingpositivetosayaboutthatconcept,andotherconceptsareexploredinstead,essentiallybydefault.Eachconcepthasaworthcomponentwhichcorrespondedtoitsrighttolife(itsrighttooccupystorageincore).Thisnumberslowlydeclineswithtime,andisraisedwheneversomethinginterestinghappenswiththatconcept.Ifiteverfallsbelowacertainthreshhold,andifspaceisexhausted13,thentheconceptisforgotten:itslistcellsaregarbagecollected,andallreferencestoitareerased,savethosewhichwillkeepitfrombeingre-created.Thisagainisnotpurposefulforgetting,butratherbydefault;notbecauseXisseenasadead-end,butsimplybecauseotherconceptsseemsomuchmoreinterestingforalongtime.ThusAMdidnotdevelopthesixty"losers"verymuch:theyendedupwithanaverageofonly1.5tasksrelevanttothemeverhavingbeenchosen.The"winners"averagedabouttwiceasmanytaskswhichhelpedfillthemoutmore.Also,theworthratingsoftheloserswerefarbelowthoseofthewinners.SoAMreallydidjudgethevalueofitsnewconceptsquitewell.ThefinalaspectofthisimportantdimensionofevaluationisthequalityofthereasonsAMusedtosupporteachtaskitchosetoworkon.Again,theEnglishphrasescorrespondedquitenicelytothe"real"reasonsahumanmightgivetojustifywhysomethingwasworthtrying,andtheorderingofthetasksontheagendawasrarelyfarofffromtheonethatIwouldhavepickedmyself.ThiswasperhapsAM'sgreatestsuccess:therationalityofitsactions.7.1.4.TheCharacteroftheUser-SystemInteractionsAMisnota"user-orientea"systemThereweremanynicehuman-interactionfeaturesintheoriginalgrandioseproposalforAMwhichnevergotoffthedrawingboard.Attheheartofthesefeaturesweretwoassumptions:1.TheusermustunderstandAM,andAMmustlikewisehaveagoodmodeloftheparticularhumanusingAM.Theonlytimeeithershouldinitiateamessageiswhenhismodeloftheotherisnotwhathewantsthatmodeltobe.Inthatcase,themessageshouldbespecificallydesignedtofixthatdiscrepancy..142.EachkindofmessagewhichistopassbetweenAManditsusershouldhaveitsownappropriatelanguage.Thusthereshouldbeatersecommentlanguage,wherebytheusercannotehowhefeelsaboutwhatAMisdoing,aquestioninglanguageforeitherpartyto,et/givereasonstotheother,apicturelanguageforcommunicatingcertainrelationships,etc.NeitheroftheseideasevermadeitintotheLISPcodethatisnowAM,althoughtheyarecertainlynotprohibitedinanywaybyAM'sdesign.Itwouldbeaseparateproject,atorabovethelevelofamaster'sthesis,forsomeonetobuildaniceuserinterfaceforAM5.13NoconceptswereforgctleninthiswayuntilneartheendofAM'sruns,whenAMwouldusuallycollapsefromseveralcausesincludinglackofspace.15Thisideawasmotivatedbyalecturegivenin1975byTerryWinogradIamnotactuallycallingforthistobedone,merelyindicatingthemagnitudeoftheeffortinvolved.AVERYniceuserinterfacemightbemuchharder,atthelevelofadissertation.Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-142-Asonemightexpect,thereasonforthisatrophyissimplybecauseverylittleguidancefromtheuserwasneededbyAM.Infact,allthediscoveries,cputimequotes,etc.mentionedinthisdocumentaretakenfromtotallyunguidedrunsbyAM.Iftheuserguidesaswellashe--,can,thenaboutafactorof2or3speedupispossible.Ofcourse,thisassumesthattheuser--isdraggingAMdirectlyalongalineofdevelopmentheknowswillbesuccessful.Theusersreasons"ateachsteparebasedessentiallyonhindsight.Thusthisisnotatall"fair".IfAMeverbecomesmoreuser-oriented,itwouldbenicetoletchildren(say6-12yearsold)experimentwithit,toobservethemworkingwithitindomainsunfamiliartoeitherofthem.6Theusercan"kick"AMinonedirectionoranother,e.g.,byinterruptingandtellingAMthatSetsaremoreinterestingthanNumbers17.Eveninthatparticularcase,AMfailstodevelopanyhigher-levelsetconcepts(diagonalization,infinitesets,etc.)andsimplywallowsaroundinfinitesettheory(deMorgan'slaws,associativityofUnion,etc.).Whengeometricconceptsareinput,andAMiskickedinthatdirection,muchnicerresultsareobtained.SeethereportontheGeometryexperiment,page133.Thereisoneimportantresulttoobserve:theverybestexamplesofAMinactionwerebroughttofullfruitiononlybyahumandeveloper.Thatis,AMthoughtofacouplegreat-0concepts,butcouldn'tdevelopthemwellonitsown.Ahuman(theauthor)thentookthemandworkedonthembyhand,andinterestingresultswereachieved.TheseresultscouldbetoldtoAM,whocouldthengooffandlookfornewconceptstoinvestigate.Thisinteractionisofcourseatamuchlowerfrequencythanthekindofrapidfirequestion/answeringtalkedaboutabove.YetitseemsthatsuchsynergymaybetheultimatemodeofAM-likesystems.7.1.5.AM'sIntuitivePowersIntuitiveconvictionsurpasseslogicasthebrillianceofthesunsurpassesthepalelightofthemoon.-KlineLetmehastentomentionthattheword"intuitive"inthissubsection'stitleisnotrelatedtothe(currentlynon-existent)"Intuitions"facetsoftheconcepts.WhatismeantisthetotalityofplausiblereasoningwhichAMengagesin:empiricalinduction,generalization,specialization,maintainingreasonsforjobsontheagendalist,creationofanalogiesbetweenbunchesofconcepts,etc.16Starred()exerciseforthereadercarryoutsuchaprojectonastatisticallysignificantsampleofchildren,waitthrtyyears,andobservetheincidenceofmathematiciansandscientistsingeneral,comparedtothenationalaverages.Withinwhateveroccupationthey'vechosen,ratetheircreativityandproductivity.Toactuallydothis,theuserwilltypecontrol-ItointerruptAM.HethentypesI,meaning"altertheinterestof",followedbytheword"Sets"AMthenaskswhetherthisistoberaisedorlowered.HetypesbackR,andAMaskshowmuch,ona1-10scale.Hereplies9,say,andthenrepeatsthisprocessfortheconcept"Numbers".'I.Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-143-AMonlyconsidersconjectureswhichhavebeenexplicitlysuggested:eitherbyempiricalevidence,byanalogy,or(de-implementednow:)byIntuitionfacets.Onceaconjecturehasbeenformulated,itistestedinallwayspossible:newexperimentalevidenceissought(especiallyextremecases),itisexaminedorm,8toseeifitfollowsfromalready-knownconjectures,etc.Becauseofthisgroundinginplausibility,theonlyconjecturestheusereversees(theonesAMistesting)arequitebelievable.Iftheyturnouttobefalse,bothheandAMaresurprised.Forexample,bothAMandtheuserweredisappointedwhennothingcameoutoftheconceptofUniquely-prime-addablenumbers(positiveintegerswhichcanberepresentedasthesumoftwoprimesinpreciselyoneway).Severalconjectureswereproposedviaanalogywithuniqueprimefactorization,butnoneofthemheldexperimentally.EachofthemseemedworthInvestigating,toboththeuseraridthesystem.'9AM'sestimatesofthevalueofeachtaskitattemptswereoftenfarofffromwhathindsightprovedtheirtruevaluestobe.Yetthiswasnotsodifferentfromthesituationarealresearcherfaces,anditmadelittledifferenceonthediscoveriesandfailuresofthesystem.AMoccasionallymismanageditsresourcesduetoerrorsIntheseestimates.Tocorrectforsucherroneousprejudgments,heuristicruleswerepermittedtodynamicallyalterthetime/spacequantaforthecurrenttask.Ifsomeinterestingnewresultturnedup,thensomeextraresourceswouldbeallotted.Ifcertainheuristicsf.iled,theycouldreducethetimelimits,sonotasmncitotalcputimewouldbewastedonthisloser.Anexampleofaniceconjectureistheuniquefactorizatiot,otie.Aniceanalogywastheonebetweenanglesandnumbers(leadingtotheapplicationofGoldbach'sconjecture).Anotherniceanalogywasbetweennumbersandbags(andhencebetweenbag-operationsandwhatwecommonlycallarithmeticoperations).Somepooranalogieswereconsidered,liketheonebetweenbagsandsingleton-bags.Theramificationsofthisanalogywerepainfullytrivial20.7.1.6.ExperimentsonAMTheexperimentsdescribedinSection6.2(page125ff)providesomeresultsrelevanttotheoverallvalueoftheAMsystem.Thereadershouldconsultthatsectionfordetails;neithertheexperimentsnortheirresultswillberepeatedhere.Afewconclusionswillbesummarized,toshowthatAMfaredwellinthisdimensionofevaluation.Theworth-numberingschemefortheconceptsisfairlyrobust:evenwhenalltheconcepts's18Currently,thisisdoneintrivialwaysAnopenproblem,whichisunderattacknow,istoaddmorepowerfulformalreasoningabilitiestoAMItisstillnotknownwhetherthereisanythinginterestingaboutthatconceptornot20Thebag-operations,appliedtosingletons,didnotproducesingletonsastheirresult(x)U(y)is(x,y)whichisnotasingletonWhethertheydidornotdependedonlyontheequalityorinequalityofthetwoargumentsThereweremanytinyconjecturesproposedwhichmerelyre-echoedthisgeneralconclusionC..''.Z''-?:.''-i.?.':i':i?:*"':""-?:::""'-:-."-:-'-I--..%':+"Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-344-worthsareinitipazedatthesamevalue,theperformanceofAMdoesn'tcollapse,althoughiiisnoticeablydegraded.Certainmutilationsofthepriority-valueschemefortasksontheagendawillcrippleAM,butitcanresistmostofthesmallchangestriedinvariousexperiments.Sometimes,removingjustasingleconcepts(e.g.,Equality)wasenoughtoblockAMfromdiscoveringsomevaluableconceptsitotherwisegot(inthiscase,Numbers).ThismakesAHI'sbehaviorsoundveryfragile,likeaslenderchainofadvancement.Butontheotherhand,manyconcepts(e.g.,TIMES,Timberline,Primes21)werediscoveredinseveralindependentways.IfAM'sbehaviorisachain,itismultiply-stranded22.MoreexprerimentsofthissortshouldbedonetotestthisgeneralconclusionaboutAM.Theheuristicsarespecifictotheirstateddomainofapplicability.Thuswhenworkingingeometry,theOperationheuristicswerejustasusefulastheywerewhenAMworkedinelementarysettheoryornumbertheory.Thesetoffacetsseemedadequateforthosedomains,too.TheIntuitionfacet,whichwasrejectedasavalidsourceofinformationaboutV-'setsandnumbeis,mighthavebeenmoreacceptableingeometry(e.g.,somethingsimilartoGelernter'smodelofageometricsituation).Allinall,then,weconcludethatAMwasfairlytough,andaboutasgeneralasitsheuristics.-.claimeditwas.AMisnotinvincible,infallible,oruniversal.Itsscengthliesincarefuluseofheuristics.Iftherearen'tenoughdomain-specificheuristicsaround,thesystemwillsimplynotperformwe!linthatdomain.Iftheheuristic-usingcontrolstructureofAMistamperedwith23,thereissomechanceoflosingvitalguidinginformationwhichtheheuristicswouldotherwisesupply.7.1.7.HowoPerformExperimentsonAMTheveryfactthatthekindsofexperimentsmentionedintheI?!'section(anddescribedindetailInSection6.2)canbe"setup"andperformedonAM,reflectsanicequalityoftheAMprogram.Mostofthoseexperimentstookonlyamatterofminutestosetup,onlyafewtinymodificationstoAM.Forexample,theonewherealltheWorthratingswereinitializedtothesamevaluewasdonebyevaluatingthesingleLISPexpression:(MAPCCONCEPTS'INc1(PUTc'Worth200)))23Primeswasdiscoveredindependentlyasfollows:allnumbers(>O)wereseentoberepresentableasthesumofsmallernumbers,AddwasknowntobeanalogoustoTIMES;Butnotallnumbers(>I)appearedtoberepresentableastheUctoftwosmallerones;Rulenumber91triggered(seeAppendix3,page243),andAMdefiedthesetofexceptions:thesetofnumberswhichcouldnotbeexpressedastheproductoftwosmallerones;is,theprimes.L"-2222exceptforafewweakspots,likeNumbers.Iftheydon'tgetdiscovered,AMloses23eg.,treatallreasonsasequivalent,sowoujustCOUNTthenumberofreasonsataskhas,todetermineitspriorityontheegenda.Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-145-Similarly,hereishowAMwasmodifiedtotreatalltasksasiftheyhadequalvalue:thefunctionPick-taskhasastatementoftheform(SETQCurrent-task(First-member-ofAgenda))Allthatwasnecessarywastoreplacethecallonthefunction"First-member-of"24bythefunction"Random-member-of".Eventhemostsophisticatedexperiment,theintroductionofanewbunchofconcepts-thosedealingwithgeometricnotionslikeBetween,Angle,Linetookonlyadayofconsciousworktosetup.Ofcourserunningtheexperimentinvolvestheexpenditureofhoursofcputime,soonlyalimitednumberwereactuallyperformed.25Therearecertainexperimentsonecan'teasilyperformonAM:removingallitsheuristics,forexample.Mostheuristicsearchprogramswouldthenwallowaround,displayingjusthowbigtheirsearchspacereallywas.ButAMwouldjustsitthere,sinceit'dhavenothingplausibletodo.Manyotherexperiments,whilecuteandeasytosetup,arequitecostlyintermsofcputime.Forexample,theclassofexperimentsoftheform:"removeheuristicsx,y,andz,andobservetheresultantaffectonAM'sbehavior".ThisobservationwouldentailrunningAMforanhourortwoofcputime!Consideringthenumberofsubsetsofheuristics,notallthesequestionsaregoingtogetansweredinouruniverse'slifetime.Consideringthesmallprobablepayofffromanyonesuchexperiment,veryfewshouldactuallybeattempted.Oneniceexperimentwouldbetomonitorthecontributionearl-heuristicismaking.Thatis,recordeachtimeitisusedandrecordthefinaloutcomeofitsactivation(whichmaybeseveralcycleslater).Unfortunately,AM'sheuristicsarenotallcodedasseparateLispentities,whichonecouldthen"trace".Rather,theyareofteninterwovenwitheachotherintolargeprogrampieces.Sothisexperimentcan'tbeeasilysetupandrunonAM.MostoftheexperimentsonecouldthinkofcanbequicklysetupbutonlybysomeonefamiliarwiththeLISPcodeofAM.ItwouldbequitehardtomodifyAMsothattheuntrainedusercouldeasilyperformtheseexperiments.Essentially,thatwoulddemandthatAMhaveadeepunderstandingofitsownstructure.Thisisofcoursedesirable,fascinating,challenging,butwasn'tpartofthedesignofAM.2624InLISP,thisfunctionisactuallyabbreviated'CAR".25Thosedescribedinthelastchapter.Theseriesofexperimentsbeganatthesametimethatthisdocumentwasbeingwritten,andwasintendedoriginallyonlyasadiversionfromthetediumofwritingTheinterestingcharacteroftheirresultsconvincedmetheyshouldbeincluded,eventhoughtheyarefewinnumberandquiteincomplete26Asueiatponforfutureresearchprojectsinthisgeneralares.suchsystemsshouldbedesignedinawaywhichfacilitatesapoorly-tra,'ndusernotonlyunsthesystembutexperimentineonit.Chopter7AM:DiscoveryinMathematicsasHeuristicSearch-146-7.1.8.FutureImplicationsofthisProjectOneharshmeasureofAMwouldbetodemandwhatpossibleapplicationsitwillhave.Thisreallymeans(i)theusesfortheAMsystem,(ii)theusesfortheideasofhowtocreatesuchsystems,(iii)conclusionsaboutmathandscienceonecandrawfromexperimentswithAM.Herearesomeoftheseimplications,bothrealandpotential:1.Newtoolsforcomputerscientistswhowanttocreatelargeknowledge-basedsystemstoemulatesomecreativehumanactivity.I.ThemodularrepresentationofknowledgethatAMusesmightprovetobeeffectiveinanyknowledge-basedsystem.Divisionofaglobalproblemintoamultitudeofsmallchunks,eachofthemoftheformofsettinguponequitelocal"expert"onsomeconcept,isanicewaytomakeahardtaskmoremanagable.Conceivably,eachneededexpertcouldbefilledinbyahumanwhoreallyisanexpertonthattopic.Thentheglobalabilitiesofthesystemwouldbeabletorelyonquitesophisticatedlocalcriteria.Fixingasetoffacetsonceandforallpermitseffectiveinter-modulecommunication.lb.Someideasmaycarryoverunchangedintomanyfieldsofhumancreativity,whereverlocalguidingrule3exist.Theseinclude:(a)idcasaboutheuristicshavingdomainsofapplicability,(b)thepolicyoftackingthemontothemostgeneralknowledgesource(concept,module)theyarerelevantto,(c)theripplingschemetolocaterelevantknowledge,etc.,2.Abodyofueuristicswhichcan'bebuiltuponbyothers.2a.Mostoftheparticularheuristicjudgmentalcriteriaforinterestingness,utility,etc.,mightbevalidindevelopingtheorizersinothersciences.Recallthateachrulehasitsdomainofapplicability;manyoftheheuristicsinAMarequitegeneral.2b.JustwithinthesmalldomaininwhichAMalreadyworks,thisbaseofheuristicsmightbeenlargedthroughcontactwithvariousmathematicians.Iftheyarewillingtointrospectandaddsomeoftheir"rules"toAM'sexistingbase,itmightgraduallygrowmoreandmorepowerful.2c.Carryingthislastpointtothelimitofpossibility,onemightimaginetheprogrampossessingmoreheuristicsthananysinglehuman.Ofcourse,AMasitstandsnowismissingsomuchofthe'humanelement',thelifeexperiencesthatamathematiciandrawsuponcontinuallyforinspiration,thatmerelyamassingmoreheuristicswon'tautomaticallypushittothelevelofasuper-humanintelligence.Anotherfar-outscenarioisthatofthegreatmathematiciansofeachgenerationpouringtheirindividualheuristicsintoanAM-likesystem.Afterafewgenerationshavecomeandgone,runningthatprogramcouldbeavaluablewaytobringabout'interactions'betwccnpeopl,whowerenotcontemporaries.3.Newandbetterstrategiesformatheducators.[optional)3a.SincethekeytoAM'ssuccessseemstobeits',euristics,andnottheparticularconceptsitknows,th"vholeorientationofm.,athematicseducationshouldperhapsbemodifiee.--ovideexperiencesfc;cnestudentwhichwillbuilduptheserulesinhismind.Learninganew!huremisworthmuchlessthanlearninganewheuristicwhichChapter7AM:DiscoveryinMathematicsasHeuristicSearch-147-letsyoudiscovernewtheorems.27Iamfarfromthefirsttourgesucharevision(see,e.g.,[Koestler67],p.265,orsee[Papert72]).3b.Iftherepertoireofintuition(simulatedreal-worldscenarios)weresufficientforAMtodevelopelementaryconceptsofmath,theneducatorsshouldensurethatchildren(4-6yearsold)arethoroughlyexposedtothosescenarios.Suchactivitieswouldincludeseesaws,slides,pilingmarblesintopansofabalancescale,comparingtheheightsoftowersbuiltoutofcubicalblocks,solvingajigsawpuzzle,etc.Unfortunately,AMfailedtoshowthevalueofthesefewscenarios.Thiswasapotentialapplicationwhichwasnotconfirmed.3c.OneuseforAMitselfwouldbeasa"fun"teachingtool.Ifaveryniceuserinterfaceisconstructed,AMcouldserveasamodelfor,say,collegefreshmenwithnomathresearchexperience.TheycouldwatchAM,seethekindsofthingsitdoes,playwithit,andperhapsgetarealflavorfor(andgetturnedonby)doingmathresearch.Avastnumberofbrilliantmindsaretooturnedoffbyhigh-schooldrillingandcollegecalculustostickaroundlongenoughtofindouthowexcitinganddifferentresearchmathiscomparedtotextbookmath.4.FurtherexperimentsonAMmighttellussomethingabouthowthetheoryformationtaskchangesasatheorygrowsinsophistication.Forexample,canthesamemethodswhichleadAMfrompremathematicalconceptstoarithmeticalsoleadAMfromnumbersystemsuptoabstractalgebra?Orareanewsetofheuristicrulesorextraconceptsrequired?Myguessisthatafewofeacharelackingcurrently,butonlyafew.Thprzisagreatdealofdisagreementaboutthissubjectamongmathema.cians.1ytracingalongthedevelopmentofmathematics,onemightcategorizediscov,,iesbyhoweasytheywouldbeforanAM-likesystemtofind.Sometimes.adiscoveryrequiredtheinventionofabrandnewheuristicrule,whichwotildclearlybebeyondAMascurrentlydesigned.Sometimes,discoveryishI:.,udontheluckyrandomcombinationofexistingconcepts,fornogoodaprin-.reason.Itwouldbeinstructivetofindouthowoftenthisisnecessarilytheas.owoftencan'tamathematicaldiscoverybemotivatedand"explained"usingIeuristicrulesofthekindAMpossessrs?5.Anur--f~icipatedresultwasthecreationofnew-to-Mankindmath(bothdirectlyandbyciefiningnew,interestin,;conceptstoinvestigatebyhand).Theamountofnewbitsofmathematicsdevelopedtodateisminuscule.5a.Asdescribedin(2c)above,AMmightabsorbheuristicsfromseveralindividualsandtherebyintegratetheirparticularinsights.Thismighteventuallyresultinnewmathematicsbeingdiscovered.5b.'Anevenmoreexcitingprospect,whichnevermaterialized,wasthatAMwouldfindanewredivisionofexistingconcepts,analternateformulationofsomeestablishedtheory,muchlikeHamiltonianmechanicsisanalternateunificationofthedatawhichledtoNewtonianmechanics.TheonlyrudimentarybehavioralongtheselineswaswhenAMoccasionallyderivedafamiliarconceptinanabnormalway(e.g.,TIMESwasderivedinfourways;PrimepairswerenoticedbyrestrictingAdditiontoprimes).27UsuallyOnekindofexceptionisthefollowingtheabilitytotakeapowerfultheorem,andextractfromitanew,powerfulheuristic.AMcannotdothis,butitmayturnoutthatthismechanismisquitecrucialforhumans'obtainingnewheuristicsThisisanotheropenresearchproblemChapter7AM:DiscoveryinMathematicsasHeuristicSearch-148-7.1.9.OpenProblems:SuggestionsforFutureResearchWhileAMcanandshouldstandasacompleteresearchproject,partofitsvaluewillstemfromwhateverfuturestudiesaresparkedbyit.Ofcoursethe"evaluation"ofAMalonthisdimensionmustwaitforyears,butevenatthepresenttimeseveralsuchoperproblemscometomind:DeviseMeta-heuristics,rulescapableofoperatingc.,andsynthesizingnewheuristicrules.AMhasshownthesolutionr-fthisproblemtobebothnontrivialandindispensable.AM'sprogressgoundtoahaltbecausefresh,powerfulheuristicswereneverproducedTnenextpointsuggeststhatthesameneedfornewrulesexistsinmather,,aticsasawhole:Examinethehistoryofmathematics,andgraduallybuildupalistoftheheuristicrulesused.Doesthefollowingthesishaveanyvalidity:"Thedevelopmentofmathematicsisessentiallythedevelopmentofnewheuristics."Thatis,canwe'factorout'allthediscoveriesreachablebythesetofheuristicsavailable(known)totheN1.mathematiciansatsometimeinhistory,andthenexplaineachnewbigdiscoveryasrequiringthesynthesisofabrandnewheuristic?Forexample,BolyaiandLobachevskydidthisacenturyagowhentheydecidedthatcounter-intuitivesystemsmightstillbeconsistentandinteresting.Non-Euclideangeometryresulted,andnomathematiciantodaywouldthinktwiceaboutusingtheheuristictheydeveloped.Einsteininventedanewheuristicmorerecently,whenhedaredtoconsiderthatcounter-intuitivesystemsmightactuallyiavephysicalreality.28Whatwasonceaboldnewmethodisnowastandardtoolintheoreticalphysics."-Inafarlessdramaticvein,ahardopenproblemisthatofbuildingupabodyofrulesforsymbolicallyinstantlatingadefinition(aLISPpredicate),Theserulesm,',ybestructuredhierarchically,sothatrulesspecifictooperatingon'operationswhost.%domainandrangeareequal'maybegathered.Isthissetfiniteandmanagable;i.e.,doessomesortof"closure"occurafterafewhundred(thousand?)suchrulesare..iassembled?*Moregenerally,wecanaskfortheexpansionofalltheheuristicrules,ofallcategories.Thismaybedonebyelicitingthemfromfamousmathematicians,orautomaticallybytheapplicationofverysophisticatedmeta-heuristics.Somecategoriesofrulesinclude:howtogeneralize/specializedefinitions,howtofindexamplesofagivenconcept,howtooptimizeLISPalgorithms.*ExperimentscanbedoneonAM.Afewhavebeenperformedalready,manymoreareproposedinSection6.2,andnodoubtsomeadditionaloneshavealreadyoccurredtothereader.Extendtheanalysisalreadybegun(seep.59)ofthesetofheuristicsAMpossesses.Onereasonforsuchananalysiswouldbetoachieveabetterunderstandingofthe28AsCourantsays,"WhenEinsteintriedtoreducethenotionof'simultaneouseventsoccurringatdifferentplaces'toobservablephenomena,whenheunmaskedasametaphysicalprejudicethebeliefthatthisconceptmusthaveascientificmeaninginitself,hehadfoundthekeytohistheoryofrelativity.""Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-14g-contributionoftheheuristics.Insomesense,theheuristicsandthechoiceofstartingconcepts"encode"thediscoverieswhichAMmakes,andthewayitmakesthem.AbetterunderstandingofthatencodingmayleadtonewideasforAMandforfutureAM-likesystems.RewriteAM.InChapter1,onpage9,itwaspointedoutthattherearetwocommonspeciesofheuristicsearchprograms.Onetypehasalegalmovegenerator,andheuristicstoconstrainit.Thesecondtype,includingAM,hasonlyasetofheuristics,andtheyactasplausiblemovegenerators.SinceAMseemedtocreatenewconcepts,proposenewconjectures,andformulatenewtasksinaveryfewdistinctways,itmightverywellbefeasibletofindapurelysyntactic"legalmovegenerator"forAM,andtoconverteachexistingheuristicintoaformofconstraint.Inthatcase,onecould,e.g.,removealltheheuristicsandstillseeameaningful(ifexplosive)activityproceed.Theremightbeafewsurprisesdownthatpath.Amoretractibleproject,asubsetoftheformerone,wouldbetorecodejusttheconjecture-findingheuristicsasconstraintsonanew,purelysyntactic"legalconjecturegenerator".AsimpleGeiierate-and-Tcstparadigmwouldbeusedtosynthesizeandexaminelargenumbersofconjectures.Again,removingalltheheuristicswouldbeaworthwhileexperiment.+Atthereachesoffeasability,onecanimaginetryingtoextendAMintomoreandmorefields,intoless-formalizabledomains.Internationalpoliticshasalreadybeensuggestedasaveryhardfutureapplicationsarea."Abstractingthatlastpoint,trytobuildupasetofcriteriawhichmakeadomainripeforautomating(e.g.,itpossessesastrongtheory,itisknowledge-rich(manyheuristicsexist),theperfce.manceoftheprofessionals/expertsismuchbetterthanthatofthetypicalpractitioners,thenewdiscoveriesinthatfieldallfallintoasmallvarietyofsyntacticformats,...?).Initially,thisstudymighthelphumansbuildbetterandmoreappropriatescientificdiscoveryprograms.Someday,itmightevenpermitthecreationofanautomatic-theory-formation-program-writer."TheinteractionbetweenAMandtheuserisminimalandpainful.Isthereamoreeffectivelanguageforcommunication?Shouldseverallanguagesexist,dependingonthetypeofmessagetobesent(pictures,controlcharacters,asubsetofnaturallanguage,inductionfromexamples,etc.)?CanAM'soutputberaisedinsophisticationbyintroducinganinternalmodeloftheuserandhisstateofknowledgeateachmoment?"Humanprotocolstudiesmaybeappropriate,totestoutthemodelofmathematicalresearchwhichAMputsforward.Arethesequencesofactionssimilar?Arethemistakesanalogous?DothepauseswhichthehumansemitquantitativelycorrespondtoAM'speriodsofgatheringandrunning'Suggest'heuristics?"CantheideaofIntuitionfunctionsbedevelopedintoausefulmechanism?Ifnot,howelsemightreal-worldexperiencesbemadeavailabletoanautomatedresearchertodrawupon(foranalogies,tobasenewtheoriesupon)?Couldone.--,-.---.----Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-150-interfacephysicaleffectorsandreceptorsandquiteliterallyallowtheprogramto'playaroundintherealworld'forhisanalogies?Mostofthe'futureimplications'discussedinthelastsectionsuggestfutureactivities(e.g.,neweducationalexperimentsandtechniques).*Mostofthe'limitingassumptions'discussedInalatersection(page157)canbetackledwithtoday'stechniques(plusagreatdealofeffort).Thuseachofthemcountsasanopenproblemforresearch.+Performaninformation-theoreticanalysisonAM.WhatIsthevalueofeachheuristic?thenewinformationcontentofeachnewconjecture?Ifyou'reinterestedinnaturallanguage,theveryhardproblemexistsofgivingAM(orasimilarsystem)theabilitytoreallydoinferentialprocessingonthereasonsattachedtotasksontheagenda.Insteadofjustbeingabletotestforequalityoftworeasons,itwouldbemuchmoreintelligenttobeabletoinferthekindofrelationshipbetweenanytworeasons;iftheyoverlapsemantically,we'dliketobeabletocomputepreciselyhowthatshouldthateffecttheoverallratingforthetask;etc.ModifythecontrolstructureofAM,asfollows.Allowmini-goalstoexist,andsupplynewrulesforsettingthemup(plausiblegoalgenerators)andalteringthosegoals,plussomenewrulesandalgorithmsforsatisfyingthem.Themodification!haveinmindwouldresultinnewtasksbeingproposedbecauseofcertaincurrentgoals,andexistingtaskswouldbereorderedsoastoraisethechanceofsatisfyingsomeimportantgoal.Finally,thehumanwatchingAMwouldbeabletoobservetherationality(hopefully)ofthegoalswhichwereset.Thesimple"FocusofAttention"mechanismalreadyinAMisatinystepinthisgoal-orienteddirection.NotethatthisproposalitselfdemonstratesthatAMisnotinherentlyopposedtoagoal-directedcontrolstructure.Rather,AMsimplypossessesonlyapartialsetofmechanismsforcompletereasoningaboutitsdomain.7.1.10.ComparisontoOtherSystemsOnepopularwaytojudgeasystemistocompareittoother,similarsystems,and/ortoothers'proposedcriteriaforsuchsystems.Thereisnootherproject(knowntotheauthor)havingthesameobjective:automatedmathresearch.29Manysomewhatrelatedeffortshavebeenreportedintheliteratureandwillbementionedhere.SeveralprojectshavebeenundertakenwhichoverlapsmallpiecesoftheAMsystemandinadditionconcentratedeeplyuponsomeareanotpresentinAM.Forexample,theCLET29In(AtkinBirch19713,eg,wefindnomentionofthecomputerexceptaanumbercruncher.VNIsN1'I"V__-V--v"Ii7;W'-wiChapter7AM:DiscoveryinMathematicsasHeuristicSearch-151-system[Badre73]workedonlearningthedecimaladditionalgorithm3°butthe"mathematicsdiscovery"aspectsofthatsystemwereneitheremphasizednorworthemphasizing;itwasaninterestingnaturallanguagecommunicationstudy.ThesamecommentappliestoseveralrelatedstudiesbyIMSSS31.BoyerandMoore'stheorem-prover[Boyer&Moore75]embodiessomeofthespiritofAM(e.g.,generalizingthedefinitionofaLISPfunction),butItsmotivationsarequitedifferent,itsknowledgebaseisminimal,anditsmethodspurelyformal.32ThesamecommentsapplytotheSAMprogram[Guard69],inwhicharesolutiontheorem-proverissettoworkonunsolvedproblemsinlatticetheory.Amongtheattemptstoincorporateheuristicknowledgeintoatheoremprover,weshouldalsomention[Wang60],[Pitrat70),[Bledsoe71],and[Brotz74).HowdidAMdifferfromthese"heuristictheorem-provers"?Thegoal-drivencontrolstructureofthesesystemsisarealbutonlyminordifferencefromAM'scontrolstructure(e.g.,AM's"focusofattention"isarudimentarystepinthatdirection;seep.150).Thefactthattheiroverallactivityistypicallylabelledasdeductiveisalsonotafundamentaldistinction(sinceconstructingaproofisusuallyinpracticequiteinductive).Eventhecharacteroftheinferenceprocessesareanalogous:Theproverstypicallycontainacouplebinaryinferencerules,likeModusPonens,whicharerelativelyriskytoapplybutcanyieldbigresults;AM'sfew"binary"operatorshavethesamecharacteristics:Compose,Canonize,Logically-combine(disjoinandconjoin).Themaindistinctionisthatthetheoremproverseachincorporateonlyahandfulofheuristics.Thereasonforthis,inturn,isthepaucityofgoodheuristicswhichexistfortheverygeneraltaskenvironmentinwhichtheyoperate:domain-independent(asemantic)predicatecalculustheoremproving.Theneedforadditionalguidancewasrecognizedbytheseresearchers.Forexample,see[Wang60),p.3andp.17.OrasBledsoesays33:Thereisarealdifferencebetweendoingsomemathematicsandbeingamathematician.Thedifferenceisprincipallyoneofjudgment:intheselectionofaproblem(theoremtobeproved);indeterminingitsrelevance;...'ispreciselyintheseareasthatmachineprovershavebeensolacking.Thiskindofjudgmenthastobesuppliedbytheuser...Thusacrucialpartoftheresolutionproofistheselectionofthereferencetheoremsbythehumanuser;thehuman,bythisoneaction,usuallyemploysmoreskillthanthatusedbythecomputerintheproof.Manyresearchershaveconstructedprogramswhichpioneeredsomeofthe'techniquesAMuses34.(Gelernter63)reportstheuseofprototypicalexamplesasanalogicmodelstoguidesearchingeometry,and[Bundy731employsmodelsof"sticks"tohelphisprogramworkwithnaturalnumbers.Thesingleheuristicofanalogywasstudiedin[Evans68)and30Giventheadditiontableupto1010,plusanEnglishtextdescriptionofwhatitmeanstocarry,howandwhentocarry,etc,actuallywriteaprogramcapableofaddingtwo3-digitnumbers31See[Smith74s],forexample.32Thisisnotmeantascriticism;consideringthegodeofthoseresearchers,andtheageofthatsystem,theirworkisquitesignificant.33(Blsdse71,p.7334Inmanycases,thosetechniqueswereusedforthefirsttime,hencewerethoughtofas"tricks",Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-152-:'"[Kling71].35Theoryformationsystemsinanyfieldhavebeenfew.Meta-Dendral[Buchanan74)representsperhapsthebestofthese.Itstaskistounifyabodyofmassspectraldata(examplesof"proper"identificationsofspectra)intoasmallbodyofrulesformakingidentifications.Thuseventhissystemisgivenafixedtask,afixedsetofdatatofindregularitieswithin.AM,however,mustfinditsowndata,andtaketheresponsibilityformanagingitsowntime,fornotlookingtoolongatworthlessdata.36Therehasbeenmuchwrittenaboutscientifictheoryformation(e.g.,[Hempel52)),butverylittleofitisspecificenoughtobeofimmediateusetoAlresearchers.Acouplepointerstoexcellentdiscussionsofthissortare:(Fogel66),[Simon73),and[Buchanan75).Alsoworthnotingisadiscussionneartheendof(Amarel69),inwhich"formation"and"modelling,"probemsaretreated:TheproblemofmodelfindingisrelatedtothefollowinggeneralquestionraisedbySchutzenberger[indiscussionattheConferenceonIntelligenceandIntelligentSystems,Athens,Ga.,1967):'Whatdowewanttodowithintelligentsystemsthatrelatestotheworkofmathematicians?'.Sofarallwehavedoneinthisgeneralareaistoemulatesomeofthereasonablysimpleactivitiesofmathematicians,whichisfindingconsequencesfromgivenassumptions,reasoning,provingtheorems.Acertainamountofworkofthistypewasalreadydoneinthepropositionalandpredicatecalculi,aswellasinsomeothermathematicalsystems.Butthisisonlyoneaspectoftheworkthatgoesoninmathematics.Anotherveryimportantaspectistheoneoffindinggeneralpropertiesofstructures,findinganalogies,similarities,isomorphisms,andsoon.Thisisthetypeofactivitythatisextremelyimportantforourunderstandingofmodel-findingmechanisms.Workinthisareaismoredifficultthantheorem-proving.Theproblemhereisthatoftheoremfinding.AMisoneofthefirstattemptstoconstructa"theorem-finding"program.AsAmarelnoted,itmaybepossibletolearnfromsuchprogramshowtotacklethegeneraltaskofautomatingscientificresearch.Besides"mathsystems",and"creativethinkingsystems",and"theoryformationsystems",weshouldatleastdiscussothers'thoughtsontheissueofalgorithmicallydoingmathresearch.Someindividualsfeelitisnotsofar-fetchedtoimagineautomatingmathematicalresearch.-e.g.,PaulCohen).Others(e.g.,Polya)wouldprobablydisagree.Thepresenceofahigh-speed,general-purposesymbolmanipulatorinourmidstnowmakesinvestigationofthat%.questionpossible.Therehasbeenverylittlepublishedthoughtaboutdiscoveryinmathematicsfromanalgorithmicpointofview;evenclearthinkerslikePolyaandPoincare'treatmathematicalabilityasasacred,almostmysticquality,tiedtotheunconscious.Thewritingsofphilosophersandpsychologistsinvariablyattempttoexaminehumanperformanceandbelief,whicharefarmoremanagablethancreativityinvitro.Beliefformulaeininductive35lrolt'sprogram,18rolz74],usesthistoproposeusefullemmata,.-..-036Incasethatwasn'tclear:Meta-Dendralhasafixedsetoftemplatesforruleowhichitwishestofind,andafixedvocabularyofmassspectralconceptswhichcanbepluggedintrihosetemplates.AMalsohasonlyafewstockformatsforconjectures,butitselectivelyenlargesitsvr..abularyofmathconcepts".L,Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-153-logic37invariablyfallbackuponhowwelltheyfithumanmeasurements.Theabilitiesofacomputerandabrainaretoodistincttoccnsiderblindlyworkingforresults(letalonealgorithms!)onepossesseswhichmatchthoseoftheother.7.2.CapabilitiesandLimitationsofAMThefirsttwosubsectionscontainageneraldiscussionofwhatAMcanandcan'tdo.Latersubsectionsdealwithpowersandlimitationsinherentinusinganagendascheme,infixingthedomainofAM,andinpickingonespecificmodelofmathresearchtobuildAMupon.TheAMprogramexistsonlybecauseagreatmanysimplifyingassumptionsweretolerated;thesearediscussedinSection7.2.4(p.157).Finally,somespeculationismadeabouttheultimatepowersandweaknessesofanysystemswhicharedesignedverymuchlikeAM.7.2.1.CurrentAbilitiesWhatfieldshasAMworkedinsofar?AMisnowabletoexploreasmallbitofthetheoryofsets,datatypes,numbers,andplanegeometry.Itbynomeanshasbeenfednorhasitrediscoveredalargefractionofwhatisknowninanyofthosefields.Itmightbemoreaccuratetobehumbleandrestatethosedomainsas:elementaryfinitesettheory,trivialobservationsaboutfourkindsofdatatypes,arithmeticandelementarydivisibilitytheory,andsimplerelationshipsbetweenlines,angles,andtriangles.SoasophisticatedconceptineachdomainwhichwasdiscoveredbyAMmightbe:*deMorgan'slaws-thefactthatDeleteolnsert39neveraltersBagsorLists*uniquefactorization*similartrianglesCanAMworkinanewfield,likepolitics?AMcanworkinanewelementary,formalizeddomain,ifitisfedasupplementalbaseofconceptualprimitivesforthatdomain.Toworkinplanegeometry,itsufficedtogiveAMabouttwentynewprimitiveconcepts,eachwithafewpartsfilledin.AnotherdomainwhichAMcouldworkinwouldbeelementarymechanics.Themoreinformalthedesiredfield,thelessofAMthatisrelevant.PerhapsanAM-likesystemcouldbebuiltforaconstrained,precisepoliticaltask.39Disclaimer:Evenforaverysmalldomain,theamountofcommon-senseknowledgesuchasystemwouldneedisstaggering.Itisunfortunatetoprovidesuchatrivialanswertosuchanimportantquestion,butthereisnoeasywaytoansweritmorefullyuntilyearsofadditionalresearchareperformed.CanAMdiscoverX?Whydidn'titdoY?ItisdifficulttopredictwhetherAMwill(without37Forexample,see[Hintika621,(Pietarinin72]ThelatteralsocontainsagoodsummaryofCarnp'sX,oeformalization.Takeanitemx,insertitinto(thefrontof)structureB,thendeleteone(thefirst)occurrenceofxfromB39Forexample,suchapolitics-orientedAM-likesystemmightconceivethenotionofagroupofpoliticalentitieswhichviewthemselvesasquitedisparate,butwhichareviewedfromtheoutsideasasingleunit.eg,'theArabs','theAmericanIndians'Conjecturesaboutthisconceptmightincludeitsreputationasapoorcombatant(andwhy).ManyofthesamefacetsAMuseswouldcarryovertorepresentconceptsinthatnewdomain14VChapter7AM:DiscoveryinMathematicsasHeuristicSearch154-modifications)evermakeaspecificgivendiscovery.Althoughitscapabilitiesaresmall,itslimitationsarehazy.Whatmakesthematterevenworseisthat,givenaconceptCwhichAMmisseddiscovering,thereisprobablyareasonableheuristicrulewhichismissingfromAM,whichwouldenablethatdiscovery.Onedangerofthis"debugging"isthatarulewill*beaddedwhichonlyleadstothatonedesireddiscovery,andisn'tgoodforanythingelse.Inthatcase,thenewheuristicrulewouldsimplybeanencodingofaspecificbitofmathematicswhichAMwouldthenappeartodiscoverusinggeneralmethods.Thismustbeavoidedatallcosts,evenatthecostofintentionallygivingupacertaindiscovery.Ifthea.neededruleisgeneralithasmanyapplicationsandleadstomanyinterestingresults-thenitreallywasanoversightnottoincludeitinAM.AlthoughIbelievethattherearenottoomanysuchomissionsstillwithinthesmallrealmAMexplores,thereisnoobjectivewaytodemonstratethat,exceptbyfurtherlongtestswithAM.Inwhatwaysarenewconceptscreated?AlthoughtheanswertothisisaccuratelygiveninSection4.3,page42(namely,thisismainlythejurisdictionoftherightsidesofheuristicrules),;ndalthoughIdislikethesimple-mindedwayitmakesAMsound,thelistbelowdoescharacterizethemajorwaysinwhichnewconceptsgetborn:Fillinexamplesofaconcept(e.g.,byinstantiatingorrunningitsdefinition)Createageneralizationofagivenconcept(e.g.,byweakeningitsdefinition)Createaspecializationofagivenconcept(e.g.,byrestrictingitsdomain/range)0fiComposetwooperationsf,g,therebycreatinganewoneh.[Defineh(x)sf(g(x))]Coalesceanoperationfintoanewoneg.[Defineg(x)-f(x,x)]Permutetheorderoftheargumentsofanoperation.[Defineg(xy)-f(y,x)]Invertanoperation[g(x)=yifff(y):x](e.g.,fromSquaring,createSquare-rooting)CanonizeonepredicatePIwithrespecttoamoregeneraloneP2[createanewconceptf,anoperation,suchthat:P2(x,y)iffPI(f(x),f(y))JCreateanewoperationg,whichistherepealedapplicationofanexistingoperationf.Theusuallo.,icalcombinationsofexistingconceptsx,y:xAy,Xvy,"x,etc.Belowisasimilarlist,givingtheprimarywaysinwhichAMformulatesnewconjectures:NoticethatconceptCiisreallyanexampleofconceptC2NoticethatconceptC1isreallyaspecialization(or:generalization)ofC2NoticethatClisequaltoC2;or:almostalwaysequalNoticethatClandC2arerelatedbysomeknownconceptCheckandupdatethedomain/rangeofanexistingoperationIftwoconceptsareanalogous,extendtheanalogytotheirconjecturesaswellInsummary,wecansaythatAMhasachieveditsoriginalpurpose:tobeguidedsuccessfullybyalargesetoflocalheuristicrules,inthediscoveryofnewmathematicaltheories.Besidescreatingnewconceptsandnoticingconjectures,AMhasthekey"ability"ofappearingtodeciderationallywhattoworkonateachmoment.Thisisaresultoftheagendaoftaskscontainingassociatedreasons.Ofcoursealloftheseabilitiesstemfromthequalityandthequantityoflocalheuristicrules:littleplausiblemovegeneratorsandevaluators.-:O7.2.2.CurrentLimitationsBelowareseveralshortcomingsofAM,whichhurtitsbehaviorbutarenotbelievedtobeinherentlimitationsofitsdesign.Theyarepresentedinorderofdecreasingseverity.Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-155-PerhapsthemostseriouslimitationonAM'scurrentbehaviorarosefromthelackofconstraintsonleftsidesofheuristicrules.ItturnedoutthatthisexcessivefreedommadeitdifficultforAMtoinspectandanalyzeandsynthesizeitsownheuristics;suchaneedwasnotforeseenatthetimeAMwasdesigned.Itwasthoughtthatthepowertomanipulateheuristicruleswasanabilitywhichtheauthormusthave,butwhichthesystemwouldn'trequire.Asitturnedout,AMdidsuccessfullydevelopnewconceptsseverallevelsdeeperthantheonesitstartedwith.Butasthenewconceptsgotfurtherandfurtherawayfromthoseinitialones,theyhadfewerandfewerspecificheuristicsfilledin(sincetheyhadtobefilledinbyAMitself).Gradually,AMfounditselfrelyingonheuristicswhichwereverygeneralcomparedtotheconceptsitwasdealingwith(e.g.,forcedtouseheuristicsaboutObjectswhendealingwithNumbers).Heuristicsfordealingwithheuristicsdoexist,andtheirnumbercouldbeincreased.Thisisnotaneasyjob:findinganewmeta-heuristicisatoughprocess.Heuristicsarerarelymorethancompiledhindsight;henceit'sdifficulttocreatenewones"beforethefact".AMhasnonotionofproof,prooftechniques,formalvalidity,heuristicsforfindingcounterexamples,etc.Thusitneverreallyestablishesanyconjectureformally.Thiscouldprobablyberemediedbyaddingabout25newconcepts(andtheir100newassociatedheuristics)dealingwithsuchtopics.Theneededconceptshavebeenoutlinedonpaper,butnuyetcoded.Itwouldprobablyrequireafewhundredhourstocodeanddebugthem.Theuserinterfaceisquiteprimitive,andthisagaincouldbedramaticallyimprovedwithjustacouplehundredhours'work.AM'sexplanationsystemisalmostnonexistent:theusermustaskaquestionquickly,orAMwillhavealreadydestroyedtheinformationneededtoconstructananswer.Acleanrecordofrecentsystemhistoryandaniceschemefortrackingdownreasonsformodifyingoldrulesandaddingnewonesdynamicallydoesnotexistatthelevelwhichisfound,e.g.,inMYCIN(Davis76].Thereisnotrivialwaytohavethesystemprintoutitsheuristicsinaformatwhichisintelligibletotheuntraineduser.AnimportanttypeofanalogywhichwasuntappedbyAMwasthatbetweenheuristics.Iftwosituationsweresimilar,conceivablytheheuristicsusefulinonesituationmightbeuseful(orhaveusefulanalogues)inthenewsituation(see[Koppelman75]).Perhapsthisisaviablewayofenlargingtheknownheuristics.Such"meta-level"activitieswerekepttoaminimumthroughoutAM,andthisprovedtobeaseriouslimitation.Myintuitiontellsmethatthe"right"tenmeta-rulescouldcorrectthisparticulardeficiency.Theideaof"Intuitions"facetswasaflop.Intuitionsweremeanttomodelreality,atleastlittlepiecesofit,sothatAMcouldperform(simulate)physicalexperiments,andobservetheresults.Themajorproblemherewasthatsolittleoftheworldwasmodelledthattheonlyrelationshipsderivablewerethoseforeseenbytheauthor.Thislackofgeneralitywasunacceptable,andtheintuitionswerecompletelyexcised.Theoriginalideamightleadsomewhereifitweredevelopedfully.AswithalllimitationsofAM,Ileavethisasanopen="suggestionforfutureresearch.Severallimitationsarosefromtheconstraintsoftheagendascheme,fromthechoiceoffinitesettheoryasthedomaintoworkin,andfromtheparticularmodelofmathresearchthatwaspostulated.Thesewillbediscussedinthenextfewsubsections.Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-156-7.2.3.LimitationsoftheAgendaschemeThefollowingquibbleswiththeagendaschemegetlessandlessimportant.Whenyougetbored,skiptothenextsubsection.Ciiently,itisdifficulttoincludeheuristicswhichinteractwithoneanotherinanysignificantway.ThewholefibreoftheAgend-Aschemeassumesperfectindependenceofheuistics.Theglobalformulausedtoratetasksontheagendaassumesperfectsu~petpositionofreasons:thereareno"cross-terms".Isthisassumptionalwaysvalid?Unfortunatelyno,notevenforthelimiteddomainAMhasexplored.Sometimes,tworeasonsareverysimilar:"ExamplesofSetswouldpermitfindingexamplesofUnion"and"ExamplesofSetswouldpermitfindingexamplesofIntersection".Inthatcase,theirtworatingsshouldn'tcausesuchabigincreaseintheoverallpriorityvalueofthetask"FillinexamplesofSets"."ometimes,aheuristicrulewillwanttodissuadethesystemfromsomeactivity.Thusawirrti-rnumericconrib"utio,toatask'spriorityvalueisdesired.ThisisnotfiguredintotheLtiiritscheme.Withaslightmodification,theglobalformulacouldpreservethesign(signum)ofeachreason'srating.'1asksontheagendalistareorderedbytheirnumericpriorityvalue.Eachreason'siiuneiilLvalueiskept,too.Whennewreasonsareadded,thesevaluesareusedto,.(,COniputeanewpriorityforthetask.Eachreason'sratingwascomputedbyalittlefuirnulafoundinsidesomeheuristicrule.Thoseformulaearenotkepthangingaround.Onfebigimprovementinapparentintelligencecouldbeattainedbytackingonthoselittleiformulaetothereasons.Whenanewreasonisadded,theoldreasons'ratingformulaewouldbeevaluatedagain.Theymightindeedgivenewnumbers.Forexample,supposeonereasonwas"FewexamplesofXareknown".Butbynow,othertaskshavemeanwhileinadvertantlyfilledinseveralexamplesofX.Thenthatlittlereason'sformulawouldcometipwithamuchlowervaluethanitdidoriginally.Infact,thevaluemightbesolowthatthereasonwasdroppedaltogether.Iftheformulaewerekept,itmightbegoodpracticetoevaluatethemforthetoptwoorthreetasksontheagenda,toseeiftheymightchangetheirorderingAlso,thetoptask'sprioritywouldthenbemoreaccurate,andrecallthatitsvalueisusedtodeterminethecputimeandlistcellspacequantathatthetaskisallowedtouseupAtthemoment,AMisnotsetuptostorethelittlefunctions,andifmodifiedtodoso,itusesupalotmorespacethanitcanafford.Also,thetopfewjobsarealmostneversemanticallycoupled(exceptby"focusofattention"),sothepreciseorderinwhichtheyareexecutedrarelymatters.Perhapswhatisneededisnotasinglepriorityvalueforeachtask,butavectorofnumbers.Ateachcycle,AMwouldconstructavectorofitscurrent"interests"andneeds,andeachtask'svectorwouldbedot-multipliedagainstthisglobalvectorofAM'sdesires.Thehighestscorerwouldthenbechosen.Forexample,onedimensionoftheratingcouldbe*.e"safety",andonecouldbe"bestpossiblepayoff",onecouldbe"averageexpectedpayoff",etc.Sometimes,AMwouldhavetobreakoutofastagnantsituation,anditwouldbewillingtotryriskiertasksthanusual.Thiswasnotimplementedbecauseofthegreatincreaseincputimeitwouldcause.Itis,however,probablyabetterdesignthanthecurrentone.Evenmoreintelligentschemescanbeenvisionedinvolvingmoreandmoresymbolicdatabeingstoredwitheachtask.Ultimately,thiswouldbejusttheEnglishreasonsthemselves;bythat,.--I.-Chapter7AM:DiscoveryinMathematicsasHeuriticSearch-157-time,thetask-ordererwouldhavegrownintoanincrediblycomplexAIprogramitself(anaturallanguageprogramplusaninterrelatorplus...).Theagendalistshouldreallybeanagendatree40,sincetheorderingoftasksisreallyjustpartial,nottotal.Ifthisisclear,thenskiptherestofthisparagraph.Therearesome"legitimate"orderingsoftasksontheagenda;iftaskXissupportedbyasubsetofthereasonswhichsupportY,thentypicallythepriorityofXwillbelessthanorequaltothepriorityofY.Twotasksoftheform"FillinexamplesofA","FillinexamplesofB"canbeorderedsimplybecauseAiscurrentlymuchmoreinterestingthanB.Butoften,twotaskswillhavenoironcladorderingbetweenthem:compare"FillinexamplesofSets"and"CheckgeneralizationsofUnion".Thustheorderingisonlypartial,anditistheartificeoftheglobalevaluationfunctionwhichembedsthisintoalinearordering.Ifmultiprocessorsareused,itmightbeadvantageoustokeeptheoriginalpartialorderingaround.7.2.4.LimitingAssumptionsAMonly"gotofftheground"becauseanumberofsweepingassumptionsweremade,pertainingtowhatcouldbeignored,howacomplexprocesscouldbeadequatelysimulated,etc.NowthatAMisrunning,however,thosesamesimplificationscropupaslimitationstothesystem'sbehavior.EachofthefollowingpointsIsa'convenientfalsehood'.Althoughthereaderhasalreadybeentoldaboutsomeofthese,it'sworthlistingthemalltogetherhere:TheonlycommunicationnecessaryfromAMtotheuseriskeepingtheuserinformedofwhatAMisdoing.NonaturallanguageabilityisrequiredbyAM;simpletemplateinstantiationissufficient.TheonlycommunicationfromtheusertoAMisanoccasionalinterrupt,whentheuserwishestoprovidesomeguidanceortoposeaquery.Bothofthesecanbestereotypedandpassedeasilythroughaverynarrowchannel.41*Eachheuristichasawell-defineddomainofapplicability,whichcanbespecifiedjustbygivingthenameofasingleconcept.IfconceptCIismorespecializedthanC2,thenCl'sheuristicswillbemorepowerfulandshouldbeexecutec,beforeC2's(wheneverbothconcepts'heuristicsarerelevant).IfhIandh2aretwoheuristicsattachedtoconceptC,thenitIsnotnecessarytospendanytimeorderingthem.Heuristicssuperimposeperfectly;theyneverinteractstronglywitheachother.40maybeanstendaHeap.41EC,asetofescapecharacters,so1Wmeans'Whydidyoudothat?',tUmeant'Uninteresting!Goontosomethingelse',etc.Chapter7AM:DiscoveryinMathernaiiceasHeuristicSearch-158-:Thereasonssupportingataskcanbemeretokens;itsufficestobeabletoinspectM--themforequality.Theyneednotfollowaconstrainedsyntax.Thevalueofareasonisadequatelycharacterizedbyaunidimensionalnumericrating."\Thereasonssupportingatasksuperimposeperfectly;theynever..teractwitheachother.Supportingreasonsandtheirratingsneverchangewithtime,withoneexception:theephemeron'Focusofattention'.'-Itdoesn'tmatterinwhatorderthesupportingreasonsforataskwereadded."-Thereisnoneedfornegativeorinhibitoryreasons,whichwoulddecreasethepriorityvalueofatask.-Atanymoment,thetopfewtasksonthe,gendaarenotcoupledstrongly;itisnotnecessarytoexpendextraprocessingtime'tocarefullyorderthem.0Thet'sksontheagendaarecompletelyindependentofeachother,inthesenseofonetask'enabling'or'waking-up'another.-Mathematicsresearchhasaclean,simplemodel(seeSection7.2.6,page162),whichindicatesthatitisasearchprocessgovernedbyalargecollectionofheuristicrul's.*Elementarymathematicsissuchthatvaluablenewconceptswillbediscoveredfairlyregularly.Theworthofeachnewconceptcanbeestimatedeasily,afterjustabriefinvestigation.*Contradictionswillariseveryrarely,anditisnotdisastroustoignorethemwhentheydooccur.ThesameindifferenceappliestothedangerofbelievinginfR1.econjectures.Whendoingtheoryformationinelementarymathematics,proofandformalreasoningaredispensable._.Evenasmoreknowledgeisobtained,thesetoffacetsneedneverchange.*.Foranypieceofknowledgesoughtorobtained,thereispreciselyonefacetofoneexisting42conceptwherethatknowledgeoughttobestored,anditiseasytodeterminethatproperlocation..-Evenasmoreconceptsaredefined,thebodyofheuristicsneednotgrowmuch.-742Theonlyallowableexceptionithatancwpisceofinformationmightrequirethecreationofabrandnewconcept,andthenrequirestoragesomewhereonthatconcept.Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-159-Anycommon-senseknowledgerequiredbyAMisautomaticallypresentwithintheheuristicrules.So,e.g.,nospecialspatialvisualizationabilitiesareneeded.Itisworthrepeatingherethattheaboveassumptionsareallclearlyfalse.YetnoneofthemwastoodamagingtoAM'sbehavior,andtheircombinedpresencemadethecreationofAMfeasible.7.2.5.ChoiceofDomainThegenesisofmathematicalcreationisaproblemwhichshouldintenselyinterestthepsychologist.Itistheactivityinwhichthehumanmindseemstotakeleastfromtheoutsideworld,inwhichitactsorseemstoactonlyofitselfandonitself,sothatin)tudyingtheprocedureofmathematicalthoughtwemayhopetoreachwhatismostessentialinman'smind.--Poincare'Herearesomequestionsthissubsectionwilladdress:+WhataretheinherentlimitationsandadvantagesinfixingadomainforAMtoworkin?*Whatcharacteristicsarefavorabletoautomatingresearchinanygivendomain?+Whatarethespecificreasonsforandagainstelementaryfinitesettheoryasthechosenstartingdomain?Researchinvariousdomainsofscienceandmathproceedsslightlydifferently.Forexample,psychologyisinterestedinexplainingpeople,notincreatingnewkindsofpeople.MathisnotinterestedinindividualentitiessomuchasInnewkindsofentities.Thereareethicalrestrictionsonphysicianswhichpreventcertainexperimentsfrombeingdone.Politicalexperimentsrarelypermitbacktracking,etc.EachfieldhasItsownpeculiarities.Ifwewantasystemtoworkinmanydomains,wehavetosacrificesomepower.43.Withinagivenfieldofknowledge(likemath),thefinerthecategorywelimitourselvesto,themorespecificaretheheuristicswhichbecomeavailable.Soitwasreasonabletomakethisfirstattemptlimitedtoonenarrowdomain.Thisbringsupthechoiceofdomain.Whatshoulditbe?AstheDENDRALprojectillustratedsoclearly44choiceofsubjectdomainisquiteimportantwhenstudyinghowresearchersdiscoveranddeveloptheirtheories.Mathematicswaschosenasthedomainofthisinvestigation,because1.Indoingmathrese.r,:h,oneneedn'tcopewiththeuncertaintiesandfallabilityof43Thisisassumingasystemofagivenfixedsize.Ifthisrestrictionisn'tpreseit,thenareasonable"general-purpose"sysemcouldbeIvltasseveralsystemslinkedbyonegiantswitch.44see[Feigenbaumat.al.71].Inthatcase,thechoiceofsubjectwasenabledby(Lederberg64].1".I---*,...-ir,-.=--_,,,-.---k"-i"Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-160-*testingequipment;thatis,therearenouncertaintiesinthedata(comparedto,e.g.,molecularstructureinferencefrommassspectrograms).2.Relianceonexperts'introspectionsisoneofthemostpowerfultechniquesforcodifyingthejudgmentalcriterianecessarytodoeffectiveworkinafield;IpersonallyhavehadenoughtraininginilementarymathematicssothatIdidn'thavetorelycompletelyonexternalsourcesforguidanceinformulatingsuchheuristicrules.Also,severalexcellentsourceswereavailable[Polya,Skemp,Hadamard,Kershner,etc.).3.Themoreformalascienceis,theeasieritistoautomate.Foramachinetocarryoutresearchinpsychologywouldrequiremoreknowledgeabouthumaninformation.-.-processingthannowisknown,becausepsychologydealswithentitiesascomplexasyouand1.Also,inaformalscience,the.nguagestocommunicateinformationcanbesimpleeventhoughthemessagesthemselvesbesophisticated.4.Sincemathematicscandealwithanyconceivableconstructs,aresearcherthereisnotlimitedtoexplainingobserveddata.Relatedtothisisthefreedomtoinvestigate-ortogiveuponwhatevertheresearcherwantsto.Thereisnosinglediscoverywhichisthe"goal",nogivenproblemtosolve,norightorwrongbehavior.5.Unlike"simpler"fields,suchaspropositionallogic,thereisanabundanceofheuristicrulesavailableforthepicking.Thelimitationsofmathasadomainarecloselyintertwinedwithitsadvantages.Havingnotiestoreal-worlddatacanbeviewedasalimitation,ascanhavingnocleargoal.ThereisalwaysthedangerthatAMwillgiveuponeachtheoryassoonasthefirsttoughobstaclecropsup.Sincemathhasbeenworkedonformilleniabysomeofthegreatestmindsfrommanydifferentcultures,itisunlikelythatasmalleffortlikeAMwouldmakeanynewinroads,haveanystartlinginsights.Inthatrespect,Dendral'sspacewasmuchlessexplored.Of,coursemathevenattheelementarylevelthatAMexploreditstillhasundiscovered"Ngems(e.g.,therecentunearthingofConway'snumbers[Knuth74)).OnepointofagreementbetweenWeizenbaumandLederberg45isthatAlcansucceedinautomatinganactivityonlywhena"strongtheory"ofthatactivityexists.AMisbuiltonadetailedmodelofhowhumansdomathresearch.Inthenextsubsection,we'lldiscussthemodelofmathresearchthatAMassumes.Beforethat,considerforamomenthowfewotherfieldsofhumanendeavorhaveagoodmodel,andalsoenjoyalltheadvantageslistedabove:otherdomainsofmath,classicalphysics....notmanyothers.7.2.6.LimitationsoftheModelofMathResearch45SeethequoteatthefrontofthenextsubsectionItisfrom[Lodsrborg76),areviewof[Weizenbaum76).ThisreviewalsoexistsssfileWEIZEN.LED[pub,imc)OSAIL.$-i-..y,-°-i-:.-,,_..,-..<,i.-.i:...-.'-ii-.-,.;,-,,:.:-=Chapter7AM:DiscoveryinMathematicsasHeuristicSearch-16!-Weizenbaumdoespointtoprqjectsinmathematicsandchemistrywherecomputershaveshowntheirpotentialforassistinghumanscientistsinsolvingproblems.Hecorrectlypointsoutthatthesesuccessesarebasedontheexistenceof"strongtheories"abouttheirsubjectmatter.--LederbergAM,likeanythingelseinthisworld,isconstrainedbyamassofassumptions.Mostoftheseare"compiled"orinterwovenintotheveryfabricofAM,hencecan'tbetestedbyexperimentsonAM.Someofthesewerejustdiscussedafewpagesago,inSection7.2.4.Anotherbodyofassumptionsexists.AMisbuiltaroundaparticularmodelofhowmathematiciansactuallygoaboutdoingtheirresearch.Thismodelwasderivedfromintrospection,butcanbesupportedbyquotesfromPolya,Kershner,Hadamard,Saaty,Skemp,andmanyothers.Noattemptwillbemadetojustifyanyofthesepremises.Onthenextpageisasimplifiedsummaryofthatinformationprocessingmodelformaththeoryformation:RIChapter7AM:DiscoveryinMathematicsasHeuristicSearch-162-MODELOFMATHRESEARCH1.Theorderinwhichamathtextbookpresentsatheoryisalmosttheexactoppositeoftheorderinwhichitwasactuallydiscoveredanddeveloped.Inatext,newdefinitionsarestatedwithlittleornomotivation,andtheyturnouttobejusttheonesneededtostatethenextbigtheorem,whoseproofthenmagicallyappears.Incontrast,amathematiciandoingresearchwillexaminesomealready-knownconcepts,perhapstryingtofindsomeregularityinexperimentaldatainvolvingthem.Thepatternshenoticesaretheconjectureshemustinvestigatefurther,andtheserelationshipsdirectlymotivatehimtomakenewdefinitions.2.Eachsteptheresearchertakeswhiledeveiepinganewtheoryinvolveschoosingfromalargesetof"legal"alternativesthatis,searching.Thekeytokeepingthisfrombecomingablind,explosivesearchistheproperuseofevaluationcriteria.Eachmathematicianuseshisownpersonalheuristicstochoosethe"best"alteinativeavailableateachmoment.3.Non-formalcriteria(aestheticinterestingness,inductiveinferencefromempiricalevidence,analogy,andutility)aremuchmoreimportantthanformaldeductivemethodsindevelopingmathematicallyworthwhiletheories,andinavoidingbarrendiversions.4.Piogressinanyfieldofmathematicsdemandsmuchnon-formalheuristicexpertiseinmanydifferent"nearby"mathematicalfields.Soabroad,universalcoreofknowledgemustbemasteredbeforeanysingletheorycanmeaningfullybedeveloped.5.Itissufficient(andpragmaticallynecessary)tohaveandusealargesetofinformalheuristicrules.Theserulesdirecttheresearcher'snextactivities,dependingonthecurrentsituationheisin.Theserulescanbeassumedtosuperimposeideally:thecombinedeffectofseveralrulesisjustthesumoftheindividualeffects.6.Thenecessaryheuristicrulesarevirtuallythesameinallbranchesofmathematics,andatalllevelsofsophistication.Eachspecializedfieldwillhavesomeofitsownheuristics;thosearenormallymuchmorepowerfulthanthegeneral-purposeheuristics.7.Fortrueunderstanding,theresearchershouldgrasp46eachconceptinseveralways:declaratively,abstractly,operationally,knowingwhenitisrelevant,andasabunchofexamples.8.Commonmetaphysicalassumptionsaboutnatureandscience:Natureisfair,uniform,andregular.Coincidenceshavemeaning.Statisticalconsiderationsarevalidwhenlookingatmathematicaldata.Simplicityandsymmetryandsynergyaretherule,nottheexception.46Haveaccessto,relateto,store,beabletomanipulate,beabletoanswerqu-aboutChapter7AM:DiscoveryinMathematicsisHeuristicSearch-163-7.2.7.UltimatepowersadweaknessesConsidernowanysystemwhichisconsistentwiththeprecedingmodelofmathresearch,andwhoseorientationistodiscoveranddeveiopnew(tothesystem)mathematicaltheories.ThisincludesAMitself,butmightalsoincludeabrighthigh-schoolseniorwhohasbeentaughtalargebodyofheuristicrules.Whatcansuchsystemsultimatelyachieve?Whataretheirultimatelimits?Answerstoultimatequestionsarehardtocomebyexperimentally,sothisdiscussionwillbequitephilosophical,speculative,andshort.Themodelofmathresearchhingesaroundtheuseofheuristicrulesforguidanceatallleve,sofbehavior.Itisquestionablewhetherornotallknownmathematicscouldevolvesmoothlyinthisway.Asafirstorderfixup,,ie'vementionedther.eedtoprovidegoodmta-heuristics,tokeepenlargingthesetofheuristics.Ifthisisnotenough(ifmeta-meta-...-,ieuristicsareneeded),thenthemodelisapooroneandhassomeinherentlimitations.47Ifsomediscoveriescanonlytemadenon-rationally(byrandomchance,byGestalt,etc.)thenanysuchsystemwouldbeincapableoffindingthoseconcepts.Turningasidefrommath,whataboutsystemswhosedesignasacomputerprogramissimilartoAM?48Buildingsuchsystemswillbe"'fun",andperhapswillresultinnewdiscoveriesinotherfields.Eventually,scientists(atleastinafewveryharddomains)mayrelegatemoreandmoreoftheir"hack"researchdutiestoAM-likesystems.Theultimatelimitationswillbethosearisingfromincorrect(e.g.,partial)modelsoftheactivitiesthesystemmustperform.Thesystemsthemselvesmayhelpimprovethesemodels:experimentsthatareperformedonthesystemsareactuallytestsolftheunderlyingmodel;theresultsmightcauserevisionstobemadeinthemodel,theninthesystem,andthewholecyclewouldbeginagain.73.FinalConclusionsBeforequitting,let'ssummarizewhat'sworthrememberingaboutthisthesis.Itisademonstrationthatafewhundredgeneralheuristicrulessufficetoguideanautomatedmathresearcherasitexploresandexpandsalargebutincompleteknowledgebaseofmathconcepts.AMservesasalivingexistenceproofthatcreativeresearchcanbeeffectivelymodelledasheuristicsearch.47IfPtolemyhadhadaccesstoadigitalcomputer,allhisdatacouldhavebeenmadetofit(toanydesiredaccuracy),justbycomputingepi-cycles,epi-epi-cycles,.totheneedednumberofepi'sWeinAlmustconstantlybeonguardagainstthaterror.48Havingenagendaoftaskswithreasonsandreason-ratingscombiningtoformglobalpriorityforeachtask,havingunits/modules/frames/Being/Actors/conceptewhichhaveparts/slots/faScets,etc.Heuristicrulesaretackedontorelevantconcepts,andareexecutedtoproducenewconcepts,newtasks,newfacetentries.:[%PtChapter7AM:DiscoveryinMathematicsasHeuristicSearch-164-Thethesisalsointroducesacontrolstructurebaseduponanagendaofsmallresearchtasks,eachwithalistofsupportingreasonsattached.ThemainlimitationofAMwasitsinabilitytosynthesizepowerfulnewheuristicsforthenewconceptsitdefined.Themainsuccesseswerethefewnovelideasitcameupwith,theeasewithwhichanewtaskdomainwasfedtothesystem,andmostimportantlytheoverallrationalsequencesofbehaviorAMexhibited.Thegreatestlong-rangeimportanceofAMmaywelllieinthebodyofheuristicsassembled(Appendix3),eitherastheseedforahugebaseofexperts'heuristics,orasaneworientationformathematicseducation.-165-Appendix1.GlossaryofTechnicalTermsThe"jargon"ofafieldfacilitatescommunicationamongpractitionersofthatfield,butittoooftenexcludesnovices.Ihavetriedtosoftentheimpactofeach"buzz-word"whenitwasfirstused,butthereadermayneedtofrequentlyrefreshhismemoryaboutthemeaningsofcertainterms.Thisglossaryisdividedintotwosections.ThefirstcontainsprimarilyMathematicsterms,strangelybiassedbecauseitjustcoverswhatisreferencedinthisthesis.Thesecondglossary,ofComputerScienceandArtificialIntelligenceterms,suffersfromthesam.etunnelvision.Theymaysufficeforreadingthisdocument,buttheyarecertainlynotmeanttobeusedformoregeneralpurposes.Appendix1.1.GlossaryofMathTermsAbduction:Inlogic,asyllogismoftheform"fromA,concludethatBisprobablytrue".Ifyourmentalframeforanautomobilecontainsahundrednecessaryfeatures,andyouseesomethingsatisfyingonly90ofthem,youcanabductivelyconcludeitisprobablyanautomobile.Cardinality:theconceptof"number".Twosetsareofthesamecardinalityifftheyhavethesamenumberofelements.CompositionoftworelationsRandS:ThisisanewrelationdenotedAoS,anddefinedasRoS(x)R(S(x)).SoRoSmapselementsofthedomainofSintoelementsoftherangeofR.NoticethatifRandSarebothfunctions,thensoisRoS.TheintuitivepictureofthisprocessistooperateonxwiththerelationS,andthenapplyRtotheresults.Function:anoperationfwhichassociates.toeachelementxofsomesetD,anelementf(x)ofsomesetR.DandRarethedomainandrangeoff.Noticethatafunctionmaybeconsideredaspecialkindofrelation.Forarelationf(onDxR)tobecalledafunction,fmustsatisfytwoimportantconstraints:(i)itmustbealways-definedonitsdomain;thatis,foralldomainelementsx(D,f(x)mustexist.(ii)fmustbesingle-valued;thatis,f(x)mustbeasingleton.hif:ifandonlyif;Impliesandisimpliedby;isequivalentto;>.Integers:positiveandnegativewholenumbers;i.e.-2,-1,0,1,2....Map:usedasaverb,thiswordindicatestheactionofapplyingafunctionorarelation;e.g.,wesaythatsquaringmaps7into49.Usedasanoun,itisasynonymforfunction.Mathematicalconcept:thisistakentomeanalltheconstructipns,definitions,conjectures,operations,structures,etc.thatamathematiciandealswith.Someexamples:Set-intersection,Sets,Theuniquefactorizationtheorem,everyentrylistedinthisglossary.4',_.p,,-777.-'91,7-7V7_26AppendixIAMDiscoveryinMathematicsasHeuristicSearch-166-Mathematicalintuition:thisisthementalimagerywhichcanbebroughttobear.Typically,wetransformthesituationtoanabstract,simplifiedone,manipulateitthere,andre-translatetheresultsintotheoriginalnotation.Forexample,ourintuitionabout"ordering"mayinvolvetheimageofmarksonayardstick.Wecanthenanswerquestionsinvolvingorderingrapidly,usingthisrepresentation.Threefeaturesoftheintuitiveimageshouldbenoted:(i)itistypicallyfastandsimple,(i)itisopaque,onecannotintrospecttooeasilyon"whyitworks",and(in)itisfallible,occasionallyleadingtowrongresults.Mathematicalresearch:Thefundamentalideahereisthatmathematicsisanempiricalscience,justasmuchaschemistryorphysics.Indoingresearch,theultimategoalisthecreationofnew,interestingheories,butthetechniquesusedincludelookingforpatternsinempirica!dcua,inducingnewconjectures,modellingsomeaspectsoftherealworld,etc.Althoughthefinalproductlookslikeasmooth,formaldevelopment,magicallyflowingfrompostulatestolemmastotheorems,theactualresearchprocessinvolveduntoldblindalleys,roughguesses,andhardwork.(Analogy:Theprocessofpaintingisrarelyitselfartistic.)Mathematicaltheory:toqualifyasatheory,wemusthave0)abasisofundefinedprimitiveterms,(ii)definitionsinvolvingthese,(iii)axiomsinvolvingalltheprimitivesanddefinedterms(iv)conjecturesandtheoremsrelatingtheseterms.Tobeatallworthwhile,however,thetheorymustalsomeetthefuzzyrequirementsthat(v)thereissomecorrespondencebetweentheprimitivesandsome"real-world"concepts,betweentheaxiomsandsome"real"relationships,and(vi)someofthetheoremsareunexpected,hardtoprove,elegant,interesting,etc.Mersenneprime:aprimenumberwhichhappenstobeoftheform2P-1,wherepisprime.Naturalnumbers:non-negativeintegers;i.e.,0,1,2,3,...No.:anabbreviationfor"Number".Number:inthetypicalloosefashionofcomputerscientists,Iintendthistomeananon-negativeinteger:i.e.,anaturalnumber.Ordering:theconceptof"before"and"after".Thisdistinguishesalistfromabag(multiset).Theformalaxiomsfororderingsimplystatetheobviouspropertiesoftheintuitiveimageofalist.Primenumbers:naturalnumberswhichhavenodivisorsotherthanIandthemself;e.g.,17,butnot15(--x5).PrimesareinterestingbecauseofthemyriadtimestheycropupinI%.diversetheoremsfromtheChineseRemainderTheorem(solvingsystemsoflinearcongruenceequations),totheLawofQuadraticReciprocity,toFermat'sTheorem(forallintegersn,forallprimesp,nPiscongruentton(modp)).The"secret"oftheirvalueliesin*thefactthatallintegerscanbefactoreduniquelyintoasetofprimedivisos.This"Unique-FactorizationTheorem"letsusreducequestionsaboutntegerstoquestionsaboutprimes.Primepairs:twoprimenumberswhosedifferenceistwo;e.g.,17and19.Relation:anoperationwhichassociates,foreachelementofsomesetD,asetofelementsEK{ele2,...}ofsomesetR.DandRarethedomainandrangeoftherelation.Forexample,.-.-.-AppendixIAMDiscovryinMathematicsasHeuristicSearch-7-therelation"S"associatesto5thesetofnumbers{5,6,7,8,...}-i.e.,allintegerswhich5islessthanorequalto.Thedomainandrangeofthisrelationaretheintegers.Set-theoretic:havingtodo(inthecontextofthisthesis)withelementaryfinitesettheory,andtheprimitivenotionsofmathematics(e.g.,union,insert,predicate,conjecture).Unity:afancywayofreferringtothenaturalnumber"I".I:Therelation"divides-evenly-into".Thuswesay216.-:Theoperationofnegation.",X"isreadas"notX".v:Disjunction."AvB"isreadas"AorB".A:Conjunction."AAB"isreadas"AandB".0:Exclusiveor."A.B"isreadas"AorB,butnotboth".-:Implication."A-+B"isreadas"ifAthenB".-4:Logicalequivalence."A44B"isreadas"AifandonlyifB".V:Universalquantification."VX"isreadas"ForallX".3:Existentialquantification."3X"isreadas"ForsomeX"."xAppendixIAMDiscoveryinMathematicsasHeuristicSearch-168-Appendix1.2.GlossaryofAITermsACTORs:Amodularformofrepresentation,usefulfordistributingofthetaskofcontrolamongseveralcomponentsinacomputerprogram.EachACTORisablackbox,withnopartsorslots,butwhichdoeshavesomeassertions(a"contract")whichhemusthonor.Itmerelyrespondstoafixedsetofmessages,bysendingoutcertainmessagesofhisown.Thesearedeliveredviaabureaucracy.See[Hewitt76].A!:anabbreviationforArtificialIntelligence.Bag:Abagisakindofliststructure,abunchofelementswhichareunordered,butoneinwhichmultiplecopiesofthesameelementarepermitted.Onemayvisualizeapaperbagfilledwithcardboardletters.Technically,weshallsaythatasetisnotconsideredtobeabag.Abagisdenotedbyenclosurewithinparentheses,justassetsarewithinbraces.SothebagcontainingXandfourY'smightbewritten(XYYY),andwouldbeconsideredindistinguishablefromthebag(YYYXY).BEINGs:Amodularformofrepresentationofknowledge,conceivedasacollectionofcooperatingexperts.EachexpertIsmodelledbyonemodule,whichconsistsofalistofQuestion/Answering.programpairs.ThesetofquestionsisfixedforalltheBeingsinthesystem.WhenanyBeinghasaquestion,hebroadcastsittotheentiresystem,andsomeBeingwhorecognizesitwilltakeovercontrolandtrytoansweritbyrunninghisappropriateAnswering-program.Intheprocessofrunningthis,somenewquestionsmayarise.NoticethatBeingsdistributeresponsibilityforcontrolandforstaticknowledge.See[Lenat75b].Bug:aflawinacomputerprogram.AsCoreySacerdotiputit,abugreferstosomethingwhichisbrokenbutnotbadly.Concept:withinthecontextofthisdocument,theword"concept"typicallyreferstoapreciseframe-likedatastructure,aBEING.Semantically,eachconceptismeanttocorrespondtooneabstractentitythatwewouldintuitivelycallaconcept:anobject,anoperator,aconjecture,etc.See"facet".CooperatingKnowledgeSources:Veryoften,intacklingaproblem,onereceivessomehintsandsomeconstraintsfromverydifferentsources,phrasedinverydifferentlanguages,oftenaddressingdifferentrepresentationsoftheproblem.Forexample,intryingunderstandahumanspeaker,ourmemoryofthepreviousdiscussionandknowledgeofthespeakermaynarrowdownthepossiblemeaningsofwhatheissaying.Ourears,ofcourse,registerthepreciseacousticwave-formsheisuttering.OurEnglishvocabularyforcesustointerpretimperfectsignalsasrealwords.Oureyesseehisgesturesandhi,lipmovements,andgiveusmoreinformation.Allthesedifferentsourcesofinformationmustbeused,andyettheyallaretalkingindifferent"languages"tous.Themosttrivialsolutionistokeepallthesourcesindependent,andkeepworkinguntiloneofthemcansolvetheproblemallbyitself.Amuchbettersolutionistotransformalltheirbabblingsintoonecanonicalrepresentation,onesinglelanguage.Thisway,alltheknowledgesourcescancooperate.-,....Coupled:twofunctionalsubsystemsarecausallyconnected;oneinfluencestheother.Seethe.4entryfor"Linear".[-,--,,AppendixIAMDiscoveryinMathematicsasHeuitticSearch-169-CPUtime:Central-Processing-Unitruntime(cputime)isthenumberofexecutioncyclesofthecomputerthattheAMprogramhasusedup.Thisisconvenientlymeasuredinseconds,minutes,andhours,whereonecpuminuteistheamountofprocessingdoneinoneminuteofrealtime,whenAMhas100%.ofthemachine,andisrunninngwithoutanyinputoroutput.CS:anabbreviationforComputerScience.Execution:aprogramisactuallyusedbyrunningitonaparticularsetofinputdata.Thisprocessisknownasprogramexecution.Facet:Withinthecontextofthisdocument,theword"facet"denotesaslotofthekindofdata-structureknownas"concepts"(qv).Thus"afazcetoftheComposeconcept"reallyjustmeansaslotofaparticularframe,apartofcertainBEING,onesingleattribute/valuepairtakenfromthepropertylistoftheLispatomnamedCompose.Semantically,eachfacetholdsinformationpertainingtoasingleaspectoftheconceptitisapartof;hencethesuggestivename:"facet".FRAMEs:Amodularrepresentationofknowledge.EachmoduleisalistofFeature/Valuepairs.Thevaluerepresentsadefaultassumptionwhichcanbereliedonuntil/unlessnewinformationcomesinaboutthatfeature.Eachframehaswhateverfeatures(called"slots")seemappropriate.WheneverasituationSisencountered,theframe(s)forSareactivated.AsnewinformationtollsIn,itreplacesthedefaultinformationinvariousslots.Noticetheemphasisondistributingstaticknowledge(data),notnecessarilycontrol,insuchasystem.See[Piaget55)or[Minsky75].Function:asmall,executablepartofaprogram.Whenfedtheproperkindofargument(s),afunctionwill"run"andultimatelyproducesomesortofvalue.Unlikepuremathematicalfunctions(seethepreviousglossary),aLispfunctioncanhavesideeffects(qv).Garbagecbllection:AsaLispprogramexecutes,variouslists.Vructures(pointernetworks)arecreated.Whenthelastpointertoastructureisremoved,thatstructurehasessentiallybeenirretrievablyforgotten.Iftheoperatingsystemknewwhichstoragecellswerethus"free",itcouldre-cyclethem,reusethem.Theprocessoffindingandliberatingsuchdiscardedlistsiscalledgarbagecollection.ThisisperformedautomaticallybytheLisplanguage,wheneverspaceisalmostallfilledup.Hack:Aquickjobthatproduceswhatisneeded,butnotwell.Introducingaheuristicwhichwasonlyusedonce,inapredeterminedway(e.g.,tofixaparticularbug),wouldbearealhack.Hand-crafting:thehumanprogrammercarefullydesignshissysteminsuchawaythatthepiecesjustmanagetomesh.Forinstance:heprovidesjusttheperfectsetofaxiomssothathistheorem-provercansolveacertainproblem,orhemodifiestheprogram'sstrategiessothattheyefficientlymanipulatetheaxiomsetinjusttherightway.Heterarchy:Akindofcontrolstructureforacomputerprogramwhichisdistinctfromhierearchy.Heterarchicalstructuringviewsthewholeprogramasacollectionofequalpartners,anunstructuredsetoffunctions."Control"isviewedasaspotlight,whichcanbe-._-....--.;7;-..2--%..-_u-AppendixIAMDiscoveryinMathematicsasHeuristicSearch-170-flickedfromonefunctiontoanother.Thefunctionscanaffectwhodoesordoesn'tgetcontrolnext,butthereisnoguaranteewhowillgetcontrol,orthatcontrolwillrevertbacktosomefunctionwhichoncehadit.Asidefromthelureofitsdemocraticflavor,itisclearlyanaturalwaytorepresentcooperatingknowledgemodules.Hierarchy:Thistermreferstoakindofcontrolstructureforacomputerprogram.Thetypicalhierarchicalstructureisoneinwhichafunctioncallsasubroutine,whichprocessesandthenreturnsavaluetothatfunction.Aprogramisviewedasatreestructure,withlinesindicating"calling".Interact:adynamicmodeofcommunicationbetweenahumanandacomputerprogram.Thehumanreactstowhattheprogramisprintingoutonhisterminal,andtheprograminturnreactstowhattheusertypesin.Thismaytaketheformofquestioningandanswering,orinterruptingandcommenting.,nterestingness:NotethatthisisnotavalidEnglishword.InthecontextofAM,itreferstoi,.,"'.anumericvalue,computedbylittleLispprogramsstoredinthe"Interest"facetsofvariousconcepts.Despitethedangerofimbuingsuchahumbleschemewithallthemystiqueofwhatisandisn'tinteresting,itisfeltthatasufficientcomponentofthatevaluationhasbeencapturedtowarrantthename.Pragmatically,itisofmuchmoreusetotheusertosee"InterestingnessofComposehasjustrisen"thantoseeamessagelike"GO0034incremented".Kludge(orKluge):Thisisaprogramfeaturewhichisanunfairshortcutaroundaspecific"*problem.One"kludgy"wayofimprovingthealgorithmofagivenconceptistoasktheuserforabetteralgorithm.Linear:asystemwhosecomponents,inputs,andoutputssuperimposei.e.,don'tcouple.Lisp:aLISt-Processingprogramminglanguage.Primitiveoperationsexistformanipulatingnestedliststructures.SinceLispfunctionsarealsomerelylists,itiseasytocreateandmodifyentitieswhicharethenexecuted(qv).ModularRepresentationsofKnowledgeinAlSystems:Knowledgeispartitionedintopackets(calledmodules,frames,units,productions,Beings,experts,Actors)alonglinesof:'V-differentapplicabilities,expertise,purpose,importance,generality,etc.Eachpacketisstructurallysimilartoalltherest.Advantages:Byhavingtheknowledgediscretized,pieces*canbeaddedand/orremovedwithnotrouble.Theknowledgeofthesystemiseasilyinspectedandanalyzed.Thestructuralsimilarityyieldsseveraladvantages:asimplecontrolsystemsufficesto"run"alltheknowledge,themodulescanintercommunicateeasily,newmodulescanbeinsertedwithoutknowingprecisely"whoelse"isalreadyinthesysrm.Ingeneral,thelesssimilarly-structuredthemodulesare,thesimplertheinter-communicationmediamustbe.Modularrepresentationisanaturalwaytoimplementcooperating.*knowledgesources.Number:inthetypicalloosefashionofcomputerscientists,Iintendthistomeananon-negativeinteger:i.e.,anaturalnumber.Openresearchproblem:alimitationoftheAMsystem.1_R,-IAppendixIAMDiscoveryinMathematicsasHeuristicSearch-171-Recur:Often,partofadefinitionwillreferbacktothatverysamedefinition.Thismayleadtoaninfinitecircularloop,oritmayterminate.Thefollowingdefinitionof"islargerthan"isrecursive,becausethelastlinerecurs:setRislargerthansetSifRz{)butSJ},orifneitherisemptyandRemove-element(R)islargerthanRemove-element(S).Recurse:atransitiveverbwhichmeans"toswearagain."Itmustbedistinguishedfromtorecur",above.Sideeffects:whileafunctionisexecuting,itmaycausechangesinthestateofitsenvironu;;entwhichpersistevenafterthefunctionhasretu.nedavalue.Thisislikehysteresiseffects.Forexample,afunctionmaycreateordestroysomeliststructure,defineanewfunction,resetsomevariable,etc.Suchactivitiesarecalledsideeffectsofthefunction.Space:Thememoryofacomputerisquitefinite.Thoughitmaybesupplementedbyslowauxilliarydevices(tapes,discs,etc.),theactualnumberofstoragecellsinthecomputer'sfastcorememoryisalimitingfactorinprogrambehavior.Storagespace,orjust"space",referstotheseinternalmemorycells.Whenspaceisexhausted,theonlyremedyistoperformagarbagecollection(qv).System:thiscanmeanacomputerprogram,andoccasionallyisjustananotherwayofreferringtoAM.Ingeneral,asystemisanycollectionofentitiesrelatedtoformameaningfulwhole.Terminal:acommunicationsdeviceforpassinginformationbetweenacomputersystemandahuman.Thiscouldbeateletype,aTVscreenandkeyboard,etc.Theterminalisusuallyportableandremotelylocatedfromthecomputer.User:thehumanbeingwhositsatacomputerterminalandwatchesAMrun(occasionally,I-.perhaps,interactingwithAM).1.:L"t..""r',,:2'"."°"-22..".""-".-"z"""+"".I""""-172-Appendix2.AMsConceptsTheIrstpartofthishugeappendix(Appendix2.1.2to2.1.75)liststhesetofknowledgeAMstartedwith:itsinitialconcepts.Itisnotveryreadable,norisitcentraltoanyoftheideasonwhichAMisbased.Thereaderisthereforewarnedtoproceedathisownriskthroughthismaterial.Section2ofthisappendixcontainsabriefdescriptionofthoseconceptswhichwereonlypartiallyimplementedinAM(e.g.,"Destructive.op").Itwasdecidednottogiveeachofthemafull"box"oftheirown.ThethirdpartofthisappendixlistsacoupleconceptsastheywereactuallycodedintoLisp.ThereaderisshownwhichentryorheuristicruleeachbitofLispcodecorrespondsto.Finally,startingonpage224,alistisprovidedofsomeoftheconceptswhichAMcreated.Thisisintendednotasanexhaustivecatalog,butmerelytoshowthebreadthofwhatwasdonebyAM,thesmartguessesandthelunacies.ThislistcouldhavebeenpiecedtogetherbysudyingAppendix5,v-,rereinsomeexamplesofAMinactionaregiven.TherethereadermaydynamicallyobservewhatkindsofconceptsandinferwhatkindsofentriesfortheirfacetsAMwasabletoderivefromitsinitialbase.Appendix2.1.InitialConceptsEachconceptwillbelisted,followedbyadescriptionoftheentriesineachofitsfacets1.Foreachsuch"slot",acondensationisprovided(inEnglish,LISP,andmathnotation)ofalltheknowledgeinitiallysuppliedtoAMaboutthatfacetofthatconcept.Ifthereisanyunmentionedfacet-foraconcept,thenitstartedoutblank.Manyofthefacetsoiaheoriginalconceptswereleftblankintentionally,knowingthatAMwouldbeabletofilltheminaswell.Afterall,ifyoucanfillinexamplesofanynewconcept,yououghttobeabletofillinexamplesofSets!Theconceptsaregroupedsemantically,muchlikethetreeshownonpage105,liketheorderinwhichheuristicsarelistedinAppendix3.Thissectionoftheappendixisprefacedbyanindexwhichisarrangedalphabetically,sincetheprimaryuseofitwillprobablybeasanencyclopedia.Whenthereaderencountersapoorly-namdorpoorly-explainedconceptsomewhereinthetext,hemaywishtoglancefirstatChapter5,page107,whereverybriefdefinitionsoftheconceptsarealsogivenalphabetically.Ifthat"dictionary"isins,fficent,hecanturntotheappropratepageinthisappendix,andseethesameconceptpresentedinmuchmoredetail.Eachofthesen':.eswassuppliedbyhand,bytheauthor.P.14i1.VAppendix2AMDiscoveryinMathematicsasHeuristicSearch3Appeildix2.w.IndextoInitialConcejptsCONCEPTPAGECONCEPTPAGEA~cive175Multiple-elements-structure210Allbut-the-first-element..201No-nulItip!e-elements-structure211A1l-bu~t-the-last-element...202Nonrmpty-strucrure211Any-concept...174Object207Anything171Object-equality176Atorn-obj8Opera~ion177Bag-DeleteOrd-Structure210Rtg.DiffOrdered-pairs213182Oset-Delet185L,,ig-lnteisect189Oset-Diff193Bag-Union191Oset-insert1814Bags212Oset-Intersect187Caiolir....I196Oset-Union190COMICSue195Osets214Compowe178Parallel-join199Coiijectute207Parallel-join2199C'oiistant-False177Parallel-replace197Constant-piedicate..I....I176Parallel-replace2197Constant-True176Predicate175Delete183ProjectionI203Difference192Projection2203Empty-structure211Relation206First-element201Repeat198Identity204Repeat2198Insert179Restrict204Intersect186Reverse-ord-pair200Invert-ai-operationI205Set-Delete183Inverted-op205Set-Diff193Last-elenr200Set-insert180List-Delete184Set-Intersect188List-Duff192SetUJnion191List-insert182Seats212List-lnteisect186Structure209List-Union190Structure-of-Structures209Lits213Truth-value208*Logical-combinationI206Union189Member202Unord-Structure210Appendix2AMDiscoveryinMathematicsasHeuristicSearch-174-Appendix2.1.2AnythingName(s):Anything,Entity,Thing,ItemDefinitions:Non-Recursive,Trivial,Quick:X0TSpecializations:Any-concept,Non-conceptsGeneralizations:noneExamples:Anything,Any-conceptIsa's:Any-conceptWorth:100Interest:5heuristics(seeAppendix3.1,page229).2Sugg:5heuristicsIn-domain-of:Delete,Insert3,Member,ProjI,Proj2,Identity,Constant-prod.In-range-of:First-ele,Last-ole,Member,ProjI,Proj2,Identity.Appendix2.1.3Any-conceptName(s):Any-concept,Any-Being,AnybodyDefinitions:Non-Recursive,Opaque,Quick:X(x)FMEMB(x,Concepts)Non-Recursive,Opaque,Quick:X(x)GETP(x,Name)Specializations:Active,ObjectGeneralizations:AnythingExamples:Anything,Any-concept,Active,ObjectIsa's:Anything,Any-conceptWorth:100View:toviewanyXasifitwereaY,findanop.whosedomaincontains4X,andwhoserangeiscontainedinY,andapplythatop.tothegivenX.Fillin:39heuristics(seeAppendix3.2,beginningonpage230).5Check:20heuristicsInterest:21heuristicsSugg:?0heuristics2Ingeneral,thisappendixwillomitheuristicsTheywillinsteadbepresentednonebigcollection,asthenexteppendix.Foreachconcept,wewillhowevermentionhowmanyheuriticsofeachvarietyarepresent.TheinterestedreadermayturnimmediatelytoAppendix3ifhedesires,toeethosesristicrules.3AllfourspecializationsofeachofDelete(eg.,Bag-delete)andInsert(9Z,List-insert)arealsolistedhere.4Thatit,thedomainoftheoperationisDIxD2xD3.,andXisasubsetofsomeDi.,specializationofDi5Asusual,theheuriaarelistedinAppendix3,nothere.Butthereaderisforewarnedthatthisconcepthassomanyheuritiethattheyaregroupedbyfacetinthenextappendix,occupyingAppendices3.2Ithrough328,pages230io251,"'.'_.''.."-:<.-.j'.--__'.--'..'Ii±I.'-'.."SAppendix2AMDiscoveryinMathematicsasHeuristicSearch-175-Appendix2.1.4ActiveName(s):Active,activity,actionDefinitions:Sufficient,Non-Recursive,Quick:k(x)GETP(x,Algorithms)*Sufficient,Non-Recursive,Quick:X(x)GETP(x,Dom/range)Specializations:Predicate,Relation,OperationGeneralizations:Any-conceptExamples:none.6Isa's:Any-conceptIn-domain-of:Constructive,Destructive,Coalesce,Compose,RestrictIn-range-of.:Compose,Coalesce,Restrict.Worth:100Fillin:7heuristics.Check:4heuristicsInterest:3heuristicsSugg:10heuristicsAppendix-2.1.5Predicate-Name(s):Predicate,sometimes:logicaloperation,Booleanfunction.Definitions:Nonrecursivequickopaque:X~(P)Range(P)isTruth-value;i.e.,{T,F).Generalizations:ActiveExamples:Equality,Constructive,Destructive,Empty,Nonempty,Constant-prod,theDefnentriesofeachconcept.7In-domain-of:CanonizeWorth:100Fillin:2heuristics.Sugg:Iheuristic.Interest:Iheuristic.V66Recallthateachactivewillbeanexampleofanoperation,predicate,etc,henceneednotbepointedtoexplicitlyhere7Thusthepredicate'Empty',whileitexistsinAM,issuperfious,sinc6thedemfinitionfacetof'Empty-struc'containsthatSverypredicateAppendix2AMDiscoveryinMathematicsasHeuristicSearch-176-Appendix2.1.6Q1bjt-equliy-Name(s):Equality,Objectequality,Obj-equal,Equal,Same.Definitions:Nonrecursiveopaque:X.(x,y)EQUALNx,y)Sufficient,veryquick,opaque:X.(x,y)EQ(x,y)).'Recursiveslow:X(x,y)xandyarebothidenticalatoms,orxandyarebothemptystructures,orxandyarebothnonemptystructuresandEquality.Defn(CAR(x),CAR(y))andEquality.Defn(CDR(x),CDR(y)).Nonrecursivetransformslow:X.(xy)ldentity.Defn(x,y).Quick:X(x,y)ysEquality.Algs(x),Domain/range:(ObjectObject-#(T,F)><StructureStructure-4{T,F)>Algorithms:Nonrecursivequick:X.(x)x.Conjec:'Identity,restrictedtoObjects,isthesameasObj-Equality.'Isa's:PredicateWorth:200What:theEqualityoftwoliststructures;closelyrelatedtoIdentityop.Appendix2.1.7Constant-predicateName(s):Constant-predicae,Constprod,Logicalconstantfunction.Definitions:none.Domain/range:<Anything...Anything-4{T,F)>Isa's:PredicateSpecializations:Constant-True,Constant-FalseConjec:(Vx,Yy)Constant-pred.Defn(x)@Constarnt-pred.Defn(y).Worth:100Whattapredicatewhichalwaysreturnsthesamelogicalvalue.Appendix2.1.8Constant-TrueNamne(c):Constant-True,ConstantT,Always-T,sometimes:Always.Definitions:Nonrecursive,veryquick:X..T.Domain/range:<Anything...Anything-4(T,F)><Anything...Anything-4(T)>Generalizations:Constant-PredicateWorth:100What:apredicatewhichalwaysreturnsTrue.-t%-"~~~~--xr'.-7-_wg77'.~I~~FAppendix2AMDiscoveryinMathematicsasHeuristicSeorch-177-Appendix2.1.9Constant-FalseName(s):Constant-False,ConstantF,Always-F,sometimes:Ngver.Definitions:Nonrecursive,veryquick:X..F8Domain/rang.:<Anything...Anything-.T,F)><Anything...Anything-#IF)>Generalizations:Constant-PredicateWorth:100What:apredicatewhichalwaysreturnsFalse.Appendix2.1.10Operation7jName(s):Operation,sometimes:function,mapping.Definitions:none.9SpcaiztosInverted-op,Composition,Canonization,-~~.Coalesced-op,Constructive-opl0Generalizations:ActiveExamples:In,.ort,Delete,Union,Intersect,Uitterence,Compose,Canonize,Coalesce,Identity,Proji,Proj2,First-ele,Last-ele,AI-but-first-ole,AII-but-last-eie,Restrict,Reverse-ord-pair,Member,Invert,Repeat(2),Parallel-join(2),ParalleI-replace(2).Iri-domain-of:Invert,Parallel-join(2),Parallel-replace(2),Reapeat(2).In-range-of:Canonize,Invert,ParalleI-join(2),ParaIlel-roplace(2),Roeat(2)Worth:100Fillin:7heuristics.Check:3heuristicsInterest:I1IheuristicsSugg:2heuristicsaActually,thevaluereturnedis'NIL',notFalseorF.9Recallthatallthismeansisthatcompuitationally,anyentityxisconsideredtobeanOperationiffitisinOperation.Exs,orifit"anexam-pleofsomeSpac.l;tionofthisconcept.10TheconceptsofConstructiveandDestructiveoperationsarenotencodedasconceptsyet.ThedistinctionbetweenspecializationofOperationandExampleofoperationisquiteblurry.E.g,whynotconsiderthclassofInsertionoperationsawholespecializationofOperation,insteadofJustanexample?Thedecisionastowhat*statuseachoperationwouldhavewasquitsarbitrary,inmafraid.V4.Appendix2AMDiscoveryinMathematicsitHeuristicSearch-178-AppendixMAL.1ComposeName(s):Compose,Composition,sometimes:afterwards;Definitions:Declarativeslow:X(ABC)Yx,C(x)mA(B(x).SufficientNonrecursiveQuick:X(A,B,C)Ch~stheName%8o'.Sufficient,Slow:Are-equivalent(C,Compose.Alvs(A,B)).Sufficient,Quick:Cm-Compose.AlgsCA,8).Domain/range:(ActiveActive-4Active>(OperationActive4Operation>1<PredicateActive-4Predicate><RelationRelation-*Relation>Algorithms:12Distributed:usetheheuristicsattachedtoComposetoguidethefillinginofvariousfacetsofthenewcomposition.Generalizations:OperationIsa's:OperationWorth:300Fillin:9heuristics.Check:2heuristic.Suggest:2heuristics.Interest:I1Iheuristics.NotethatwhilelhieentrywouldimplythatOperation~ln-ran-ofandOperation.ln-dom-ofcouldbothcontain'Compose'asanentry,onlythemostgeneralconcept(i.e.,'Activ&Ioiat'Compose'initsIn-donm-ofandIn-ran-offacets.12An.lgordinforCOMPOSEisaprocedurefortakingapairofoperations,i.e.apairofconceptsGandH,andcrestinganewactiveconceptFwhichisdefinedtobetheircomposition,whoseAlgorithmsfacetccnitoins'x~(x)G(H(x))',or,moreprecisely,'(PPLY8GAIGS(APPLYBHAIGSx))'.2.79Appendix2AMDiscoveryinMathematicssoHeuristicSearch79Ap~pendix2.1.12InsertName(s):Insert,Insertion,sometimes:Add,Merge;Definitions:Quasi-recursivecases:X(x,A,B)[determinethetypeofstructurethatAandBare,sayS,thenuseS-insert.Defn(x,A,B)].Necessary,Nonrecursive,Quick:X.(x,A,8)Member.Defn(x,B).VNNecessaryDeclarative:X(x,A,B)z(8iffz(Aorznx.Necesary,Declarative:X(x,A,B)((Vs(A)(a(B),and(Ybjx(B3)(b(A),andx(B]Sufficient,Quick:Bxlnsert.Algs(x,A).-Domain/range:(Anything,Structures-#Structures>Algorithms:Quasi-recursive,cases:X~(x,A)(determinethetypeofstructureAIs,sayS,thenuseS-insert.Algs(x,A)J.Isa's:OperationSpecializations:Bag-insert,Set-insert,List-insert,Oset-insert.Worth:100*Check:Iheuristic.Xh.14Appendix2AMDiscoveryinMathematicsasHeuristicSearch-180-Appendix2.1.13Set-insertName(s):Set-insert,Setinsertion,sometimes:Insert,Tog.Definitions:DeclarativeSlow:X(x,A,B)[(YaEA)((B),and(Ybjx(B)(b(A),andx(B]RecursiveSlow:X~(x,A,B)(An()andBwfx),orelse:[AND:.2+-Momber.Alg(A);Member.Defn(z,8);Set-insert.Defn(x,Set-delete.Alg(z,A),Set-delete.Alg(z,B))3Recursive:X(x,A,B)(Am()andBuix),orelse:[AND:zs-CAR(A);Member.Defn(z,B);Set-insert.Defn(xCDR(A),Set-delete.Alg(z,B))1Declarative:X(x,A,B)(Vz)z(B1ffV(ASzsx.Quick:BuSet-insert.Algs(x,A).Domain/range:<Anything,Sets-4Sets>Agrtm:13Non-recursivequick:X.(x,A)(ifMember.Defn(x,A)thenA,elseMERGE(x,A)?)Non-recursivequick:X.(x,A)(MERGE(x,A)andElim-adjacent-mult-elements(A))Recursive:X(x,A)(ifAn()then(x),elseifAuix)thenA,else[z#-CAR(A);ifzuxthenA,elseCONS(z,Sot-insert.Alg(x,CDR(A.Generalizations:InsertWorth:100What:4Ifxisn'talreadyinA,thenadditandre-sortthesetA.13Actually,thisoperation,likealltheotherstructuralopokstions,aremuchmoresophisticatedthanthissimplepresentationimpliesInthiscase,ifAisnotsupplied,AMchoosesiarandomexampleofaSetandinsertsxintothatset.Ifxismissing,thenAMfindsarandomexampleofAnythingandinsertsitintoA.14The'What'foaedoesn'trosllyexist,butisoccasionallypresentinthisAppendixfortheaidofthereader.AfullerEnglishdescriptionofanyconceptcanbeobtainedbylo"inginthealphabeticalsummaryofconcepts,inChapter5,beginningonpage107.'_7Appendix2AMDiscoveryinMathematicsasHeuristicSearch-181-Appendix2.1.14Oset-insertName(s):Oset-insert,Osetinsertion,sometimes:Insert;Definitions:DelcarativeSlow:X.(x,A,B)[(Va(A)(a(8),and1Wbjx(B)(b(A),andxXCAR(B)]RecursiveSlow:X(x,A,B)(Ar[]andBrx],orelse:[AND:zt-Member.Alg(A);Member.Defn(z,B);Oset-insert.Defn(x,Oset-delete.Alg(z,A),Oset-delete.Alg(z,B)f)Non-recursive,Quick:X(x,A,B)(BzCONS(x,Oset-dete.Algs(x,A)).Quick:X(x,A,B)(B.Oset-insert.Algs(x,A)).NecessaryQuick:X,(x,A,B)(xuCARW8)).Necessary,Declarative:X(x,A,B)(Yz)zEBiffV(A0zax.Domain/range:(Anything,Osets-+Osets>Algorithms:Non-recursivequick:X(x,A)(CONS(x,[ifMember.Defn(x,A)thenDREMOVE(x,A)'5elseA]))Non-recursivequick:X(x,A)(CONSNx,A)andDREMOVE(x,COR(A)))*Non-recursivequick:X,(x,A)(CONS(x,DREMOVE(x,A))Recursive:X(x,Ai(ifAs[]then[x],elseifAa[x...]thenA,elseCONS(x,Oset-d@lete.Algs(x,A))).Generalizations:InsertWorth:100What:EliminatexfromAandaddxasthefirstelementoftheosetA.15TheINTERLISPfunctionDREMOVENx,A)destructivelyremove*alloccurrenc.ofxfromtheliststructureA.1.-....---Appendix2AMDiscoveryinMathematicsasHeuristicSearch-182-Appendix-2.1.15List-insertName(s):List-insert,Listinsertion,sometimes:Insert,sometimes:CONS;Definitions:NonrecursiveQuick:X(x,A,B)(BuCONS(x,A)).Nonrecursive:X(x,A,B)(AsCDR(B)andxaCAR(B)).16Quick:X(x,A,B)(BaList-inzert.Algs(x,A)).NecessaryQuick:X~(x,A,B)(xnCAR(%B)).NecessaryQuick:X%(x,A,B)(AaCDR$B)).Domain/ranige:(Anything,Lists-4Lists>Algorithms:Non-recursivequick:X(x,A)CONSNx,A).Recursiveslow:%.(x,A)(ifAu<>thenWx,els*NCONCI1(List-insert.Algs(x,All-but-last.Algs(A)),CAR(A)).Generalizationi:InsertWorth:100What:AddtheelementxontothefrontoftheListA.Appendix2.1.16Bag-insertName(s):Bag-insert,Baginsertion,sometimes:Insert;Definitions:NonrecursiveQuick:X(x,A,B)(BsSORT(CONS(x,A))).Quick:X(x,A,B)(BaBag-Insert.Algs(x,A)).Domain/range:<Anything,Bags-4Bags)Algorithms:Non-recursivequick:X(x,A)MERGE(x,A).Non-recursive:X.(x,A)SORT(CONS(x,A)).Recursiveslow:X.(,A)(ifAa()then(x),elseiiCAR(AX'8xthe.iCONS(CAR(A),Bg-insertAlgs(x,CDR(A))),eIseCONS(x,A)).Generalizations:InsertWorth:100What:MergetheelementxintotheBagA.He,-e'showthiswouldreallyappearinLISP:(LAMBDA(xAB)(ANDIAPPLYBOBJ-EQUALAIDSA(APPLYBALL-BUT-FIRST-ELEAIDS8)](APPLYBOBJ1-EQUALAIDSx(APPLYBFIRST-ELEALGSB)])),17ThisLISPfunctionmeans'A(S,z)add-theelementxtotheandoflistS'.CDRmeansAll-but-the-first-element,CARmeansThe-first-elementl.ISHere,'lessthen'means'precedesalphanumerically',usingAIPHORDER.Appendix2AMDiscoveryinMathematicsasHeuristicSearch-83Appendix2.1.17-DeleteName(s):Delete,Deletion,Remove,sometimes,Subtract;Definitions:Quasi-recursivecases:X.(x,A,B)[determinethetypeofstructureAandBare,sayS,thenuseS-Delete.Defn(x,A,8)].Slow19:X(x,A,B)List-caelete.Defn(x,A,B)Sufficient,Nonrecursive,Quick:X(x,A,B)NOT(Member.Defn(x,B)).Sufficient,Quick:BuDelete.Algs(x,A).Domain/range:<Anything,Structures-#Structures>Algorithms:Quasi-recursivecases:X~(x,A)[determinethetypeofstructureAis,sayS,thenuseS-Delete.Algs(x,A)].Slow:X(x,A)List-cdelete.Algs(x,A).isa's:OperationSpecializations:Set-delete,List-delete,Oset-deletiii,Bag-delete.Worth:1004What:Remove(oneoccurrenceof)xfrom(thefrontof)structureA.Appendix-2.1.18Set-DeleteName(s):Set-Delete,SetDeletion,sometimes:Delete;Definitions:1DeclarativeSlow:X(x,A,B)(Ya(A)(a(E3xora=X)A(Vb(B)(b(A)A08(Recursiv~eSlow:X(x,A,B)(AxilandBull,orelseAuix}andBu{),orelse:[AND:zs-Membor.Alg(A)untilzjx;Member.Defn(z,B);Set-Delete.Defn(x,Set-delete.Alg(z,A),Set-delete.Alg(z,6))1Quick:BuSist-Dolete.Algi(x,A).Domain/range:<Anything,Sets-+Sets>Algorithms:Non-recursivequick:X(x,A)DREMOVENx,A)Non-recursivequick:X.(,A)(ifNOT(Member.Defn(x,A))thenA,elseDREMOVE(x,A)))Recursive:X(x,A)(ifAs[)thenJ),elseifAsjx}then(),else[z-CAR(A);ifzxxthenCDR(A),elseCONS(z,Set-Delete.Alg(x,CDR(A)))]).Generalizations:DeleteWorth:100What:removetheelementxfromthesetS,ifit'sthereinitially.I119TheList-delstodefinitionsandalgorithimsor#relativelyslow,sincevmightoccuranywhereinA,anditmightoccurmorethanonceSpecialtricksareavailabletospeeduptheotherkindsofdeletion*.ForSet-deleteandoet-delete,we.canuseDREMOVE,sincedeletingalloccurrencesofxisfine--therecanonlybeatmostoneoccurrence.ForBag-delete,wecanwalkdownthebagandquitwhenanyelementisseentobealphabetically-greater-tbanx.Thesespeed-upsiarethereasonformaintainingfourseparatehindofdeletionoperations.Appendix2AMDiscoveryinMathematicsasHeuristicSearch-184-Appendix2.1.19Bag-DeleteName(s):Bag-Delete,BagDeletion,sometimes:Delete;Definitions:RecursiveSlow:X.(x,A,B)(AmOandB=O,orelse(Au(x...)andBuCDR(A),orelseBag-delete.Dofn(x,CDR(A),CDR(B).Quick:BaBag-Delete.Algs(x,A).Domain/range:(Anything,Bags--Bags>Algorithms:Non-recursivequickopaque20:X(x,A)[z-(MEMBER(x,A);RPLACA(z,CADR(z));RPLACD(z,CDDR(Z))]Recursive:(x,A)(ifAsOthen0,elseIfCAR(A)sxthenCDR(A),elseCONS(CAR(A),Bag-Delete.Aig(x,CDR(A)))).,Generalizations:DeleteWorth:100What:removeonecopyofxfromtheBagA,ifxwasintthereinitially.Apendix2.1.20List-DeleteName(s):List-Delete,ListDeletion,sometimes:Delete;Definitions:RecursiveSlow:X(x,A,B)(Au<>andB<,orelseCAR(A).xandCDR(A).B,orelseList-delete.Defn(x,COR(A),COR(B).Quick:BaList-Delete.Algs(x,A).Domain/range:<Anything,Lists-+Lists>Algorithms:Non-recursivequickopaque:.(x,A)FRPLACD(z-(MEMBER(x,A),CDDR(Z))Recursive:X(x,A)(ifAsothen0,elseifCAR(A)sxthenCDR(A),elseCONS(CAR(A),List-Delete.Alg(x,CDR(A)))).Generalizations:DeleteWorth:100What:removethefirstcopyofxfromtheListA,ifxisinA.20ThisalgorithmislabelledOpaquebecauseitcontainsverytight'sneaky'code,implementingahighlynon-standardlinkeddatastructuredeletionalgorithm.ThecallontheInterlispfunctionMEMBERbindsztothetailofA,beginningwiththefirstoccurrenceofx.%K.-~~:..,:*:Appendix2AMDiscoveryinMathematicsasHevristicSearch-85Appendix2.1.21Oset-DeleteName(s):Oset-Delete,OsetDeletion,sometimes:Delete;Definitions:RecursiveSlow:X(x,A,B)(A4]jandBr[],orelseCAR(A)=xandCDR(A)-6,orelseOset-dlte.Dfn(x,CDR(A),CDR(B)RecursiveSlow:X(x,A,B)(A=[]andB=[],orelseAc[xJandBz[J,orelse:[AND:z4-Member.Alg(A)untilzjx;Member.Defn(z,B);Set-Delete.Defn(x,Set-delete.Alg(z,A),Set-delete.Alg(z,B))]NecessaryQuick:XMx,A,B)(CAR(A)nCAR(S)xorCAR(A)ax).4Quick:BnOset-Deete.Ags(x,A).Domain/range:[Anything,Osets-+Osets]Algorithms:Non-recursivequickopaque:X(x,A)DREMOVENxA).Non-recursivequickopaque:X(x,A)FRPLACD(z+-(MEMBER(x,A),CDDR(z))Recursive:X(x,A)(ifAs[]then[],elseifCAR(A)sxthenCDR(A),elseCONS(CAR(A),Oset-D9lete.Ag(x,CDR(A)))).4W.Non-recursivequick:X(x,A)(ifNOT(Member.Defn(x,A))thenA,elseDREMOVE(x,A)))Non-recursivequick:X~(x,A)DREMOVE(x,A)Recursive:X(x,A)(ifAx[]then[],elseifAu[x]then[],else[24-CARCA);ifz-xthenCDR(A),elseifz>xthenA,elseOs6.-D9let.AIZ(x,CDR(A)))]).Generalizations:DeleteWorth:100What:removetheelementxfromtheOsetA,ifit'spresentthereinitially._Z-Zp:Appendix2AMDiscoveryinMathematicsasHeuristicSearch-186-5Appendix2.1.22IntersectName(s):Intersect,Intersection,sometimes:Product;Definitions:Quasi-recursivi\casezX(A,B,C)[determinethetypeofstructureAand8are,sayS,thenus*S-Intersect.Dofn(A,B,C)].Slow:X(A,B,C)LIst-intersect.Oefn(A,B,C)Necessary,Nonrecursive:X~(ABC)Member.Defn(x,C)iffMember.Dofn(x,A)andMomber.Defn(x,B).Quick:Calntersoct.Algs(A,R).Domain/range:(StructuresStructures-+Structures>Algorithms:Quasi-recursivecases:X(A,6)[determinethetypeofstructureAand0are,salyS,21thenuseS-lntersect.Algs(A,BJ].rSlow:X(A,B)List-lntersoctAlgs(A,B).Isa's:OperationSpecializations:Set-Intersect,Bag-intersect,List-intersect,Oset-intersect.Worth:100-Appendix2.1.23List-IntersectSName(s):List-Intersect,List-Intersection,sometimes:Intersect.Definitions:Recursiveslow:X(A,BC)ifAu()thenCu<),eleIfMember.Dofn(CAR(A),S)then[CAR(A)sCAR(C)andList-intersect.Defn(CDR(A),List-delet.Ag(CAR(A),B),CDR(C))]eileList-intersect.Defn(CDR(A),B,C).Quick:CoList-lntorsect.Algs(A,B).DomaIn/range:(ListsLists-4Lists>Algorithms:Non-recursive:X(A,B)(foreachxinA(inorder),dothefollowing:ifMember.Dofn(x,B)thenLlst-dlelto.Alg(x,B),elseList-deloto.Alg(x,A).Finally,returnthevalueof'A'astheresult.Recursive:X(A,B)ifAu<>thenO,elseifMemiber.Defn(CAR(A),B)thenCONS(CAR(A),Lst-intersect.Alg(CDR(A),List-delete.Alg(CAR(A),B))),else-List-interset.Alg(CI)R(A),B).Generalizations:IntersectWorth:100What:MovealonglistA.Removeit(once)fromBifit'sthere,elsefromA.ReturnA.21-Smightbe'Sets',orScanbe'Lists',etc.Appendix2AMDiscoveryinMathematicsasHeuristicSearch-187-Appendix2.1.24Oset-IntersectNaes:Oset-Intersect,Oset-Intersection,sometimes:Intersect.Recur~osive22:X(A,B,C)ifA--[thenCs[],elseifCAR(A)(3E,then(CAR(A)aCAR(C)andOset-intersect.Defn(CDR(A),Oset-d@let.Ag(CAR(A),B),CDR(C))J,elseOset-intersect.DfnCDR(A),B,C).Quick:CzOset-lntersect.Algs(A,B).OnceEarlyQuickOpaque:X(A,B,C)ifBisshorterthanA,thenOset-intersect.Defn(B,A,C).Domain/range:<OsetsOsetsOsets>Algorithms:OnceEarlyQuickOpaque:.X(A,B)ifBisshorterthanA,thenOset-intersect.Alg(B,A).Non-recursive:X(A,B)[foreachxinA(inorder),dothefollowing:ifx-EBthenDREMOVE(x,A).Finally,returnthevalueofA.i'Yon-recursive:X(A,B)[foreachxinA(inorder),dothefollowing:V"ifx(BthenOset-delete.Alg(x,B),alseOset-detlete.Alg(x,A).Finally,returnthevalueiof'A'astheresult.Recursive:X(A,B)ifAs[]then[],elseifCAR(A)XBthenCONS(CAR(A),Ost-intersect.Alg(CDR(A),st-delete.Alg(CAR(A),B))),elseOset-intersect.Alg(CDR(A),B).Generalizations:IntersectWorth:100_NilWhat:MovealongOsetA,eliminatingelementsnotfoundinOsetA.22ThedifferencebetweenthisdefinitionandthesimilaroneforList-intersectisthatherewecanusetheveryfastDREMOVEalgorithmstoredin9st-DeleteAl,whereasforlistsitwasnecessarytouseaslowList-deleteWalgorithm.23Tosavespace,wemayhenceforthwrite'xEWItomean'Msmber.Defn(x,B)'.Appendix2AMDiscoveryinMathematicsa*HeuristicStorch-188-Appendix2.1.25Set-IntersectName(s):Set-Intersect,Set-Intersection,sometimes:Intersect.Definitions:OnceEarlyQuickOpaque:X(A,B,C)ifBisshorterthanA,thenSet-intersect.Defni(I,A,C).-'Recursive:X(A,B,C)ifAs()thenCal),elsez'-Somne-memb.Alg(A);IfMember.Defn(z,B)then[Member.Defn(z,C)andSet-intersect.DOfn(Set-delete.Ag(z,A),Set-delat.Alg(z,B),Sot-delet.AIg(z,C))JelseSet-intersect.Defn(Set-delet.Alg(z,A),5,C).NonrecursiveDeclarative:Forallx,x(CiffO(AandO(B.Quick:CuSot-lntersect.AIgs(A,B).Domain/range:(SetsSets-+Sets>Algorithms:OnceEarlyQuickOpaque:X(A,B)ifBicshorterthanA,thenSet-intorsect.Alg(B,A).Non-recursive:X~(A,B)[foreachxinA,dothefollowing:ifx,(13thenDREMOVE(x,A).Finally,returnthevalueofA.Recursive:X~(A.8)ifAs()then1),elseifCAR(A)(BthenCONS(CAR(A),St-intersect.Alg(CDR(A),St-delete.Aig(CAR(A),B))),olsmSet-intersect.Alg(CDR(A),B).Generalizations:IntersectWorth:100WI-t:EliminateanyelementsofSetAwhichareabsentfromSotB.-W17.N.VV~_NZIX7vAppendix2AMDiscoveryinMathematicsisHeuristicSearch-189-Appendix2.1.26Bag-IntersectName(s):Bag-Intersect,Bag-intersection,sometimes:Intersect.Definitions:OnceEarlyQuickOpaque:X~(AIBC)ifBisshortirthanA,thenBag-intersect.Defn(B,A,C).Recursive:k(A,B,C)ifAru()thenCuO),elsez4-CAr(A);IfMember.Oefn(z,B)then[Member.Defn(z,C)andBag-intersect.Defn(CDR(A),Bag-delete.Aig(z,B),Bag-delete.Aig(z,C))]elseBag-intersect.Defn(CDR(A),B,C).Quick:CuBag-Intersect.AIgs(A,B).Domain/range:(BagsBags-4Bags>Algorithms:OnceEarlyQuickOpaque:X(A,B)ifBisshorterthanA,thenBag-intersect.Alg(B,A).Non-recursive:k(A,B)[foreachxinA,dothefollowing:ifx(BthenB'-Bag.delete.Alg(x,B),elseA'-Bag-dealete.Alg(x,A).Finally,returnthevalueofA.Generalizations:IntersectWorth:100*What:theintersectionofbagsAand8shouldcontainallcommonelements,*witheachelementoccurringthemrinimumnumberoftimesitoccursinAorB.Appendix2.1.27UnionNamne(s):Union,Join,Unite,sometimes:Combine,Append,Sum.Definitions:Quasi-recursivecases:X(A,B,C)[determinethetypeofstructureAandVBare,sayS,thenuseS-Union.Defn(A,B,C)J.Necessary,Nonrecursive:k(ABC)Forallx,x(Cittx(Aorx(BQuick:CrUnion.Aigs(A,B).Domain/rangea:<StructuresStructures-.Structures>Algorithms:Quasi-recursivecases:X.(A,B)[determinethetypeofstructureAandBare,sayS,24thenuseS-Union.Algs(A,B)].Quasi-recursivecases:k(A,8)[determinethetypeofstructureAandBare,sayS,thendoS-insert.Alg(CAR(A),Union(CDR(A),B))J.Isa's:OperationSpecializations:Set-Union,Bag-Union,List-Union,Oset-Union.Worth:100*~.24Smightbe'Sets',0rScanbe'Lists',etc.J..~Appendix2AMDiscoveryinMathematicsa,HeuristicSearch-190-Appendix2.1.28List-UnionName(c):List-U'iion,Append,Nconc,List-join,sometimes:Union.Definitions:Recursive%.:w:X(A,B,C)ifAu(>thenCmB,elseCARCO)CAR(C)andList-union.Defn(CDR(A),B,CDR(C)).Quick:CaList-IVnion.Algs(A,B).Doma&In/range:<Listsists-4Lists>Algorithms:Nonrecursive,Quick,Non-destructive,Opaque:X(A,B)(APPENDAB).Nonrecursive,Quick,Destructive,Opaque:X~(A,B)(NCONCAB).Recursive:X.(A,B)ifAr<>thenB,elseCONS(CAR(A),List-Union.Alg(CDR(A),B)).Generalizajtions:UnionWorth:100What:AppendlistBtotheendoflistA.Apendix2.1.29Oset-UnionNaos:Oset-Union,Oset-join,sometimes:Union,Append.Definitions:Recursiveslow:X~(A,B,C)ifAm[)thenCmB,elseCAR(A)CAR(C)andOset-union.Dafn[COR(A),Oset-dalete.Alg(CAR(A),B),Oset-dolte.Alg(CAR(A),C)].Quick:CxOsot-Union.Algs(A,B).Domain/range:<OsetsOsets-+Osets>Algorithms:Nonrecursive,Quick,Non-deostructive,Opaque:X.(A,B)(APPENDAB).Nonrecursive,Quick,Destructive,Opaque:X.(A,9)(NCQNCA8).Recursive:X.(A,8)ifAmflthenB,elseCONS(CAR(A),Ot-Union.Alg(CDR(A),Ost-dlete.Alg(CAR(A),8))).Generalization.:UnionWorth:100What:,AppendontoOsetAanynewmembersofOsetB.Appendix2AMDiscoveryinMathematicsasHeuristicSearch9-Appendix2.1.30Set-UnionName(s):Set-Union,Set-join,sometimes:Union,Append.Definitions:.41NonrecursiveDeclarative-.X(A,B,C.)Vx,x(Ciffx(Aorx(B.Recursiveslow:X.(A,B,C)ifAnilthenCsB,elseCAR(A)(CandSet-union.Dofn(CDR(A),Quick:CuSet-Union.Algs(A,B).Domain/range:<SetsSets-#Sets>Nonrecursive,Quick,Destructive,Opaque:X.(A,B)(UNIONAB).Nonrecursive,Quick,Non-destructive,Opaque:X(A,6)(Self-intersect(APPENDA13)).Recursive.X(A,8)ifAxi)thenB,elseSet-insert.Alg(CAR(A),Set-Union.Alg(CDR(A),Set-delete.Alg(CAR(A),B))).Recursive:;k(A,(J)ifAxilthenB,elseMERGE(CAR(A),Set-UnIon.Alg(CDR(A),DREMOVE(CAR(A),B))).Goneralizaticns:UnionWorth:100What:MergeintoSetAanynewmembarsofSet15.Appendix2.1.31Bag-UnionDefniios:Ba-noBag-join,sometimes:Union,Append.Recursiveslow:X~(A,B,C)ifAt()thenCzB,elseCAR(A)(CandBag-union.Dafn(Bag-delete.Alg(CAR(A),A),25Bag-delet.Alg(CAR(A),B),-.~Bag-delete.Alg(CAR(A),C)).Quick:CzBag-Union.Algs(A,B).Domain/range:<BagsSags4#Bags>Algorithms.Recursive:X(A,B)ifAs()thenB,elseLag-insert.Alg(CAR(A),Bag-Union.Alg(CDR(A),Bag-d*I-st9.Alg(CAR(A).B))).Generalizations-UnionWorth:100*What:Bag-union(A,B)containsanyxbelongingtoeitherbag,withmultiplicityofxequaltothemaximumofthemultiplicityoftheelementxinAcndir,B.25Yes,thisisreallythesameasCOR(A),andintheotherconceptsinthisappendixtheshorterformistheoneused.Here,wedecidedtoshiowthenice,symrne'ricformthatAMactuallycontains.Arpendix2AMDiscoveryinMathematicsasHeuristicStarch-192-Appendix.1.32DifferenceName(s):Difference,Structure-differenct,,-ometimes:Minus,Subtract,Complement.Definitions:Quasi-recursivecases:X(A,B,C)[determinethetypeofstructureAandBare,sayS,thenuseS-Diff.Defn(A,B,C)].Necessary,Nonrecurrsive:X(A,B,C)Forallx,x(Ciffx(Aand-x(BQuick:C.Difference.Algs(A,B).Domain/range:<StructuresStructures-.Structures>Algorithms:Quasi-recursivecases:(A,B)[determinethetypoofstructureAandBare,sayS,thenuseS-Diff.Algs(A,B)].Quasi-recursivecases:X(A,B)[determinethetypeofstructureAandBare,sayS,thendoS-delete.AIg(CAR(B),Difference(A,CDR(B)))].Isa's:OperationSpecializations:Set-Diff,Bag-Diff,List-Diff,Oset-Diff.Worth:100Appendix2.1.35List-DiffName(s):List-Difference,List-diff.DefinitionasUIRecursiveslow:).(A,B,C)ifAsOthenCO,elseIfCAR(A)(BthenList-Diff.Dafn(CDR(A),List-delete.Alg(CAR(A),B),C),elseCAR(A).CAR(C)andLIst-Diff.Defn,(CDR(A),B,CDR(C)).Quick:C.List-Diff.Algs(A,B).Domain/range:<ListsLists-4Lists)Algorithms:Nonrecursive:X.(A,B)forxinA(inorder),ifxIsinB,thenuseList-deletetoremove-nxfromAendB.Recursive:X(A,B)ifAu<>then<,elseIfCAR(A)(BthenList-Diff.Alg(CDR(A),Lit-delete.Alg(CAR(A),B))IelseCONS(CAR(A),List-Diff.AIg(CDR(A),B)).Generalizations:DifferenceWorth:100VWhat:MovexalongA.IfxisalsoinB,removeitfromAandfromB.Appendix2AMDiscoveryinMathematicsisHeuristicSearch-193-Agp.endix2.1.34Oset-Diff-Name(s):Oset-Difference,Oset-diff.IDefinition%,Recursiveslow:X..(A,3,0)ifAm[]thenCc[],elseIfCAR(A)(8thenObetiff.Defn(CDR(A),Oset-delete.Alg(CAR(A),B),C),elseCAR(AKuAR(C)andOset-DiffDefn(CDR(A),B,CDR(C)).Quick:CsOset-Diff.Algs(A,B).Domain/roenge:<OsetsOsets-4Osets>Algorithms:Nonrecursive:X~(A,B)forxinA,ifxisinB,thenremovexfromAandB.Recursive:X(A,8)ifAs[]then[],elseIfC0AR(A)(BthenOset-Diff.Alg(CDR(A),Oset-d9lete.Alg(CAR(A),B)),elseCONS(CAR(A),Oset-Diff.Alg(CDR(A),B).Recursive:X(AIB)ifAx[]thenQl,elseIfCAR(A)(BthenOset-Diff.Alg(CDR(A),B),elseCONS(CAR(A),Oset-Diff.Alg(CDR(A),B)).Generalizations:DifferenceWorth:100What:MovingalongA,whenanelementalsoinBisencountered,useOset-deletetoremoveitfromAandfromB.Apndix2.1.35Set-DiffName(s):Set-Difference,Set-dliff.Definitions:Recursiveslow:X(A,B,C)ifA-1)thenCc(),elsoIfCAR(A)(thenSet-Diff.Oefn(CDR(A),Set-delete.Alg(CAR(A),B),C),elseCAR(A)sCAR(C)andSet-Diff.Defn(CDR(A),B,COR(C)).Quick:CuSet-Diff.Algs(A,B).DeclarativeNonrecursiva.:*,(A,B,C)Yx,x(Ciffx(Aand-.09.Domain/rango:(SetsSets-4Sets)Algorithms:Nonrecursivei:X.(A,B)forxinA,ifxisin8,ther,removexfromAandB.Recursive:X(A,B)ifAt()then1,1,elseIfCAR(A)(thenSet-Diff.Alg(CDR(A),Set-delete.Alg(CAR(A),B)),elseCONS(CAR(A),Set-Diff.Alg(CDR(A),B)).Recursive:X(A,B)ifAxi)thenJ),elseIfCAR(A)(BthenSet-Diff.Alg(CDR(A),6),elseCONS(CAR(A),Sot-Diff.Alg(CDR(A),B)).Generalizations:DifferenceWorth:100What:MembersofsetAwhicharenotinSetS.Appendix2AMDiscoveryinMathematicsasHeuristicSearch-194-Appendix2.1.36Bag-DiffName(s):Sag-Difference,Bag-dill.Definitions:Recursiveslow:X.(A,B,C)ifA'()thenCaO,elseIfCAR(A)(BthenBag-Diff.Defn(CDR(A),Bag-delete.Alg(CAR(A),B),C),3elIseCAR(A)CAR(C)andBag-Diff.Defn(CDR(A),B,CDR(C)).Quick~:CaBag-Diff.Algs(AB).Domain/range:<BagsBags-4Bags)Algorithms:VNonrecuwsive:X(AID)forxinA,ifxisinB,thenremoveanxfromAandB.Recursive:X(A,B)ifAso)then(),elseIfCAR(A)(BthenBag-Diff.Alg(COR(A),Bag-delete.Alg(CAR(A),B)),elseCONS(CAR(A),Bag-0iff.Alg(CDR(A),B)).Recursive:X(A,6)IfSo()thenA,elseIfCANSO)(thenBat-diff.Alg(Bag-delete.Alg(CAR4B),A),CDR(B)),F,.elseBag-diff.Alg(A,CDR(9)).IGeneralizations:DifferenceWorth:100What:Move,xalongSagB,remo-vingonecopyofeachxfromBagA.L2:-.Appendix2AMDiscoveryinMathematicsasHeuristicSearchI95-Appendix2.1.37CoalesceName(s):Coalesce,Self-apply,Condense,Collapse,Argumentcoincidence.Definitions:Declarativeslow:X(F,G)ThedomainofGhasbeencollapsed,comparedtoF's,bytheremovalofonedomaincomponent0,andanalgorithmforGisjustacallonF,withtwoarguementsthesame.TheonlyconstraintonthissituationisthatthedomaincomponentfromwhichduplicateargumentisdrawnIsitselfaspecializationofD0.26Necessary,quick:X.(F,G)ThelengthofeachDomain/rangeentryforFIsonelargerthanthelengthofeachentryonG.Dom/range.Necessary,quick:X(F,G)TherangeofbothFandGareequal.Sufficient,slow:X.(F,G)Are-equivalent(G,CoalesceAlgs(F)).Sufficient,quick:X~(F,G)G.Coalesce.Algi(F).Domain/range:(Active-#Active><Operation-.Operation><predicate-~Predicate>*Algorithms:Distributed:usetheheuristicsattachedt.-CoalescetoguidethetiffinginofvariousfacetsofthenewCoalescedconcept.Generalizations:OperationIsa's:OperationWorth:300Fillin:4heuristics.Check:1heuristic.Suggest:2heuristics.~.0meexamplesofthis.(WCoolesce.Dsfn(TIMESSquare),becauseTIMESDomain/rangecontains<Nvm~,,rNumber-iNumber>endSquare.Domain/rangecontains(Number4Number>,andadefinitionofSquareit,'Ti.-,e*(x,x)',andclearlyNumberitaspecializationofNumber(avacuousspecialization).SoSquareisz~uoazascmdfnrinofTIMES.00iCoolesce.Defn(InsertSelf-insert),wherethel10trconceptisdefinedaslnssrt(S,ZJ.ThodomainofInsertisAnythingxStructure;thedomainofthenewoperationisjustStructure.ThispA:408Coslesce.DefnbecauseStructureisaspecializationofAnything:ifwecaninsertANYTHINGintoastructure,thencertainlyitispermissabletoinsertaSTRUCTUREintoastructure.(iii)Coalesce.Defn(EqualityConstant-T)becauseEqualityisraflexive(xexalways).~4*7Appendix2AMDiscoveryinMathematicsasHeuristicSearch*196.Appenix2.1.36Canonizet~.Name(s):Canonize,Canonicalize,Standardize,sometimes:normalize.Definitions:Slow:X.(P1,P2,F)PIandP2arepredicatesoverAxA,andFisat%operationfromAtoA,and(Vx,y(A)P1(x,y)ittP2(F(x),F(y)).27Sufficient,slow:Are-equivaleant(F,Cananize.Algs.(P1,P2)).Sufficient,quick:FzCanonize.Algs(PI,P2).Domain/range:<Predicate,Predicate4Operation>Algorithms:Distributed:usetheheuristicsattachedtoCanonizetoguidethefilling711-inofvariousfacetsofthenewcanonization.Generalizations:OperationIsa's:OperationWorth:200Fillin:.6heuristics.Suggest:5heuristics.LASomeeapsofthis.(1)PI.Some-iongth,P24usliaty,F.Length,A-List.(ii)PI-Revsrsed-at-top-Iloes1,P2.Roversod.FaHosh-esch-sisment,A-Lists.(iv)Pt.Congruent-Irisngles,P2.denticolly-eqlual,F.Translate-ond-rotsto-to-stendard-position,A-Triangles.Thetypicalusefortheconceptis:givenP2,findPIandF.Or:givenPIandP2,findF.%~-.-*-Appendix2AMDiscoveryinMathematicsasHeuristicSearch*197-Appendix2.1.39Parallel-rephlcd2Name(s):Parallel-replace2,Map-replac*2,Parallel-substitute.Definitions:-.Quick:GuParalIel-Replace2.AIgs(SI,S2,F).Domain/range:(Type-of-structureType-of-structureOperation-4Operation>Algorithms:Nonrecursive:X(SI,S2,F,G)GisanoperationwhosedomainisSIxS2andwhoserangeisRange(F).Foranysiructuressl(SI,s2(S2,G(sI,s2)iscomputebyreplacingeachelementxofsibythevalueofF(x,s2).NoticethismeansthatFmustbeanoperationwithadomain/rangeentryoftheform(DS2--*R>,whereRisunconstrained,but0iseither'Anything'or--ifSIisoftheform'Structure-of-E's'--E.Non-recursivequick:X~(SI,S2,F)ifF(x,y)doesn'tdependony,thenjustdoParallel-replace.Algi(S1,F).Specializations:Parallel-replaceIsa's:OperationWorth:100What:createanewoperation,whichtakes2structuresSIandS2,andreplaces68admemberxofSIbyF(x,S2).Appendix2.1.40Parallel-replaceName(s):Parallel-replace,Map-replace,Parallel-substitute,MAPCAR.Definitions:Quick:X(SI,F,G)G=Parallel-Replace.Algs(S1,F).Domain/rangei:<Type-of-structureOperation-4Operation>Algorithms:Nonrecursive:%(SI,F,G)GisanoperationwhosedomainisSIandwhoserangeisRange(F).ForanystructuveslISI,G(sl)iscomputedbyreplacingeachelementxofslbythevalueofFWx.NoticethismeansthatFmustbeanoperationwithadomain/rangeentryoftheform<0-+R>,whereRisunconstrained,butDiseither'Anything'or--ifSIisoftheform'Structure-of-E's'--E.Generalizations:Parallol-replace2Worth:100*JSugg:2heuristics.28What:createanewoperation,whichtakesastructuresSI,andreplaceseachmemberxofSIbyF(x).*2928Theseactuallydealwithsubstitutionoperations,theRESULTSofapplyingParallel-replaceandParallml-reptace2.Appendix2AMDiscoveryinMathermatkceasHeuristicSearch18Appendix2.1.41Repeat2Name(s):Ripat2,Map-rapoat2,ltorate2,Map2,MAP2CONC.Definitions:Quick:X(SI,S2,F,G)GvRepeat2.Algs(SI,S2,F).Domain/range:(Type-of-structureType-of-structureOperation-.Operation)Algorithms:Nonrecursive:X(SI.S2,FGsRepoat2(SI,S2,F)isanoperationwhosedomainisSlxS2andwhoserangeisRange(F).ForanystructuressIESI,s2(S2,G(sI,s2)iscomputedbythefollowingalgorithm:y+-CAR(s1);s14-CDR(s1);whilesido:y.-F(y,s2,CAR(sl));sli-CDR(sl);Finally,retlurny.NoticethismeansthatFmustbeanoperationwhosedomain/rangehastheform0.1S2sI-.sI>.--4Non-recursivequick:X(Sl,S2,F)ifF(x,y,z)doesn'tdependonz,thenjLustdoRopoat.Algs(S1,F).Specializations:Rope,'loo's:OperationWorth:100What:createanewoperation,whichtakes2structuresSIandS2,andrepeatsF(x,y,et2)alongthemembersx,yofSI.Appendix2..42RepeatName(s):Repeat,Map,Iterate,Sequence.Definitions:Quick:X(SI,F,G)GaRepeat.Algs(SI,F).Domain/range:<Type-of-structure,Operation4Operation>Algorithms:Nonrocursive:X(SI,F)Repoat(S1,F)sGisanoperationwhosedomainisSIandwhoserangeisRangs(F).Foranystructuresl(SI,G(sl)iscomputedbythefollowingalgorithm:y4-CAR(sI);slI.-CDR(sI);whileiido:y4-F(y,CAR(oI));,h14-CDR(sl)lFinally,returny.NoticethismeansthatFmustbeanoperationwhosedomainlrangehastheform4<sisI-#sI>.Generalizations:Repeat2Worth:100What:createanewoperationwhichrepeatsFallthewayalonganS1,Appendix2AMDiscoveryinMathematicsasHeuristicSearch-199-Appendix2.1.43Parallel-join2Name(s):Parallel-join2,Map-join2,Parallel-union2,MAP2CONC.Defiitions:Quick:(SI,S2,F,G)GzParallel-join2.Algs(SI,S2,F).Domain/range:<Type-of-structureType-of-structureOperation-4Operation>Algorithms:Nonrecursive:X(SI,S2,F,G)GisanoperationwhosedomainisS1x$2andwhoserangeisRange(F).Foranystructuressl(SI,s2(S2,G(sl,s2)iscomputebyappendingtogethertheva;uesofF(x,s2),r~.*IforeachelementxinsI.SoFhastobeanoperation-'withadomain/rangeentryoftheform<DS2R>,whereRisatypeofstructure,butDiseither'Anything'or--ifSIisoftheform'Structure-of-E's'--E.Non-recursivequick:X(SI,S2,F)ifF(x,y)doesn'tdependony,thenjustdoParallel-join.Algs(SI,F).Specializations:Parallel-joinIsa's:OperationWorth:100What:createanewoperation,whichtakes2structuresSIandS2,andjoinstogetherF(x,s2)foreachmemberxofSI.Appendix2.1.44Parallel-joinName(s):Parallel-join,Map-join,Parallel-union,MAPAPPEND,MAPCONC.Definitions:Quick:X(SI,F,G)GaParallel-join.Algs(SI,F).Domain/range:<Type-of-structureOperation-+Operation>Algorithms:Nonrecursive:X(SI,F,G)GisanoperationwhosedomainisSIandwhoserangeisRange(F).ForanystructuresIl(SI,G(sl)iscomputedbyappendingtogetherthevaluesofF(x),i.*12foreachx(sl.NoticethismeansthatFmustbeanoperationwithadomain/rangeentryoftheform<D--R>,whereRisatypeofstructure,andDiseither'Anything'or--ifSIisoftheform'Structure-of-E's'--E.Generalizations:Parallel-join2Worth:100What:createanewoperation,whichtakesastructureSI,andjoinstogether*FofeachmemberofS.ii-:7,p.-4l=+'mimILAppendix2AMDiscoveryinMathematicsasHeuristicSearch-200-Appendix2.1.45Reyerse-ord-pairName(s):Reversei-ordl-pair,Revorieorderedpair,SwitchCARandCADR.Definitions.,Nonrecursivequick:X(P,Q)First.Alg(P)rFinaI.Alg(Q),andFinal.Alg(P)sFirst.Alg(Q).Quick:X(P,Q)QsReverse-ord-pair.Algo(P).Domainfrange:(Ordered-pair-4Ordered-pair>Algorithms:XNonrecursive:X(P)Q4-P;First.Alg(Q,Final.Alg(p))29;Final.Alg(Q,Flrst.Alg(P));Q.Nonrecursivequickopaque,nondestructive:X(P)LIST(CADR(P),CAR(P).Nonrecursivequickopaque,destructive:X(P)z4-Last-ele(P);FRPLACA(CDR(P),CAR(P));FRPLACA(P,z);P.Nonrecursivequickopaque,nondestructive:X(P)REVERSE(P).Nonrecursivequickopaque,destructive:X~(P)DREVERSE(P).Isa's:OperationWorth:100What:turntheorderedpair<x,y>intotheorderedpair<y,x>._jpendix2.1.46Last-em.Name(s):Lost-element,Finalmember.Definitions:Recursive:X~(Six)r-First-slement.Alg(S),andS4-Plete.Alg(zS),andifEmpty-struc.Dofn(S)thenxsz,eseLast-@lement.Defn(S,x).Quick:X~(Six)xisLast-slement.Algs(S).Domain/range:<Ordered-structure-4Anything>Algorithms:Recursive:X(S)zoFirst-lement.Alg(S),andS'-Deletal.Alg(z,S),andifEmpty-strue.Defn(S)thenz,alseLost-element.Alg(S).Nonrecursivequickopaque:%(S)CAR(LAST(S)).Isa's:OperationWorth.-1003What:findth-.flanalmemberoftheorderedstructure0?029TheexpressionFirstAI*(A,x)willresultinaRPLACA:thefirstelementofAwillberemoved,andinitsplacexwillappear,Thur.FirstAlg(.cabc6o,a)willreturnasitsvaluethenewlist<zbcd0.30Actually,thisconceptismuchmoresophisticated.IfLast-elemnent.AlgsiscalledwithTWOarguments,Sandv,thentheintentionistakentobetoREPLACEthelastelementofSbytheelem-)ntv.Thusthatlastelementisdeleted,andvisaddedattheenidofS.Thisisdoneby:FRPLACA(LASI(S),V).Toreview;Last-el~ment.Alg(A,x)resetsthefinalmemberofAtox,whileLast-elementDfN(A,x)merealytestswhetherthelestmemberofAisx.Appendix2AMDiscoveryinMathematicsisHeuristic$torch*201-Appendix2.1.47First-elementName(s):First-element,Initialmember,Head,Frontelement,CAR.Definitions:Recursive:X(Six):e-Last-olement.Alg(S),andSo-Delete-Alg(z,S),andifEmpty-strue.Defn(S)thenxsz,elseFirst-element.Defn(Siix).Quick:X(SMxxal'irst-element.Algi(S).Domain/range:<Ordered-structure-4Anything>Algorithms:Recursive:X.(S)z..Last-slement.Alg(S),andS#-Dslete.Alg(z,S),andifEmpty-struc.Defn(S)thenz,elseFirst-element.Aig(S).NNonrecursive,veryquick,opaque:X(S)CAR(S.Isa's.:OperationWorth:100What:findtheinitialmemberoftheorderedstructureS.31Appeydix2.1.48All-but-the-first-elemenitName(s):Rear,Allbutthefirstelement,All-but-first,CDR,Tail,sometimes:back.Definitions:Nonrecursive:tX(S,R)List-delet.Dsfn(CAR(S),S,R).Nonrecjrsive:X.(S,R)List-lnsert.Dsfn(CAR(S),R,S).NonrecurslvoiX(S,R)CDR(S).R.Quick:X(S,R)RnRear.Algs(S).Domain/range:(Ordered-structurea-#Ordered-structure>Algorithms:Nonrecursives,veryquick,opaque:X(S)COR(S)Nonrecursive:X(S)iii-First-eile.Alg(S);List-deliste.Algs(zS).Isa's:OperationWorth:100What:removeth.initialmemberoftheorderedstructureS.31Actually,thisoperatso'esalgorithm,iffedtwoargumentsSandv,willreplacethefirstelementofSbyv,usingFRPLACA(Sv).SothissingleconceptcontainsbothCARandFRPLACAknowledge.ThisisnotshownexplicitlyintheentriesforFiret-elementAlgs.Appendix2AMDiscoveryinMathemat~csasHeuristicStorch-202-Appendix2.1.49All-but-the-last-elementName(s):All-but-the-last-element,All-but-last,sometimes:front.Definitions:Quick:X(S,R)RuAII-but-last.Algs(S).Domain/range:<Ordered-structure-*Ordered-structure>Algorithms:Nonrecursive,veryquick,opaque:%~(S)FRPLACD(LAST(S),NIL).Isa's:OperationWorth:100What:removethefinalelementfromtheorderedstructureS.Appendix2.1.50MemberName(s):Some-element,Randommember,Anyelementof,Member,In,Somea-member.Definitions:Recursive:X(x,S)Nonempty-struc.Defn(S)andifFirst-*eDefn(Sx)thenTrue,elseMember.Defn(x,All-but-first-ele.Alg(S)).Nonreicursivequickopaque:X(x,S)MEMBER(x,S)).Sufficient,veryquick,opaque:X(x,S)FMEkIB(x,$))#.Quick:X(Six)xaMember.Aigs(S).Domain/range:<Structure-+Anything>Algorithms:Nonrecursiveopaque:%(S)CAR(RAND-PERMUTE(S)).Nonrecurslve,quickopaque:X~CS)CAR(S)).Recursiveslow:ifSisemptythenfall,otherwiseIfSn(x)thenx,elseIfRAND(0,1)a1thenFlrst-ale.Alg(S),elseMemberAlg(AII-but-last.Alg(S)).Isa's:OperationWorth:100What:findarandommemberofthestructureS.F7777?1'(".Appendix2AMDiscoveryinMathematicsasHeuristicSearch-203-Appendix2.1.51ProjectioniName(s):Projectioni,First-argument,Proj1.Definitions:Nonretcursivequick:X(xoy,...)zRXQuick:X(x,y,...q,z)zvSome-@ement.Ags(x,y,...q).Domain/range:0-1)Anything...Anything-iVD)32Algorithms:Nonrecursivequick:%(x,y,...,q)x.Isa's:OperationSpecializations:Identity.Worth:100What:acceptabunchofargumentsandreturnthefirstone.Appendix2.1.52Projection2Name(s):Projectiom2,Second-argument,Proj2.Definitions:Nomrecursivequick:X~(xIy,...,1Z)zuyQuick:k(x~y...q,z)z:-Some-eement.Ags(x,y....q).Domain/range:<Anything+,DAnything...Anything-4'0'>Algorithms:Nonrocursivequick:X(x,y,...jq)y.Isa's:OperationSpecializations:Identity.Worth:200What:acceptabunchofargumentsandreturnthesecondone.43232ThismeantthatV0conbeanything,solongasit'sthesomeinbothplacesinthedomain/rangetemplate.Thusthisinckodoe<SetsAnythingAnything-sSets.'..C...%Appendix2AMDiscoveryinMathematicsasHeuristicSearch-204-IAppendix.2.1.59identityName(s):Identity,identity-operation,no-op,Self,nochange.L~.Definitions:Nonrecursive:X(x,y)Equality.Defn(x,y)Nonrecursivetransform:-X(x,y)Proji.Dofn(x,x,y)*Nonrecursivetransform:%)(x,y)Proj2.Defn(x.,:,y)Sufficient,v~ryquick,opaque:X(x,y)EQ(xy)).*Quick:X~(x,y)yaldentity.Algs(O.Domain/range:<Anything-4Anything><Object-4Object>(Structures-4Structures><Active-4Active>Algorithms:Nonrecursivequick:X(x)x.Nonrocursivetransform:X.(x)Projection1.A;gs(x,x).Nonrecursivetransform:X(x)Projection2.Algs(x,x).Conjec:'Identity,restrictedtoObjects,IsthesameasObj-Equality.'Generalizations:Projection!,Projection2.IWorth:100What:theidentityoperation,closelyrelatedtoEquality.Appendix2.1-54RestitLName(s):Restrict,Constrainthedomain/rangeofanactive.Definitions:3Nonrecursive:X~(F,G)Thedomain/rangeofGaremorerestrictivethanthatofF,andG.DefnisjustacallonF.Defn.Sufficient,Quick:X(F,G)GaRestrict.Algs(F).F:Domain/range:<Active-#Active><Operation-4Operation><Predicate-4Predicate>rAlgorithms:Distributed:usetheheuristicsattachedtoRestricttoguidethefilling!-7,InofvariousfacetsofthenewRestrictedconcept.Plus:anexplicitlittleprogramformakingthesubstitullionIsa':OeraionintheDomain/rangefacet,whichistheessenceofthisconcapt.Worth:200H-Fillin:3heuristics.33Thatis,one(ormore)componentoftheG.Domain/rangsentryisaproperspecializationofthecorrespondingF.Dom/ranentry,andalltheothercomponentsmatchupsqually.pFI7Appendix2AMDiscoveryinMathematicsasHeuristicSearch-205-Appendix2.1.55Invert-an-operationName(s):Invert,Findtheinverseofanoperation.Definitions:Declarativeslow:%(F,G)T'tedomainofGistherangeofF,plus&l;thedomaincomponentsofFexceptone,D;therangeofGisthenD.ThevalueofG.Defn(xl,...,r,...d)mustbethesameasthevaluethevalueofF.Defn(xl,...,d,...,r),foranyxl,...,d,andr.Necessary,quick:X(F,G)ThelengthofeachDomain/rangeentryforFisthesameasthelengthofeachentryonG.Dom/range.Necessary,quick:X(F,G)TakenasSETS,adomain/rangeentryfromFandonefromGareactuallyEqual.Sufficientquick:k(F,G)GhastheName'F-inverse'.Quick:X(F,G)Ginvert.Algs(F).Domain/rainge:<Operation-+Operation><Operation-#Inverted-op>Algorithms:Distributed:usetheheuristicsattachedtoInverttoguidethefillinginofvariousfacetsofthenewInvertedFoncept.Isa's:OperationWorth:300Fillin:Iheuristic.Suggest:Iheuristic.Appendix2.1.56Inverted-opName(s):Invertedoperationinverse,sometimes:converse.Definitions:Declarativeslow:X(F)ForsomeknownoperationG,Invert.Defn(G,F).Necessary,quick:k(F)TherangeofFisonesingleknownconcept.Sufficientquick:X(F)FhastheName'G-inverse'forsomeG.Generalizations:OperationIn-domain-of:Invert.34In-range-of:InvertWorth:200Thisjustmeansthatsuchoperationsarethemselveseasilyinvertable."m-.,m=...bm+:.,m.m,....,.,kAppendix2AMDiscoveryinMathematicsasHeugisticSearch-206-Appendix2.1.57RelationName(s):Relation,relationship.Definitions:none.Generalizations:ActiveSpecializations:Logical-combinationWorth:100View:ToviewanoperationFar.arelation,consideritasthesetofallorderedpairs,asubsetofDom(F)xRan(F),containing<x,y>iffF.Dafn(x,y).NOTE:Thisconceptexistsinonlyrudimentaryform~inAMatthemoment.Appendix2.1.58Logiqal-combinationName(s):LogicalCombination,Booleanrelation.Definitions:none.Generalizations:Relation.Examples:Conjoin,Disjoin,Imply,Negate35Worth:200Check:IheuristicInterest:3heuristicsSugg:2houristV'qNOTE:Thiscom.,ptexistsinonlyrudimentaryforminAMatthemoment.35Thesearen'tcodedseparatelyasconceptsinAM,Yet.Appendix2AMDiscoveryinMathematicsasHeuristicSearch-207-Appendix2.1.59ObjectName(s):Object,staticconcept,PassiveSpecializations:Structure,Atlom-obj,Conecture3Generalizations:Any-conceaptExamples:none.p~s~isa's:Any-conceptIn-dlomain-of:Object-esqualityWorth:100'NoAeuristics)39Appendix2-1.60ConjectureName(s):Conjecture,Conjec,Hypothesis,Guess,Observation,Thesis,Belief.*Definitions:Nonrecursive,Quick:X~(x)MaIchxwith(CONJEC:...>Generalizations:ObjectIIn-domain-of:Prove39,Disprove,ThatIIn-rangv-c'efnone40Worth:2,-.,.36Recallthatallthismeansisthatcomputationsally,anyoritityxisconsideredtobeanObjectiffitisanexampleofsonmeSpecializationofthisconceptThusthelist(3ANIL)isanobject,becauseitisaList,andListisoneSpecializationofStructure,ardStructureisaSpecializationofObject.Thisshouldbe'Statement',andthatconceptshouldhaveConjectureasaspecialization,alongwithTheorem,Falsehood,39etc.ThiswasneverfullyimplementedintheAMcode,however38Thepaucityofheuristicshereatteststothelittlethatstructures,statements,andatomshaveincommon.Theyaremerelynon-actives.Thorpismuchthatdo*3notapplytoanyofthem(seetheActiveandOperationconcepts),butveryfewrulesofthumbapplicabletoall3ofthem.Atthemo.nent,noneofthesethreeconceptsisinAM.Conjecturesareproducedbyheuristicrules,nootmechanicallybyrunningsomeActiveconcept.Appendix2AMDiscoveryinMathematicsasHeuristicSearch*208-Appendix2.1.61Atom-pbjName(s):Atom,Atomicobject,sometimes:element.Definitions:Nonreicursive,Quick,Opaque:X.(x)ATOM(x)Specializations:Truth-value,Variable4l,Identifier.Generalizations:ObjectIn-domain-of:UNPACK;NthCH>ARIn-rangei-of:MKATTOM,PACK;View:Toviewanystructui-eSasanatom,applyPACKtoit.Worth:100.42Appendix2.1.62Truth-valueNamea(s):Truthvalue,Logicalconstant,T/F,{T,F).Definitions:none.43Examples.True(T,Y,Yes),False(NIL,F,N,No).Generalizations:Atom-objIn-domain-of:NegationIn-range-of:allpredicate.;theDefnfacetofeachconcept.View:toviewanythingxasatruthvalue,do:X(x)NOT(Equality.Dfn(x,NL)).44Worth:100.-I41ManyofthenounsinthisboxarenotimplementedasconceptsinAM;eg.,Variable,Identifier,UNPACK,MKATOM,...Theabsenceofanyheuristicsherejustemphasizesithefactthatliter,constants,identifiers,variables,T,etc.haveverylittleincommonthatALLobjectsdon'tshare.Sincenodefinitionisprovided,AMnevergeneralizedorspecializedthisconcept,lookeadfornewexamplesofit,etc.44Thus,asinLispiself,anentityisassociatedwithFalseiffitisnull,andwithTrueiffitisanythingelaeintheworld.J,Appendix2AMDiscoveryinMathematicsasHeuristicSearch-209-A"'pedix2.1.63StructureName(s):Structure,Data-s'--jjre,sometimes:45List-structure.Definitions:Necessary,Non-Recursive,Quick,Opaque:X(x)LISTP(x)Specializations:Ord-struc,Unord-struc,Empty-stric,Non-empty-struc,Multipe-oIaments-struc,No-multiple-olements-struc,Struc-of-strucs.Generalizations:ObjectIn-domain-of:Insert,Delete,Member,Empty,Nonempty,Difference,Union,Intersect,Parallel-roplace(2),Parallel-join(2),Repeat(2).In-range-of:Insert,Delete,Difference,Union,Intersect.View:Toviewanyentityxasastructure,insertxintoanemptystructure.Worth:200Fillin:2heuristics.Interest:2heuristicsApopendix2.1.64Structure-of-StructuresName(s):Structure-of-structures,struc-of-strucs.Definitions:Recursive:X(S)Empty-struc.Dofn(S)or(Structure.Defn(S)andzo-Member.Alg(S)andStructure.Dofn(z)andStructure-of-Structures.Dofn(DoIeto.Algo(z,S))].DeclarativePC:X(S)Structure.Dofn(S)andMY(S)Structure.Dafn(x).~Specializations:none.46Generalizations:StructureWorth:300Thatis,theusermighterroneovslytype'List-structure'whenhereallyman*anykindofstructure.definitionofasingletypeofstructure,therebycreating,eg.,Bag-of-Sets,List-of-Osets,Bag-of-Primes,etc.Thesespecializedconceptswerethenkeptaroundso,e.g.,thesampletracesinChapter6andinAppendix5sometimesrefertothem.Also,thisconceptanditsspecializationscanbediscoveredindeendntlbyAMusinghuitcrulenumber232(seeAppendix3)toformanewinterestingtypeofstructure.I.r------Appendix2AMDiscoveryinMathematicsasHeuristicSearch-210-Appendix2.1.65-Ord-Structure-Name(s):Ord-truc,OrderedStructure,sometimes:List-structure.Definitions:mnoSpecializations:Osets,ListsGeneralizations:StructureIn-domain-of:First-oe,Last-ale,All-but-first-olo,All-but-last-e.In-range-of:All-but-first-ole,AII-but-last-ele.View:Toviewanyunord-strucasanord-struc,donothingtoit,orpermuteit.Worth:200Fillin:2heuristics.Check:2heuristics.Interest:IheuristicAppendix2.1.66Unord-StructureName(s):Unoird-struc,UnorderedStructure,sometimes:Collection1.::Definitions:noneSpecializations:Sots,Bags.Generalizations:StructureView:Toviewanyordered-strucasanunord-struc,SORTit.Worth:200Check:Iheuristic.Appendix2.1.67Multiple-elements-structureName(s):Multiple-elements-structure,Mult-ele-struc,sometimes:Lists.Definitions:noneSpecializations:Lhits,BxgsGeneralizations:'StructureIn-dlomain-of:none.47View:Toviewsinynonmult-strucasamult-struc,donothingtoit,or:copysomeelementsinsideitarandomnumberoftimes.Worth:200f:.Fillin:Iheuristic.47Therearemanyspecialfunctionswhichcanonlymakesenseformultiple-elesstructures,et.,Remove-I-occurrenee(x,S),versusRemove-all-occurrances(iiS)SuchoperationshavenotyetbeencodedandaddedtoAM.Appendix2AMDiscoveryinMathematicsasHeuristicSearch-2-Appendix2.1.68No-multiple-elements-structureName(s):No-Mutple-olements-structure,Nonmult-struc,sometimes:Sets.Definitions:noneSpecializations:Sets,Ordered-setsGeneralizations:StructureView:Toviewanyinult-strucasanonmult-struc,eliminatemultipleelements.Worth:200Appendix2Ji.69Empty-,:ructureName(s):Empty-structure,Emptystruc,sometimes:phi,NIL.Definitivns:Nonrecursivequickopaque:X(x)NULL(x)Nonrecursive:X.WxStructure.Dofn(x)andNOT(Member.Alg(x)).Generalizations:StructureView:Toviewanystructureasanempty-structure,repeatedlyapplyDelete.Worth:100Appendix2.1.70Nonempty-structureNaes:Nonempty-structure,Nonemptystruc,sometimes:structureDeinitions:Nonrecursivequickopaque:X(x)LISTP(x)Nonrecursive:X~WxNOT(NOT(Member.AIg(x))).Generalizations:StructureIn-range-of:InsertView:ToviewanystructureasanNonempty-structure,Insertitintoitself.Worth:1000%P.Appendix2AMDiscoveryinMathematicsasHeuristicSearch-212-Appendix2.1.71SetsName(s):Set,Class,CollectionDefinitions:48Recursive:X(S)(Sal)orSet.Definition(Set-Delete.AIg(Member.AIg(S),S)))Recursivequick:X(S)(So{)orSet.Definition(CDR(S)))Quick:X(S)(MatchSwith{...)Intuitions:noneatpreent.49Specializations:Set-of-structures50Generalizations:Unordered-Structure,No-multiple-elements-StructureIn-domain-of:Set-union,Set-intersect,Set-difference,Set-insert,Set-deleteIn-range-of:Set-union,Set-intersect,Set-difference,Set-insert,Set-deleteView:ToviewanystructureasaSet,do:X(x)Enclose-in-braces(x)ToviewanypredicateasaSet,do:X(P)S4-{).ForallxinExamples(Domein(P)):IfP(x)thenSet-insert.AIg(x,S).Worth:400Sugg:Iheuristic.Interest:Iheuristic.Appendix2.1.72BagsName(s):Bag,sometimes:Multiset,sometimes:Collection.Definitions:Recursie:X(S)(So(orBag.Definition(Bag-delete.AIg(Member.Aig(S),S)))Recursivequick:X(S)(So()orBag.Definition(COR(S)))Quick:X(S)(MatchSwith...))Specializations:Bag-of-structures5Generalizations:Unordered-Structura,Multiple-elements-StructureWorth:400In-domain-of:Bag-union,Bag-intersect,Bag-difference,Bag-insert,Bag-deleteIn-range-of:Bag-union,Bag-intersect,Bag-difference,Bag-insert,Bag-deleteView:ToviewanystructureasaBag,do:X.(x)Enclose-ln-parens(x)Aurprisingidea,whichfelloutnaturallywhiledesigningtheentriesforthedefinitionfacetsofSets,Bags,etc.,isthatthedifferencesbetweenthesestructuresisnotintheirdefinitionsomuchasintheparticularoperatorswhichworkonthem.Thusall4kindsofstructuresappeartohavesyntacticallysimilarconcepts,evenincludingtheirdefinitions.Thereadermustexamine,eg.,thedefinitionofBag-insertandSet-inserttodiscovertherealdifferencesbetweentheSetandBagstructureswhichAMknowsabout.49Severalniceintuitionswereoriginallyprovided,thenscrappedwhenALLintuitionswereexcisedfromAM.50ThisconceptwassynthesizedbyAM,butwasthenleft'permanently'inplace.Appendix2AMDiscoveryinMathematics,sHeuristicSearch-213-Appendix2.1.73ListsName(s):List,List-structure,Vector,Tuple,n-tuple,Sequence,Ordered-bagDefinitions:Recursive:X(S)(STh>orList.Definition(List-Dulct.Alg,(MembS;x.Al(S),S)))Recursivequick:(S)(So(orList.Definition(CDR(S)))Quick:X(S)(MatchSwith<...>)%GeneralizationstOrdered-Structure,Multiple-elem*nts-StructureSpecializations:Orderd-pairsWorth:400In-domain-of:List-union,List-intersect,List-differenct,List-insert,List-delete.51In-range-of:List-union,List-intersect,List-different*,List-insert,Lst-deleteView:ToviewanystructureaaList,do:(x)Enclose-itn-hl-brackts(x)nAppendix2.1.74srdered-pairNsme(s):Ord-pair,OpairOrderedpair,2-tuple,sometimes:i/opair,pair.Definitions::TDeclarative:X(S)ThereexistxandysuchthatSx,y>.Nonrcursiveopaque:List.Definition(S)andCDR(S)andNul(CDDR(S)).:Nonrecursvelows(S)List.Definitio(S),andS,andzMember.Al(S),irstandS-List-dolete.Alg(z,S),andSo,andy-Member.Al(S),andwsst-delem.Dfn(y,S,0).tNonre:ursivequicksX(S)(MatchSwith(4-x,#-y>)GeneralizetionstListsWorth:200;..'In-domain-of:Reverse-ord-pair"In-tene-of:Reverse-ord-pairView:Toviewanyentityxsanorderedpair,considerthepair(x,x>.51TViewToviwianwxampleofanactiveconceptFasaiorn-pair,constructthe,pairwhosefirstelementisalistoftheargumentstoF-ortTHEargumenttoF,ifthereisonlyone),andwhosesecondelementisthevalueofFanthosearg(s).iView:Toviewan(ordered)structureSasonOpoir,considerthepairwhose+:!,firstelementissomememberof(thefirstmemberof)S,and,.-..whosesecondelementisalltheremaining,membersofS.*:""View:Transformtheorderedstructure(ab...)intotheOpoir(ab)or(ac).1Thorieareanyspecialfunctionswhichcar,onlymikesenseforlist$,t,thisone:'8etwlsn(x,S)'whichreturnsalistofallelementslyingafterthefirstoccurrenceofxinS,butbeforethesecondoccurrence.SuchoperationshavenotyetbeencodedendaddedtoAM.Appendix2AMDiscoveryinMathematicsasHeuristicSeirch-214-Appendix2.1.75OsetsName(s):Oset,Oset-structuro,Ordered-set,sometimes:Set.Definitions:Recursive:X(S)(So[]orOset.Definition(Oset-Delete.Alg(Member.AIg(S),S)))Recursivequick:X(S)(S-[orOset.Definition(CDR(S)))Quick:X4(S)(MatchSwith[...])Generalizations:Ordered-Structure,No-multiple-elements-StructureWorth:400In-domain-of:Oset-union,Oset-intersect,Oset-difference,Oset-insert,Oset-deleteIn-range-of:Oset-union,Oset-intersect,Oset-difference,Oset-insert,Oset-deleteView:ToviewanystructureasaOset,do:X,(x)Enclose-in-square-brackets(x)Appendix2.2.ConceptsneverfullyimplementedThefollowingconceptsweredesigned"onpaper"beforeAMwascoded,butwereneverputintoAMatleastnotfully.FutureworkonAMmayincludetheircoding,insertionintoAM,anddebugging.Anasterisk()meansthatacrude,rudimentaryversionoftheconceptwascodedandplacedinAM,buthadlittleimpactonitsbehavior.Statement::wouldincludeconjectures,theorems,axioms,hypotheses,conclusions,relationships.Prove,Disprove,Proof,Counterexample,Theorem,Techniquesforprovingexistence,Techniquesforestablishinguniversalconjectures,...:altogetherabouttwodozenconceptsweredesigned.MathematicalInduction,includingdoubleinduction.Mathematicaltheory,system,basis,foundation,axiom,isomorphism,...Causeandeffect:theirrelationtotheoryformation.Variable,Assignment,Binding,Quantification,Scope,...:adozenconceptsalongtheselines.Constant,Identifier,PNAME/P2NAME,...:AMneverreallyneededanynon-opaqueinformationaboutthese,althoughfutureexpansionofthesystemshouldprobablyincludethecodingandinsertionoftheseconcepts.Inverse-coalesce:GivenanactiveconceptF(x),replacesomeoccurrencesofxinF.Defnby"y",therebymakinganewoperationwhichisafunctionofxandy.Negate,Conjoin,Disjoin,Imply,...:Theselogicaloperatorsandrelationshipshadtoolittlesemanticinformationtomakeitnecessarytoencodeeachoneintoaconcept.(eo)Constructive,Destructive:thesetwopredicateswouldjudgeanyoperation.7,NAppendix2AMDiscoveryinMathematicsasHeuristicSearch-215-(,)Non-concept:Allentitieswhicharenotconcepts.Therewasnothingtosayaboutthem,asawhole.7.4VAppendix2AMDiscoveryinMathematicsasHeuristicSearch-216-Appendix2.3.ConceptsandHeuristicsascodedinLISPThereadermaywishtoinspecttheactualLISPencodingofconceptsandtheirfacets-includingheuristicrules.Forthatreason,afewpagesareexcerptedfromtheAMprogramandshownbelow.Thefacetsofaconceptarestoredaspropertiesonitspropertylist.Eachfacethasarigidformatthatitmustadhereto;thatformatvariesfromfacettofacet.Twoconceptshavebeenselected:Compose,whichislargerthanthetypicalconcept,andOse-strucaure,whichisasmallerandsimplerconcept.Appendix2.3.1.The'Compose'ConceptHereisthepropertylistoftheatom"COMPOSE",whenAMstartsup.Thereadershouldlookfor(andfind!)parallelsbetweenthecompleteentriesbelowandtheabbreviatedsummariesonpage178.Forthatreason,aftereachentry,thecorrespondingsummarylineisrepeated(inabox).ENGN52(COMPOSEComposeComposition(Afterwards))Appearanceonpage178:Name(s):Compose,Composition,sometimes:afterwards;IDEFN(TYPENEC&SUFFPCDECLARATIVESLOW(FOREACHXIN(DOMAINBA2)RETURN(APPLYB53BAIALGS(APPLYBBA2ALGSX]DEFN-SUFF[[TYPESUFFICIENTNONRECURSIVEQUICK(AND(ISABAI'ACTIVE)(ISABA2'ACTIVE)(ISABA3'ACTIVE)(ARE-EQUIVBA3(ALREADY-COMPOSED54BAlBA2][TYPESUFFICIENTQUASIRECURSIVESLOW(ARE-EQUIVBA3(APPLYB'COMPOSE'ALGSBAtBA2])5[TYPESUFFICIENTQUASIRECURSIVEQUICK(EQUALBA3(APPLYB'COMPOSE'ALGSBAIBA2]]Appearanceonpage178:52Thisisshortfor"Englishname",andisthefacetcalled"Name(s)"everywhereelseinthisthesis.Thefunction"APPLYB"indicatesthataconcept'sfacetistobeaccessedandthenexecuted(APPLYBCFxy...)means:accessanentryonfacetFofconceptC,andthenrunitontheargumentsx,y,...ThisLISPfunctioncheckstoseewhetherthetwooperationshavebeencomposedbefore.TheargumentstoCompose.Defn(andtoComposeAlgaaswill)arecal!edSAl,BA2,..ThuswewouldwriteetchdefinitionofComposeas(BAIGA28A3)..SIWAppendix2AMDiscoveryinMathematicsasHeuristicSearch-217---..,DefinitionsCVelarativaislow:X(A,B,C)Yx,C(x)aA(B(x).SufficientNonrecuruiveQuick:X(ABC)ChastheName'AoB'.Sufficient,Slow:Ar.-equivalent(C,Comnpos..Algs(A,B)).Sufficient,Quick:CoCompose.Alge(AB).D-R(OPERATIONACTIVEOPERATION)(RELATIONRELATIONRELATION)(PREDICATEACTIVEPREDICATE)(ACTIVEACTIVEACTIVE))D-R-FILLINI(PROGN(ARGS-ASACOMPOSEFlF2)(CADAR(CON-MERGE-ARGS56F1F2)))EXS-D-R-FILLINI(PROGN(ARCS-ASACOMPOSEF1F2)[SETQRANI(LAST(ANY1OF(GETSF1'D-R](*RANIistherangeofFl)[SETQDOMI(ALL-BUT-LAST(ANYlOF(GETSFl'D-RJ(SETQRAN2(LAST(ANY1OF(GETSF2'D-RJ(*RAN2istherangeof172)(SETQDOM2(ALL-BUT-LAST(ANYlOF(GETSF2'D-R][SETQX(MAXIMALRAN2DOMI'FRAC-OVERLAPJ(NCONC1(LSUBSTDOM2forXinDOMi)RANI]Appearanceonpage178:Domain/rang.:<ActiveActive-+Active><OperationActive-.Operation><PredicateActive-Predicate>(RelationRelation-,Relation>Fillin:2(outofatotalof9)heuristics.InAppendix3,theseareheuristicsnumbers175and176.ALGS((TYPEQUASIRECURSIVEINDIRECTCASES[PROON(COND((NULLBAl)(APPLYS'COMPOSE'ALGS(RAND-MEMB(EXS57ACTIVE))BA2BA3BA4))5856ThisisaLISPfunction,opaquetoAM,whichanialyzesttheDomain/rangefacetsofthetwooperationsF1andF2,andseeshow(ifatall)therangeofFicanbemadetooverlapthedomainofF2.NotethatF2isappliedAFTERF1.TheLISPcodeforthisfunctionispresentedonpage221.T7hefunction"EXS'ripplesoutwardfromitsargument,collectingexamplesasitgo*..Notewhatthisclausesays;ifComposeAlitsisevercalledwithitsfirstargumentmissing,randomlyselctanActivetouseasthatconstituentofthecomposition.Appendix2AMDiscoveryinMathematicsasHouristicSearch-219-((LREADY-COMPOSEDBAIBA2)(*Note:thissetsGTEMP12)GTEMPI2)((NDBAI8A2(IS-CON'0BAt)(IS-CONBA2)(ISABA1'ACTIVE)(ISABA2'ACTIVE)(%SETQGTEMPI1(CON-MERGE-ARGSBAlBA2GTEMPI2M)(GTEMP12isnowthenamsofthenewcomposition)(CREATEB1GTEMP12)(SETQGUPI(COND((SAGCS-B'COMPOSE)CS-B)(T'COMPOSE)(GUPIisnowtheKINDofconceptwhichGTEMP12istobeanexampleof.Thiswillusuallybe"COMPOSE"orsomevariantofit.(INCRB2GTEMPI2'DEFN(LIST'TYPE'APPLICATION'OFGUPI(APPEND(LIST'APPLYB(Q63COMPOSE)(QALGS)(KWOTEBA1)(KWOTEBAM)(FIRSTN(LENGTH(CAARGTEMP11))BA-LIST)(*AnotherwaytofillinanentryforGTEMPI2.Defn)(COND([SETQGTEMP308(CAR(SOME(EXSCOMPOSE)(FUNCTION(LAMBDA(C)(MEMBER(LASTELE(GETBGTEMP12'DEFN))(GETB(LASTELEC)'DEFNJ(FORGET-CONCEPTGTEMPI2)(CPRINIS8GTEMP12turnedouttobeequivalenttoGTEMP308DCR)64GTEMP308)(T(INCRBGUPi'EXS(NCONCI(GEARGSGUPI)GTEMP12))[SOME(RIPPLEGUPI'GENL)(FUNCTION(LAMBDA(G)(SOME(GETBG'D-R)(FUNCTION(LAMBDA(D)(AND(ISABAI(CARD))(ISABA2(CADRD))(INCRBGTEMPI2'UP's(CADDRD))(INCRB(CADDRD)'EXSGTEMPI2J(ThislostINCRBsaysthatifanoperationfmapsontorangeC,andweapplyfandgetanewBeing,thenthatBeingISAC)66(INCRB3GTEMP12'IN-RAN-OFGUPi)(INCRBBA2'IN-DOM-OFGUPi)Similartolastcase.takescareofmissingsecondargument.Theampersand,"A',indicatesanomissionfromthislisting.60Anabbreviationfor(APPLYB'ANY-CONCEPT'DEFNBAI);is.,testwhetherBlAtisabonsfideconceptornot.SICREATEBisafunctionwhichsetsupanowblankdatastructureforanewconcept.62Thefunctioncall(INCRBCFX)means:addentryXtotheFfacetofconceptC.63TheLISPfunctson*0*islikeadoublequote;afteroneevaluation(0X)returns%Xafteronemoreevaluation,XreturnsX;afterafinalevaluation,wegettheVALUEofX04Aconditionalprintstatement.Iftheverbositylevelishighenough(>9),thismessageistypedouttotheuser.Notetheintermixingofvariables(eg.,"GTEMP3OS")andundefinedatoms(eg.,'equivalent").CPRINISexamineseachargument,andifitisundefined,itquotesit.-5TheISA'sfacetiscalled"UP"intheLISPprogram.66Thisisastreamlined,specializedversionofthemoregeneralheuristicrulenumber154;seepage259.Appendix2AMDiscoveryinMathematicsisHeuristicSearch9(INCRBBAI'IN-DOM-OFGUPI)(NowseeifthecompositionGTEMP12sharesanyI$A'sentrieswitheitherconstituentoperation:BAIor8A2)7[MAPC(INTERSECTION(SET-DIFF(UNION(GET8BAl'UP)(GETBBA2'UP)(GETBGTEMPI'UP)(FUNCTION(LAMBDA(Z)(COND((DEFNZGTEMPI2)(INCRBZ'EXSGTEMP12)(INCRBGTEMP12'UPZ](COND[(GETBGTEMP12'UP)(SETBGTEMP12'GUP(COPY(GETBGTEMP12'UP](T(INCRBGTEMP12'UP'OPERATION)(INCRB'OPERATION'EXSGTEMP12)))&(*AsimilarsearchnowforGENL/SPECofthecomposition)(SETs3QTEMPI2'D-R(CARGTEMP1J))(INCRBGTEMP12'ALOS(LIST'TYPE'NONRECURSIVE'APPLICATION'OFGUPi(CADRGTEMP11))3&(*CodeforsynthesizingaDefnentryforGTEMP12)(SETBGTEMP12'WORTH(MAP2CAR(GET8BAlI'WORTH)(GETSBA2'WORTH)'TIMES1000))(GS-CHECK6'GTEMP12]))))VAppearanceonpage178:Algorithms:Distributed:usetheheuristicsattachedtoComposetoguidethefillinginofvariousfacetsofthenowcomposition.(TheheuristicsreferredtooaeshownInAppendix3.6,onpage263.)Fillin:5(outofatotalof9)heuristics.Check:1heuristic(outofatotalof2)UP(OPERATION)Appearancconpage178:ThisnextMAPCisthustheLISPencodingofheuristicruienumber177;seepage263.68Thisisageneral-purposefunctionfortestingthatthereisnohiddencycleintheGeneralizationnetwork,thatnotwoconceptsarebothgeneralizationsandspecializationsofeachother,unlesstheyaretolledasbeingequivalenttoeachother.Appendix2AMDiscoveryinMathematicsasHeuristicSearch-220-WORTH(300)Appearanceonpage178:['Wrth300INT11[(IMATRIX(123)(45))(COND[(INTERSECTION(MAPAPPEND(GETBBA2'D-R)'LAST)(MAPAPPEND(GETBBAI'D-R)'ALL-BUT-LAST))300(1DIFF400(ITIMES100(IPLUS(LENGTH(GETBBA1'D-R))(LENGTH(GETBBA2'D-R](REASON(*Insomeinterpretation,Range-of-op2is1componentofDomain-of-opl)))(COND([MEMB[CAR(LAST(CAR(GETBBA2'D-R](ALL-BUT-LAST(CAR(GETBBAI'D-R]400(1DIFF1000(ITIMES100(LENGTH(CAR(GETBBAl'D-R](REASON(*Incanonicalinterpretation,Range-of-op2isacomponentofDomainofopl)))(COND[(INTERSECTION(GETBCS-BTIES)(UNION(GETBBAITIESXGETBBA2TIES)))100(ITIMES100[LENGTH(INTERSECTION(GETBCS-BTIES)(UNION(GETSBAtTIESXGETBBA2TIES])(REASON(*Thiscompositionpreservessomegoodpropertiesofitsconstituents))])(COND[(SET-DIFFERENCE(GETBCS-BTIES)(UNION(GETBBA1TIESXGETBBA2TIES)))100(ITIMES100[LENGTH(SET-DIFFERENCE(GET8CS-BTIES)(UNION(GETBBAlTIESXGETBBA2TIES])(REASON(*Thiscompositionhassomenewprops,nottrueofeitherconstituent)))(COND[(OR(GREATERP(GETBBAI'WORTH)500))(GREATERP(GETBBA2'WORTH)500)))300(IQUOTIENT(ITIMES(GETBBAI'WORTH)(GETBBA2'WORTH))1000)(REASON(*Opland/orOp2areveryinterestingthemselves))])(COND[[IS-ONE-OF[CAR(LAST(CAR(GETBBA2'D-RJ(ALL-BUT-LAST(CAR(GETBBAl'D-R]350(IDIFF[ITIMES100(1DIFF[LENGTH(CAR(GETSBAl'D-R)(LENGTH(RIPPLE[IS-ONE-OF[SETQTMP4(CAR(LAST(GETBBA2'D-RJ(ALL-BUT-LAST(CAR(GETBBAI'D-R)'GENLI(ITIMES50(LENGTH(RIPPLETMP4'GENLJ(REASON(*Incanonicalinterpretation,Range-of-op2isaspecializationofacomponentofDomain-of-opi)))69NotethatalthoughtheFillinandSuggestheuristicsareblendedintotherelevantfacets(e.g.,intotheAlgorithmsforCOMPOSE),theINTERESTINGNESStypeheuristicsarekeptseparate,inthisfacet.Appendix2AMDiscoveryinMahemsticsasHeuristicSatch-221-(COND([MEIVB[CAR(LAST(CAR(GETSBA1'D-RJ~ALL-BUT-LAST(CAR(GETSBA2'D-R]450(IPLUS300(COND((EMB[CAR(LAST(CAR(GETSSA1'D-R]3(ALL-BUT-LAST(CAR(GETSBAI'D-RJ10)(T250))(CONO([MEMB[CAR(LAST(CAR(GETS8142'D-RJ(ALL-BUT-LAST(CAR(GETSBA2'D-RJ(T250))(ITIMES70(LENGTH(RIPPLE[CAR(LAST(CAR(GETSBSAl'D-R)'GENL)(REASON(*Incanonicalinterpretation,Range-of-opiisonecomponentofDomain-of-op2))(COND((ISA[CAR(LAST(CAR(GETSSAl'D-RJ(ALL-BUT-LAST(CAR(GETSBA2'D-RJ250(IPLUS50(MOND((ISA[CAR(LASt(CAR(GETSSAl'D-RJ10(ALL-BUT-LAST(CAR(GETSBAl'D-R)(T100))(COND((ISA(CAR(LAST(CAR(GETSBA2'0-R](ALL-BUT-LAST(CAR(GETS5A2'D-RJ11)(T100))(ITIMES50(LENGTH(RIPPLE[CAR(LAST(CAR(GETSSAl'D-R)'GENL)*(REASON(*Range-of-opiisaspecializationofacomponentofDomain-of-op2JAppearanceonpage178:*Interest:I1Iheuristics.HereisthecodeforCON-MERGE-AROS,thefunctionwhichdecideshowtooverlapthedomain/rangefacetsofitstwoarguments,F)andF2:(CON.MERGE.ARGS(LAMBDA(FtF2F12PGMISCHKSAPLDOMI0GM2RANIRAN?TIL00M3)(SETORANI(LAST(CAR(GETSFt'0-RJ*(SETO0GMI(101FF(CAR(GETSFt10.R))RAN]I))[SETORAN?(LAST(CAR(GETSF2'0-Ri(SETO0GM?(LDIFF(CAR(GETSF2'D-R))~SETQ00M3RAN?))[STO3(AND(CDRDOMI)(LIST(CADR(MIN2(APPENDRAN?RAN?RAN?RAN?)DCMI'FRAC-OVERLAPJ(AsDOMiandRANiarelocated,SwitchingofArg.mayberequired,insidePGMt)(AND(MEMS(CARDOW30GM2)(SETO00113NIL)Append~x2AMDiscoveryinMathematicsasHeuristicSearch-222-(SETQGTEMP20(LENGTH00M2))[SETOSAPL(NCONC(LIST'APPLYB(KWOTEFl1)(0AIGS))(MAPCAR(SUB-ONCE'X(SETOGTEMP19(COND((S-ONE-OF(CARRAN2)001.4)((SETOSCHK(ONE.ISAGDOMI(CARRAN21((SETQSCHK(AND(SETOTIL(EXS(CARRAN2))(CAR(SOMEDOMI(FUNCTION(LAMBDA(D)(INTERSECTIONTILDOMI)(EXS0](FUNCTION(LAMBDA(Z)(COND((QZ'X)'X)(T(SETOGTEMP20(ADDIGTEMP2O))(CAR(FNTHBA-LISTGTEMP201(SCHKisaflagwhich.meansthat112mapsusintoinelementofRAN2vthichisnotguaranteedaprioritobeanelementofDOMI,henceacheckforthisapplicabilityz1ftIwillthenhavetobemade)(COND((FMEMB'XSAPL)(SETQDOM3(REM-ONCEGTEMPISDOM0)(SETOGTEMP7(APPEND00M3DOM2))[COND[(NEQ(LENGTHGTEMP7)(LENGTH(SEIF-INTGTEMP7)))(CPRINISgCRLFCRLFAMcanlatercoalescetheD.RofF12OCR)(ADD-CANDS(LIST(LIST(LIST'APPLYS(0COALESCE)(0ALGS)(KWOTEF12))(IPIIJS100(IQUO(DOTPROD(FIRSTN2(GETBFl'WORTH))(GETBF2'WORTH))2000))(LIST(SPLISTThereisanoverlapinthenewcombineddomainoftheoperationF12)(SWHYC)(Thereisanobviousoverlapin(vGTEMP7),th.newcombineddomainof(0F12)Thenextpieceofthisfunctionistheheuristicrulenumbered186inAppendix3.([SOMEGTEMP7(FUNCTION(LAMBDA(X)(IS-ONE-OFX(CDR(FMEMBXGTEMP7](CPRINIS10CRLFCRLFAMmaylatercoalescetheD-RofF12OCR)(ADO-CANDS(LIST(LIST(LIST'APPLYB(0COALESCE)(0ALOS)(KWOTEF12))(IQUO(DOTPROD(FIRSTN2(GETBFl'WORTH))(GETBF2'WORTH))2500))(LIST(SPLISTTheremaybeanoverlapinthenewcombineddomainoftheoperationF121(SWHY1O(Thereisasubtleoverlapin(@GTEMP7),thenewcombineddomainof(0F121[SETOPOMI(LIST'PROG(LISTVX[LIST'SETO'X(NCONC(LIST'APPLYB(KWOTEF2)(QALGS))(FIRSTN(LENGTHDOM2)(LIST'BAI'BA2'BA3J(LIST'RETURN(COND(SCHK(LIST'AND(LIST'APPLY,(0DEFN)(KWOTESCHK)'XSAPL))(T(LIST'AND'XSAPL)(LIST(LIST(APPENDDOM2DOM3RAN)))PGM)(T(Composingisnotpossible)NIL).*'.-...-*-:--0-----Appendix2AMDiscoveryinMathematicasHeuistic$torch-23Aependix2.3,2.The'Osets'ConeptHereistheactualpropertylistofthedata-structurecorrespondingtotheOsetsconcept:ENGN(OSETOsetOset-structureOSET-STRUC,Ordered-set(Set))DFYNi(TYPENEC&SUFFRECURSIVETRANSPARENT[COND((QUALBA!(OSET))T)(T(APPLYB'OSET'DEFN(APPLYB'OSET-DELETE'ALGS(APPLYB'SOME-MEMS'ALOSBA!I)BA!))(TYPENEC&SUFFRECURSIVEQUICK(COND((EQUALBAI'(OSET))T)((CDDRBA1)(APPLYS'OSET'DEFN(RPLACDBA!I(CODRBA!1)))(TNIL)(TYPENEC&SUFFNONRECURSIVEQUICK(MATCHBAIWITH('OSET8)GLNL(ORD-STRUCNO-MULT-ELES-STRUC.)WORTHi(400)N-DOM-OF(OSET-JOINOSET-INTERSECTOSET-DIFFOSET-INSERT0SET-DELETE)IN-RAN-OF(OSET-JOINOSET-INTERSECTOSET-DIFFOSET-INSERTOSET-DELETE)VIEW(STRUCTURE(RPLACAB3A!'OSET))Comparethiswiththewaythatthe"Osets".conceptappeared,onpage214ofAppendix2.1:*Namne(s):Oset,Oset-atructure,Ordered-set,somestImes:Set.Definitions:Reursive:X~(S)(SolorOest.Detintlon(Oset-Deite.A(MembrAlg(S),S))jRecursivequick:X.(S)(So[orOset.Definltion(COR(S)))Quick:X(5)(MatchSwith(...])Generalizations:Ordered-Structure,No-mutipe-oeents-StructureWorth:400In-domaln-of:Oset-union,Diet-intersect,Oset-differenco,Diet-Insert,Duet-delete,In-range-of:Oset-unlon,Duet-intersect,Duet-difference,Oset-Insert,Ost-deleteViewsToviewanystructureasaOset,do:X~(x4Enclose-in-square-brackets(x)Appendix2AMDiscoveryinMathematicsasHeuristicSearch-224-Appendix-".ConceptscreatedbyAMThelistbelowismeanttosuggesttherangeofAM'sdefinitions;itisfarfromcomplete,andmostoftheomissionswerereallosers.Theconceptsarelistedintheorderinwhichtheyweredefined.70Inplaceofthe(usually-awkward)namechosenbyAM,Ihavegiveneitherthestandardmath/Englishnamefortheconcept,orelseashortdescriptionofwhatitis.Setswithlessthan2elements(singletonsandemptysets).Setswithnoatomicelements(nestsofbraces).Singletonsets.Bagscontaining(multipleoccurrencesof)justonekindofelement.Superset(contains).Doubletonbagsandsets.Set-membership.Disjointbags.Subset.Disjointsets.Singletonosets.Same-length(samenumberofelements).Samenumberofleftparentheses,plusidenticalleftmostatoms.Count(findthenumberofelementsofagivenstructure).Numbers(unaryrepresentation).Add.Minimum.SUBI(;k(x)X-1).InsertxintoagivenBag-of-T's(almostADDI,butnotquite).Subtract(except:ifx<y,thentheresultofx-ywillbezero71).Lessthanorequalto.Times.Unionofabagrfstructures.&(theampersandrepresentsthecreationofseveralreallosers.)ComposeagivenoperationFwithitself(formFoF).InsertstructureSintoitself.TrytodeletestructureSfromitself(aloser).Double(add'x'toitself).Subtractx'fromitself(asanoperation,thisisarealzero72).Square(TIMES(x,x)).UnionstructureSwithitself.Coalesced-replace2:replaceeachelementsofSbyF(s,s).Coalesced-join2:appendtogetherF(s,s),foreachmembers(S.Coa-repeat2:createanewopwhichtakesastruc5,opF,andrepeatsF(s,tS)allalongS.Composethreeoperations:(F,G,H)Fo(GoH).Composethreeoperations:;,(F,G,H)(FoG)oH.70SeeAppendix5.2,p.294,foradetailedtraceofhowtheseconceptswerediscovered.OrseeSection6.1,p.115,forabrieferversionofthesamedevelopment.72Thisis"natural-mumbersubtract',inthesamespiritofnhmingaswefindfor"Integerdivision*.72snaturalzero?Appendix2AMDiscoveryinwheImaticsasHeuristicSearch-225-&(tsoflosingcompositionsc".isted,e.g.Self-lnsertoSet-union.)ADD1I(x):allwaysofrepresentingxasthesumofabunchofnonzeronumbers.GeH,s.t.H(G(H(x)))itAlwaysdefined(whereverHIs),andGandH-areInterestin~g.InsertaDelete.Deleteolnsert.SizeoADD-1.(A(n)Thenumberofwaystopartitionn)CubingExponentiation.44Halving(innatualnumbersonly;thusHalving(15).7).Evennumbers.Integersquare-root.Perfectsquares.Divisors-of.Numbers.with-O-dlvisors.Numbers-with-1-divisor.Primes(Numbers-wlth-2-divisors).squaresofprimes(Numbers-wlth.SMivlsors).*Squaresofsquaresofprimes.Square-rootsofprimes(aloser).TIMES'I(x):allwaysofrepresentingxastheproductofabunchofnumbers(W).Allwaysofrepresentingxastheproductofjustonenumber(atrivialnotion).Allwaysofrepresentingxastheproductofprimes..~.Allwaysofrepresentingxasthesumofprimes.Allwaysofrepresentingxasthesumoftwoprimes.Numbersuniquelyrepresentableasthesumoftwoprimes.Productsofsquares.Multiplicationby1.Multiplicationby0.Multiplicationby2.Additionof0.Additionof1.Additionof2.Productofevennumbers.Sumofsquares.Sumofevennumbers.&(losers:variouscompositionsof3operations.)Pairsofperfectsquareswhosesumisalsoaperfectsquare(x2.y2uz2).Primepairs(pp.2areprime).-~-'UnW-.--.-'.w-.-,'-,-.-,w-,.W,ri.-r.-4v;t'-,,i--";A;..*-.p'.yb'*4U*".*h]L(-"h~~"'-i*-226-Appendix3.AM'sHeuristicsInfalliblerulesofdiscoveryleadingtothesolutionofallpossiblemathematicalproblemswouldbemoredesirablethanthephilosophers'stone,vainlysoughtbythealchemists.Suchruleswouldworkmagic;butthereisnosuchthingasmagic.Tofindunfailingrulesapplicabletoallsortsofproblemsisanoldphilosophicaldream;butthisdreamwillneverbemorethanadream.--PolyaTotheextentthataprofessorofmusicataconservatoirecanassisthisstudentsinbecomingfamiliarwiththepatternsofharmonyandrhythm,andwithhowtheycombine,itmustbepossibletoassiststudentsinbecomingsensitivetopatternsofreasoningandhowtheycombine.Theanalogyisnotfar-fetchedatall--DijkstraThisappendixlistsalltheheuristicswithwhichAMisinitiallyprovided.Theyareorganizedbyconcept,mostgeneralconceptsfirst.Withinaconcept,theyareorganizedintofourgroups:*Fillin:rulesforfillinginnewentriesonvariousfacets.*Check:rulesforpatchingupexistingentriesonvariousfacets.*Suggest:ruleswhichproposenewtaskstobreakAMoutofstagnantloops.interest:criteriaforestimatingtheinterestingnessofvariousentities.EachheuristicispresentedinEnglishtranslation.Wheneverthereisaverytricky,non-obvious,orbrillianttranslationofsomeEnglishclauseintoLISP,abriefnotewillfollowabouthowthatiscoded.Alsogiven(usually)aresomeexample(s)ofitsuse,anditsoverallimportance.Conceptswhichhavenoheuristicsarenotpresentinthisappendix.Hundredsofheuristicswereplannedonpaperbutnever:oded(e.g.,thosedealingwithprooftechniques,thosedealingwiththedrivesandrewardsofgeneralizedmessagesenders/receivers),andwholeclassesofruleswerecodedbutneverusedbyAMduringanyofitsruns(e.g.,howtodealwithcontradictions,howtodealwithIntu'sfacets).SuchsuperfluousruleswillnotbeIncludedhere.Theywouldraisethetotalnumberofheuristicrulesfrom242toabout500.TherulenumberinginthisAppendixisreferredtooccasionallyinotherappendices.ThetotalnumberofrulescodedinAMisactuallyhigher,sincemanyrulesarepresentbutneverused,andsincemanyruleslistedwithonenumberherearereallyseveralrulesinLISP(e.g.,seerules97and129).Apps"dix3AMDiscoveryinMatwmalicsasHeuriscSearch*227-Itwouldbeadvantageoustohaveacross-indexingofthebodyofheuristicsalongseveraldimensions(amultiplesortingbyasmallsetofkeyparameters):sortedbyinterest,byrelevance(thecurrentarrangement),bycost,bypayoff,byfrequencyofusage,etc.Thisisleftasastarredexcercisefortheinterestedreader.Appendix3AMDiscoveryinMathematicsasHeuristicSearch-228-Appendix3.1.HeuristicsfordealingwithAnythingAlltheserulesdealwithanyitemX,beitconcept,atom,event,etc.Theserulesareaboutasgeneralandasweakasonecanimagine.Anything.SuggestI.IfAMhasrecentlyreferencedentityX,ThenboostthepriorityofanytasksinvolvingX.2.IftheuserhasrecentlyreferredtoX,ThenboostthepriorityofanytasksinvolvingX.Theabovetworulessimplyreaffirmtheideaof"focusofattention".Theboostinratingsisonlyslight,andonlytemporary(itdecaystowardzeroexponentiallywithtime).Besidesthisgradualdeclineintaskratings,therulebelowexplicitlymodulatesthisboosting,sothatinfiniteloopscanbeided.3.IfAMhasrecentlydealtwithXwithpoorresults,ThenlowerthepriorityratingofalltasksinvolvingX.4.IfAMjustreferencedXandalmostsucceeded,butnotquite,ThenlookforaverysimilarentityY,andretrytheactivitywithYinplaceofX.Thereisaseparateprecisemeaningfor"almostsucceed","similarentity",and"retry"foreachkindofentityandactivitythatmightbeinvolved.Forexample,iftheactivitywereatask(saytofillinexamplesofOdd-primes)andtheentityXwereaconcept(inthiscase,Odd-primes),thena'similarentity'mightbetheconceptOdd-numbers,andinthatcasetheresultofthisrulewouldbeanewtask(tofillinexamplesofOdd-numbers).IfthefailureoccurredwhileAMwastryingtoaccesstheexamplesfacetofPrimes,withX-Examples,thena'similarentity'mightbetheBoundary-examplesfacet,andtheaboverulewouldsuggestthatAMaccessinsteadtheBoundary-examplesfacetofPrimes.Ofcourse,thisruleissoweakthatitisnotoftenofmuchhelp.5.Ifspaceisrunningout,andAMhasnotreferencedXforalongtime,andXistakingupalotofspace,andnoimportantconjecturesreferenceX,ThenXmaybeforgottenanditsspaceliberated.Probablytheusershouldbeinformedofthis,atleasttersely.justageneral-purposedirectiveforemergencygarbage-collection.Appendix3AMDiscoveryinMathematicsasHeuristicSearch-229-Anything.Interest6.AnyentityXisinterestingifitisreferrm.toInseveralinterestingconjectures.7.AnyentityXIsinterestingifitisrelated(viaarare,Interestingrelation)toanotherentitywhicharoseinaverydifferentwayandIsnotobviouslytiedtoX..Unexpectedconnectionsareworthcloserexamination,typically.Xmightbe'relatedto'YbecauseF(X)-Y(forsomeveryinterestingoperationF),becauseY(X)istrue(forsomerarely-satisfiedpredicateY),becausesomeconjectureinvolvingXissyntacticallyidenticaltothesameconjectureinvolvingY,etc.8.EntityXis(tentatively)interestingifthereisananalogyinwhichXcorrespondstoY,andY-hasturnedouttobeveryinteresting.9.IfentityXisanexampleofconceptC,andXsatisfiessomefeaturesonCInt,ThenXisinteresting,andC'sInterestingnessfeatureswillindicateanumericratingforX.ThisispracticallythedefinitonoftheIntfacet.Belowisamuchmoreususualrule:10.IfentityXisanexampleofconceptC,andXsatisfiesabsolutelynoneofthefeaturesonC.Int,andXIsjustabouttheonlyCwhichdoesn'tsatisfysomething,ThenXisinterestingbecauseofitsunusualboringness.SincemostsingletonsareinterestingbecauseallpairsoftheirelementsareEqual,theaboverulesaysitwouldbeinterestingactuallytofindasingletonforwhichnotallpairsofitsmemberswereequal.Whileitwouldbeinteresting,AMhasverylittlechanceoffindingsuchacritter.Appendix3AMDiscoveryinMathematicsasHeuristicSearch-230-Appendix3.2.HeuristicsfordealingwithAny-conceptThisconcepthasahugenumberofheuristics.Forthatreason,Ihavepartitionedoff-bothhereandinAMitself'theheuristicswhichapplytoeachkindoffacet.Appendix3.2.1.HeuristicsforanyfacetofAny-conceptThefirstsetofheuristicswe'lllookatareverygeneral,applyingtonoparticularfacetexactly.Any-concept.Fillin11.WhentryingtofillInfecztFof.onceptC,foranyCandF,IfCisanalogouttoconceptX,andX.Fhassomeentries,Thenirytoconstructtheanalogsofthoseentries,andseeiftheyarereallyvalidertriesforC.F.Recallthat"C.F"isshorthandfor"facetFofconceptC".ThisrulesimplysaysthatifananalogyexistsbctweentwoconceptsCandX,thenitmaybestrongenoughtomapentriesonX.FintoentriesforC.F.NotethatFcanbeanygivenfacet.ThereisananalogybetweenSetsandBags,andAMusestheaboveruletoturntheextremeexampleofSets-theemptysetintotheextremekindofbag.Any-concept.Suggest12.IftheFfacetofconceptXi4blank,Thenconsidertryingtofillitin.Theabovesuper.weakrulewillresultinanewtaskbeingaddedtotheagenda,foreveryblankfacetofeveryconcept.ItIsmoreofalegalmovegeneratorthanaplausiblemoveVproposer.TheratingofeachsuchtaskwilldependontheWorthoftheconceptXandtheoverallworthofthetypeFfacet,butInallcaseswillbeveysmall.The"emptiness"ofafacetisalwaysavalidre;sonfortryingtofillitin,butneveranaprioriimportantreason.OSotheneteffectoftheruleistoslightlybiasAMtowardworkingonblankratherthannon-blankfRrets.13.WhiletryingtofillinfacetFofconceptC;foranyCandF,ifCisknowntobesimilartosomeK:otherconceptD,exceptfordifferenced,ThentrytofillinCFbyselectingitemsfromD.Fforwhichdisnonexistent.ThisruleismademorespecificwhenFisactuallyknown,andhencetheformatofdisactuallydetermined.Forexample,ifC-Reverse-at-all-levels,F-examples,then(atoneparticularmoment)anoteisfoundontheConjecsfacetofconceptCwhichsaysthatCisiThustheLISPprogramhasaseparateconceptcalled"Exemples-of-any-concept",anotherconceptcalled"Definitions-of-any-concept",etc..!',Appendix3AINDiscoveryinmathemticsasHeuristicSearch-231-justliketheconceptDReverse-top.level,exceptCalsorecursonthenonatomicelementsofItsargumcnts,whcreasDdoesn't.ThusdismadenullbychoosingexamplesofDforr*-"whichtherearenononatomicelements.Soanexamplelike'Reverse-top-level(<abc>)-<cba>'willbeselectedandwillleadtotheproposedexample'Reverss-at-all-levelsl'abc>)cb&>',whichIsinfactvplid.14.AfterdenlingwithconceptC,Siightly,temporarlyboostthepriorityvalueofeachexistingtaskwhichinvolvesanActive4onceptwhsedomsnorrangeisC.ThisisdoneefficientlyusingtheIn-dom-ofandIn-ran-offacetsofC.Atypicalusagewasaftercheckingthejust-filled-inexamplesofBags,when,AMslightlyboostedtheratingoffillinginexamplesofBag-union,andthistaskjustbarelysqueakedthroughasthenextonetobechosen.Notethattherulereinforcedthattasktwice,sincebothdomainandrangeofBag-unionarebags.Any-concept.Check0N15.WhencheckingfacetFofconceptC,(foranyFandC,)JPruneawayattheentriesthereuntilthefacet'ssizeisreducedtothesizewhichCmerits.Thealgorithmfordoingthisisasfollows:TheWorthofCismultipliedbytheoverallworthoffacettypeF.ThisIsnormalizedintwoways,yieldingthemaximumamountoflistY.'..cellsthatC.Fmayoccupy,andalsoyieldingthemaximumnumberofseparateentriestokeeparoundonC.F.IfeitherlimitIsbeingexceeded,thenanentryispluckedatrandom(butweightedtofavorselectionfromtherearofthefacet)andexcised.ThisrepeatsaslongasC.Fisoversized.Asspacegrowstight,thenormalizationweirt".sdecline,soeachconcept'sallocationisreduced.1L.WhencheckingfacetFofconceptC,Eliminateredundantentries.Zi:Althoughitmightconceivablymeansomethingforanentrytooccurtwice,thiswasneverdesirableforthesetoffacetswhicheachAMconceptpossessed.Any-conceptInterestTheinterestfeaturesapplytotellhowInterestingaconceptis,andarerarelysubdividedbyrelevantfacet.Thatis,mostofthereasonsthatAnyconceptmightbeinterestingwillbeFgivenbelow.17.AconceptXisinterestingifX.Conjecscontainssomeinterestingentries.k,.18.Aconceptisinterestingifitsboundaryaccidentallycoincideswithanother,well-known,interestingconcept."SJAppendix3AMOicoveryinMathematicsasHeuristicSearch-232-Theboundaryofaconceptmeanstheitemswhichjustbarelyfallinto(orjustbarelymisssatisfying)thedefinitionofthatconcept.ThustheboundaryofPrimesmightinclude1,2,3,4.IftheboundaryofEvennumbersincludesnumbersdifferingbyatmostIfromanevennumber,thenclearlytheirboundaryisallnumbers.Thusitcoincideswiththealready-knownconceptNumbers,andthismakesEven-nosmoreinteresting.Thisexpressesthepropertyweintuitivelyunderstandas:nonumberisveryfarfromanevennumber.19.Aconceptisinterestirgifitsboundaryaccidentallycoincideswiththeboundaryofanother,verydifferent,intrestingconcept.Thus,forexample,PrimesandNumbersarebothalittlemoreinterestingsincetheextremecasesofnumbersareallboundarycasesofprimes.EvennumbersandOddnumbersbothhavethesameboundary,namelyNumbers.ThisIsatiebetweenthem,andslightlyraisesAM'sinterestinbothconcepts.20.Aconceptisinterestingifitis--accidentally--preciselytheboundaryofsomeother,interestingconcept.Inthecasementionedfortheaboverule,Numbersisraisedininterestbecauseitturnsouttobetheboundaryforevenandoddnumbers.21.Aconceptisboringif,afterseveralattempts,onlyacoupleexamplesarefound.Anotherruleindicates,insuchsituations,thattheconceptmaybeforgottenandreplacedbysomeconjecture.22.ConceptCisinterestingifsomenormally-inefficientoperationFcanbeefficientlyperformedonC'IS.ThusitisveryfasttoperformInsertofitemsintolistsbecause(i)nopre-existencecheckingneedbedone(aswithsetsandosets),and(ii)noorderedmergingneedbedone(aswithbags).So"Lists"Isaninterestingconceptforthatreason,accordingtotheaboverule.23.ConceptCisinterestingifeachexampleofCaccidentallyseemstosatisfytheotherwise-rarelysatisfiedpredicateP,or(equivalently)ifthereisanunusualconjectureinvolvingC.Thisisalmostaprimitiveaffirmationofintererestingness.24-ConceptCisinterestingifCiscloselyrelatedtotheveryinterestingconceptX.Thisisintererestingnessbyassociation.AMwasinterestedinDivisors.ofbecauseitwascloselyrelatedtoTIMES,whichhadproventobeaveryinterestingconcept.25.ConceptCisinterestingifthereisananalogyinwhichCcorrespondstoY,,ndtheanalogsoftheInterestfeaturesofYindicatethatGisintorusiing.Thismighthavebeenaveryusefulrule,ifonlytherehadbeenmoredecentanalogiesfloatin.garoundthesystem.Asitwas,therulewasrarelyusedtoadvantage.ItessentiallysaysthattheanalogsofInterestcriteriaarethemselves(probably)validcriteria.Appendix3AMDiscmeryinMathematicsasHeuristicSerch-233-26.AconceptCisinterestingifoneofitsgeneralizationsorspecializationsturnsouttobeunexpectedlyveryInteresting,"Unexpected"meansthattheInterestingpropertyhadn'talreadybeenobservedforC.IfCisinterestinginsomeway,andthenoneofitsgeneralizationsisseentobeinterestinginexactlythesameway,thenthatIs"expected*.It'salmostmoreinterestingifthesecondconceptunexpectedlylackssomefundamentalpropertyaboutC.AtleastinthatcaseAMmightlearnsomethingaboutwhatgivesCthatproperty.Infact,AMhasthisrule:27.IfconceptCpossessessomeveryinterestingpropertylackedbyoneofitsspecializationsS,ThenbothCandSbecomeslightlymoreinteresting.IntheLISPprogram,thsIscloselylinkedwithrule104.28.IfaconceptCisre-derivedinanewway,thatmakesitmoreinteresting.IfconceptsClandC2turnouttobeequivalentconcepts,thenmergethem.Thecombinedconceptisnowmoreinterestingthaneitherofitspredecessors.Thetwoconditionalsabovearereallythesamerule,sotheyaren'tgivenseparatenumbers.ClandC2mightbeconjecturedequivalentbecausetheirexamplescoincide,eachisageneralizationoftheother,theirdefinitionscanbeformallyshowntobeequivalent,etc.Thisruleissimilarinspirittorulenumber114.Aendix3.2.2.HeuristicsfortheExamplesfacetsofAny.conceptThefollowingheuristicsareusedfordealingwiththemanykindsofexamplesfacetswhichaconceptcanpossess:non-examples,boundaryexamples,Isalinks,etc.Any-concept.Examples.Fillin29.TofillinexamplesofX,whereXisakindofY(forsomemoregeneralconceptY),InspecttheexamplesofY;someofthemmaybeexamplesofXaswell.ThefurtherremovedYisfromX,thelesscost-effectivethisruleis.ForthetaskoffillinginEmpty-structures,AMknowsthatconceptisaspecializationofStructures,soItlooksoverallthethen-knownexamplesofStructures.Sureenough,afewofthemareempty(satisfyEmpty.structures.Defn).Similarly,forthetaskoffillinginexamplesofPrimes,thisrulewouldhaveAMnoticethatPrimesisakindofNumber,andthereforelookoveralltheknownexamplesofNumber.Itwouldnotbecost-effectivetolookforprimesbytestingeachexampleofAnything,andthethirdandfinalclauseintheaboveruler-cognizesthatfact.30.TofillInnon-examplosofconceptX,SearchthespecializationsofX.Lookatalltheirnon-exemples.Someofthemmayturnouttobenon-examplesofXaswell.Thisruleisthecounterpartofthelastone,butfornon-examples.Asexpected,thiswaslessusefulthantheprecedingpositiverule.Appendix3AMDiscoveryinMathematicsisHeuristicSearch-234-31.IfthecurrenttaskistofillinexamplesofanyconceptX,ThenonewaytogotthemistosymbolicallyinstantiateadefinitionofX.Thatrulesimplysaystousesomeknowntricks,somehacks,towringexamplesfromadeclarativedefinition.OnetrickAMknowsaboutistoplugalready-knownexamplesofXintotherecursivestepofadefinition.Anothertrickissimplytotrytoinstantiatethebasestepofarecursivedefinition.Anothertrickistotakeadefinitionoftheform"k(x)xisaP,and<sub.expression>",workoninstantiatingjustthesub-expression,andthenpopbackupandseewhichofthoseitemsareP's.32.Ifthecurrenttaskistofillinnon-examplesofconceptX,Thenonefastwaytogetthemistopickanyrandomitem,anyexampleofAnything,andcheckthatitfailsX.Defn.ThisisanaffirmationthatforanyconceptX,mostthingsintheuniversewillprobablynotbeX's.Thisrulewasalmostneverusedtogoodadvantage:non-examplesofaconceptXwereneversoughtunlesstherewassomereasontoexpectthattheymightnotexist.Inthosecases,thepresumptionoftheaboverulewaswrong,anditfailed.Thatis,therulesucceedediffitwasnotneeded.233.TofillinexamplesofconceptX,IfX.ViewtellshowtoviewaZasifitwereanX,andsomeexamplesofZareknown,ThenjustrunX.Viewonthoseexamples,andcheckthattheresultsreallyareX's.Thusexamplesofosetswerefoundbyviewingotherknownexamplesofstructures(e.g.,examplesofsets)asiftheywereosets.34.TofillinexamplesofconceptX,FindanoperationwhoseringeisX,3andfindexamplesofthatoperationbeingapplied.TofillinexamplesofEven-nos,thisrulemighthaveAMnoticetheoperation'Double'.AnyexampleofDoublewillcontainanexampleofanevennumberasItsvalue:e.g.,<S-*6>containstheevennumber6.35.IfthecurrenttaskistofillinexamplesofconceptX,OnebizarrewayistospecializeX,addingastrongconstrainttoX.Defn,andthenlookforexamplesofthatnewspecialization.Liketheclassical"insaneheuristic"4thissoundscrazybutworksembarassinglyoften.IfIaskyoutofindnumbershavingaprimenumberofdivisors,therateatwhichyoufindthemwillprobablybelowerthanifI'daskedyoutofindnumberswithprecisely2divisors.Thevarietyofexampleswillsuffer,ofcourse.Theconverseofthisheuristicfornon-exampleswasdeemedtoounaesthetlctofeedtoAM.2Catch-22?3oratleastINTERSECTSXUsetheIn-ran-offacetsandtheripplingmechanismtofindsuchanoperation.Ah.rdertaskmightbe;e;siirtodo.Astrongertheoremmightbeeasiertoprove.Thisiscalled'TheInventor'sParadox",onpage121of[Poly,57.-i.01k.,._,,.Appendix3AMDiscoveryinMathematicsasHeuristicSearch-235-36.TofillinexamplesofX,OneinefficientmethodistoexaminerandomexamplesofAnything,checkingeachbyrunningX.DefntoseeifitisanX.SlightlybetteristorippleoutwardfromXinalldirections,testingailtheexamplesoftheconceptsencountered.Thisisblindgenerate-and-test,andwas(luckily)notneededmuchbyAM.37.TofindmoreexamplesofX(or:tofindanextremeexampleofX),whenanicebigexampleisknown,andXhasarecursivedefinition,Trytoplugtheknownexampleintothedefinitionandproduceasimplerone.Repeatthisuntilanexampleisproducedwhichsatisfiesthebase-steppredicateofthedefinition.That.--entityisthenanextreme(boundary)exampleofX.Forexample,AMhadadefinitionofasetas"Set(S)IfSi)orIfSet(Remove-random.element(S))."WhenAMfoundthebigexample{A,B,{{C),D},{{{Ef)},F)bysomeothermeans,itusedtheaboveruleandonherecursivedefinitiontoturnthisinto{A,B,{{{EJ}},F}byremovingtherandomly-chosenthirdelement.-A,B,F}wasproducednext,followedby{B,F}and(F).Afterthat,{)wasproducedandtherulerelinquishedcontrol.38.TofindexamplesofX,whenXhasarecursivedefinition,OnemethodwithlowsuccessratebuthighpayoffIstotrytoinvertthatdefinition,therebycreatingaprocedureforgeneratingnewexamples.Usingthepreviousexample,AMwasabletoturntherecursivedefinitionofasetintotheprogram"Insert-any-randomitem(S)",whichturnsanysetintoa(usuallydifferentandlarger)newset.SincetheruleswhichAMusestodothesetransformationsareveryspecial.purpose,theyarenotworthdetailinghere.Thisisoneverymanagableopenproblem,wheresomeonemightspendsomemonthsandcreateadecentbodyofdefinition-inversionrules.AtypicalruleAMhas-says:"Anyphrasematching'RemovinganxandensuringthatP(x)'canbeinvertedandturnedintothisone:'FindinganyrandomxforwhichP(x)holds,theninsertingx'."TheclassofdefinitionswhichcanbeinvertedusingAM'sexistingrulesisquitesmall;wheneverAMneededtobeabletoinvertanotherparticulardefinition,theauthorsimplysuppliedwhateverruleswouldberequired.39.WhilefillinginexamplesofC,iftwoconstructsxandyarefoundwhichareverysimilaryetonlyoneofwhichisanexample-"oftheconceptC,ThenoneisaboundaryexampleofC,andtheotherisaboundarynon-example,andit'sworthcreatingmoreboundaryexamplesandboundarynon-examplesbyslowlytransformingxandyintoeachother.N:ThuswhenAMnoticesthat(a)and{a,b,a}aresimilaryetnotbothsets,itcreates{a,b},{b,a},{a,a)andseeswhichareandarenotexamplesofsets.Inthisway,someboundary_items(bothexamplesandnon.examples)arecreated.Therulesforthisslowtransformationareagainspecialpurpose.Theyexaminethedifferencebetweentheitemsxandy,andsuggestoperators(e.g.,Deletion)whichwillreducethatdifference.ThisOPS-likestrategyhasbeenwellstudiedbyothers,anditsinferiorimplementationinsideAMwillnotbedetailed.-xS....----:K1--Appendix3AMDiscoveryinMathematicsasHeuristicSearch-236-40.Ifthemaintasknowistofillinexample:,ofconceptC,Consideralltheexamplesof"firstcouz'lns"ofC.SomeofthemmightbeexamplesofCaswell.By"firstcousins",wemeanalldirectspecializationsofalldirectgeneralizationsofaconcept,orviceversa.Thatis,goinguponcealongaGenilink,andthendownoncealongaSpeclink(orgoingdownonelinkandthenuponelink).41.Ifthemaintasknowistofillinboundary(non-)examplesofconceptC,Consideralltheboundary(non-)examplesof"firstcousins"ofC.SomeofthemmightlieontheboundaryofCaswell.Iftheyturnoutnottobeboundaryexamples,theycanberecordedasboundarynon-examples,andviceversa.42.TofillinIsalinksofconceptX,(thatis,tofindalistofconceptsofwhichXisanexample),Justrippledownthetreeofconcepts,applyingadefinitionofeachconcept.Wheneveradefinitionfails,don'twastetimetryingany-1itsspecializations.TheIss'sofXarethenalltheconceptstriedwhosedefinitionspassedX.Whenanewconceptiscreated,e.g.,anewcomposition,thisrulecanascertainthemostspecificIsalinksthatcanbeattachedtoit.Anotheruseforthisrulewouldbe:IftheIsalinknetworkevergotfouledup(containedparadoxes),thisrulecouldbeusedtostraighteneverythingout(withalogarithmicexpenditureoftime).Any-concept.ExamplesSuggest43.Ifsome(butnotmost)examplesofXarealsoexamplesofY'(forsomeconceptY),andsome(butnotmost)examplesofYarealsoexamplesofX,Createanewconceptdefinedastheintersectionofthosetwoconcepts(XandY).Thiswillbeaspecializationofbothconcepts.Ifyouhapentonoticethatsomeprimesarepalindromic,thisrulewouldsuggestcreatingabrandnewconcept,definedasthesetofnumberswhicharebothpalindromicandprime.AMneveractuallynoticedthis,sinceitrepresentedallnumbersinunary.Ifpushed,AMwilldefinePalindrome(n)tomeant.&tthesequenceofexponentsofprimefactorsissymmetric;thus23315171118133ispa'indromicinAM'ssensebecausethesequenceofitsexponents(381I83)isunchangeduponreversal.Inthissense,theonlyPrimepalindromesaretheprimesthemselves(or:just'2',dependingupontheprecisedefinition).44.IfveryfewexamplesofXarefound,Thenaddthefollowingtasktotheagenda:"GeneralizetheconceptX",forthefollowingreason:"X'sarequiterare;aslightlylessrestrictiveconceptmightbemoreinteresting".Ofcourse,AMcontainsaprecisemeaningforthephrase"veryfew".WhenAMlooksforprimesamongexamplesoralready-knownkindsofnumbers,itwillfinddozensofnon-examplesforeveryexampleofaprimeItuncovers."Veryfew"isthusnaturallyimplementedasastatisticalconfidencelevel.AMusesthisrulewhenveryfewexamplesofEqualityarefoundreadily.Appendix3AMDiscoveryinMathematicsasHeuristicSearch-237-45.IfverymanyexamplesofXarefoundinashortperiodoftime,Thentrytocreateanew,specializedversionofX.Thisissimilartotheprecedingrule.Sincenumbersareeasytofind,thismightcauseustolookforcertainmoreinterestingsubclassesofnumberstostudy.46.IftherearenoknownexamplesfortheinterestingconceptX,Thenconsiderspendingsometimelookingforsuchexamples.I'veheardofamathstudentwhodefinedasetofnumberwhichhadquitemarvelousproperties.Afterthe20thincredibletheoremaboutthemhe'dproved,someonenoticedthatthesetwasempty.Thedangerofunwittinglydealingwithavacuousconceptisevenworseforamachinethanforahumanmathematician.Theaboveruleexplicitlypreventsthat.47.IfthetotalityofexamplesofconceptCistoosmalltobeinteresting,Thenconsiderthesereactions:(i)generalizeC;(ii)forgetCcompletely;(iii)replaceCbyoneconjecture.Thisisagoodexampleofwhenatasklike"FillingenoralizationsofNumbers-with-I-divisors"mightgetproposedwithahigh-priorityreason.TheclassofentitieswhichCencompassesissimplytoosmall,tootrivialtobeworthmaintainingaseparateconcept.WhenCisnumbers-with-I-divisor,Cisreallyjustanotherdisguiseforthesingletonset{1}.Theaboverulemightcauseanewtasktobeaddedtotheagenda,FillingeneralizationsofNumbers-with-I-divisor.Whenthattaskisexecuted,AMmightcreatetheconceptNumbers-with-odd-no-of-divisors,Numbers-with-prime-number-of-divisors,etc.Besidesgeneralizingthatconcept,theaboverulegivesAMtwootheralternatives.AMmaysimplyobliteratethenearly-vacuousconcept,perhapsleavingaroundjustthestatement"Iistheonlynumberwithonedivisor".ThatconjecturemightbetackedontotheConjecsfacetofDivisors-of.Theactualrulewillspecifycriteriafordecidingwhichofthethreealternativestotry.Infact,AMreallystartsallthreeactivities:ataskwillalwaysbecreatedandaddedtotheagenda(togeneralizeC),thevacuousconceptwillbetaggedas"forgettable",andAMwillattempttoformulateaconjecture(theonlyitemssatisfyingC.DefnareC.Exs).48.IfthetotalityofexamplesofconceptCistoolargetobeinteresting,Thenconsiderthesethreepossiblereactions:(i)specializeC;(ii)forgetCcompletely;(iii)replaceCbyoneconjeciure.Thisisanalogoustotheprecedingrule,butisusedfarlessfrequently.Onecommonuseiswhenadisjunctionoftwoconceptshasbeenformedwhichisaccidentallylargeoralready-known(e.g.,"EvensuOdds"wouldbereplacedbyaconjecture).49.AfterfillinginexamplesofC,ifsomeexampleswerefound,LookatalltheoperationswhichcanbeappliedtoC's(thatis,accessC.In-dom-of),findthosewhichareinterestingbutwhichhavenoknownexamples,andsuggestthatAMfillinexamplesforthem,becausesomeitemsarenowknownwhichareintheirdomain,namelyC.Exs.ThisrulehadAMfillInexamplesofSet-insertion,assoonassomeexamplesofSetshadbeenfound.50.AfterfillinginexamplesofC,ifsomeexampleswerefound,ConsiderthetaskofCheckingtheexamplesfacetofconceptC.+Appendix3AMDiscoveryinMathematicsasHeuristicSearch-238-ThiswasveryfrequentlyusedduringAM'sruns.51.AftercheckingexamplesofC,ifmanyexamplesremain,Considerthetaskof'FillinginsomeConjecsforC'.ThiswasusedoftenbyAM.AftercheckingtheexamplesofC,AMwouldtrytoempiricallyformulatesomeinterestingconjectureaboutC.252Aftersuccessfullyfillinginnon-examplesofX,ifnoexamplesexist,IfAMhasnotrecentlytriedtofindexamplesofX,thenitshoulddoso.IfAMhasrecentlytriedandfailedtofindexamples,considertheconjecturethatXisvacuous,empty,null,always-False.ConsidergeneralizingX.53.Aftertryinginvaintofindsomenon-examplesofX,ifmanyexamplesexist,ConsidertheconjecturethatXisuniversal,always-True.ConsiderspecializingX.54.Aftersuccessfullyfilling;nexamplesofX,ifnonon-examplesexist,IfAMhasnotrecentlytriedtofindnon-examplesofX,thenitshouldconsiderdoingso.IfAMhasrecentlytriedandfailedtofindnon-examples,considertheconjecturethatXisuniversal,always-True.ConsiderspecializingX.55.AftertryinginvaintofindsomeexamplesofX,Ifmanynon-examplesexist,ConsidertheconjecturethatXisvacuous,null,empty,always-False.ConsidergeneralizingX.Any-concept.Examples.Check56.IfthecurrenttaskistoCheckExamplesofconceptX,and(ForsomeY)YisageneralizationofXwithmanyexamples,andallexamplesofY(ignoringboundarycases)arealsoexamplesofX,ThenconjecturethatXisreallynomorespecializedthanY,andCheckthetruthofthisconjectureonboundaryexamplesofY,andseewhetherYmightitselfturnouttobenomorespecializedthanoneofitsgeneralizations.ThisrulecausedAM,whilecheckingexamplesofodd-primes,toconjecturethatallprimeswereodd-primes.57.IfthecurrenttaskistoCheckExamplesofconceptX,and(ForsomeY)YisaspecializationofX,andallexamplesofX(ignoringboundarycases)arealsoexamplesofY,ThenconjecturethatXisreallynomoregeneralthanY,andCheckthetruthofthisconjectureonboundaryexamplesofX,andseewhetherYmightitselfturnouttobenomoregeneralthanoneofitsspecializations.Inisruleisanalogoustotheprecedingoneforgeneralizations.Appendix3AMDiscoveryinMathematicsasHeuristicSearch-239-58.WhencheckingboundaryexamplesofaconceptC,ensurethateveryscrapofC.Defnhasbeenused.Itisoftenthetinydetailsinthedefinitionthatdeterminethepreciseboundary.ThuswemustlookcarefullytoseewhetherPrimesallowsIasanexampleornot.Adefinitionlike"numbersdivisibleonlybyIandthemselves"includes1,butthisdefintiondoesn't:"numbershavingprecisely2divisors".IntheLISPprogram,thisrulecontainsseveralhacks(tricks)forcheckingthatthedefinitionhasbeenstretchedtothefullest.Forexample:iithedefinitionisoftheform"allxinXsuchthat...",thenpaycarefulattentiontotheboundaryofX.Thatis,takethetimetoaccessX.Boundary-exsandX.Boundary-non-exs,andcheckthemagainstC.Defn.59.WhencheckingexamplesofC,Ensurethateachexamplesatisfie,C.Defn,andeachnon-examplefailsit.TheprecisememberofC.Defntousecanbechosendependingontheexample.Asdescribedearlierinthetext,definitionscanhavedescriptorswhichindicatewhatkindsofargumentstheymightbebestfor,theiroverallspeed,etc.60.WhencheckingexamplesofC,Ifanentryeisrejected(i.e.,itisseentobenotanexampleofCafterall),thenremoveefromC.ExsandconsiderinsertingitontheBoundarynon-examplesfacetofC.Thereisacomplicated5algorithmfordecidingwhethertoforgqentirelyortokeepitaroundasaclosebutnotcloseenoughkindofexample.61.WhencheckingexamplesofC,AfteranentryehasbeenverifiedasabonefideexampleofC,CheckwhethereisalsoavalidexampleofsomedirectspecializationofC.Ifitis,thenremoveItfromC.Exs,andconsideraddingIttotheexamplesfacetofthatspecialization,andsuggestthetaskofCheckingexamplesofthatspecialization.62.WhencheckingexamplesofC,Ifanentryaisrejected,ThencheckwhethereisneverthelessavalidexampleofsomegeneralizationofC.Ifitis,consideraddingittothatconcept'sboundary-examplesfacet,andconsideraddingittotheboundarynon-examplesfacetofC.Thisissimilartotheprecedingrule.63.Whencheckingnon-examplesofC,includingboundarynon-examples,EnsurethateachonefailsadefinitionofC.Otherwise,transferittotheboundaryexamplesfascetofC.5Notni,;essarlysophisticated.First,AMaccessestheWorthofCFromthisitdetermineshowmanyboundarynon-examplesCdeservestokeeparound(andhowmanytotallistcellsitmerits).AMcomparesthesequotaswiththecurrentnumberof(andsizeof)entriesalreadylistedonCbdy-non-exs.Thedegreeofneedofanotherentrytheretheneetsthe"odds"forinsertionversusforgetting.Finallyarandomnumberiscomputed,andtheoddsdeterminewhatrangeitmustlieinforetoberemembered.Appendix3AMDiscoveryinMathematicsasHeuristicSearch-240-64.Whencheckingno,-examplesofC,includingboundarynon-examples,Afteranentryahasbeenverifiedasabonefidenon-exampleofC,Checkwheth'ireisalsoanon-exampleofsomedirectgeneralizationofC.Ifitis,thenremoveitfromC.Non-Exs,andconsideraddingittothenon-examplesfacetofthatgeneralization,andsuggestthe'taskofCheckingexamplesofthatgeneralization.65.Whenchecking(boundary)non-examplesofC,Ifanentryeisrejected,thatisifitturnsouttobeanexamplefCafterall,Thencheckwhetherisneverthelessanon-exampleofsomespecializationofC.Ifitis,consideraddingittothatconcept'sboundarynon-examplesfacet.Thisissimilartotheprecedingrule.Apperndix3.2.3.HeuristicsfortheConleesfacetofAny-conceptAny-conceptConjecsFillinWhenthetaskistolookaroundandfindconjecturesdealingwithconceptC,thefollowinggeneralrulesmaybeuseful.66.IfthereisananalogyfromXtoC,andaniceiteminX.Conjecs,formulateandtesttheanalogousconjectureforC.Sinceananalogyisnotmuchmorethanasetofsubstitutions,formulatingthe'analogousconjecture'isalmostapurelysyntactictransformation.67.ExamineC.Exsforregularities.WhatmysteriesarelurkingintheLISPcodeforthisrule,youask?Nothingbutafewspecial.purposehacksandafewultra-generalhacks.Hereisaslightlymorespecificruleforyouseekers:68.LookatC.Exs.Pickoneelementatrandom.Writedownstatementstrueaboutthatexamplee.Includealistofallconceptsofwhichitisanexample,allInterestsfeaturesitsatisfies,etc.ThencheckeachconjectureonthislistagainstallotherknownexamplesofC.Ifanyexample(exceptaboundaryexample)ofCviolatesaconjecture,discardit.Takeallthesurvivingconjectures,andeliminateanywhichtrivallyfollowfromotherones.ThisisacommonwayAMus-s:induceaconjecturefromoneexampleandtestitonalltherest.Amoresophisticatedapproachmightbetoinduceitbyusingafewexamplessimultaneously,butIhaven'tthoughtofanynontrivialwaytodothat.ThecarefulreaderwillperceivethatmostoftheconjecturesAMwillderiveusingthisheuristicwillbeoftheform"XisunexpectedlyaspecializationofY",or"XisunexpectedlyanexampleofY",etc.Indeed,mostofAM'sconjecturesarereallythatsimplesyntactically.69.Formulateaparameterizedconjecture,a"template",whichgetsslowlyspecializedorinstantiatbdintoadefiniteco,tjecture.Appendix3AMDiscoveryinMathematics3*HeuristicSearch-241-AMhasonlyafewtrivialmethodsfordoingthis(e.g.,introduceavariableinitiallyandfindtheconstantvaluetoplugintherelater).Asusual,theywillbeomittedhere,andtheauthorencouragessomeresearchinthisarea,toturnoutadecentsetofgeneralrulesforaccomplishingthishypothesistemplateinstantiation.Thebestefforttodatealongtheselines,inonespecificsophisticatedscientificfield,isthatofMETA-DENDRAL[Buchanan].Any-conceptConjecsCheck70.Ifauniversalconjecture(ForallX's,...)iscontradictedbyempiricaldata,gatherthedatatogetherandtrytofindaregularityinthoseexceptions.Ifthissucceeds,givetheexceptionsanameN(iftheyaren'talreadyaconcept),andrephrasetheconjecture(ForallX'swhicharenotN's...).ConsidermakingX-Nanowconcept.Againnotehow"active"thislittlecheckingrulecanbe.Itcanpatchupnearly-trueconjectures,examinedata,definenewconcepts,etc.71.AfterverifyingaconjectureforconceptC,Seeifitalsoholdsforrelatedconcepts(e.g.,ageneralizationofC).Thereareofcoursebookeepingdetailsnotexplicitlyshownabove,whicharepresentintheLISPprogram.Forexample,ifconjectureXistrueforallspecializationsofC,thenitmustbeaddedtoC.ConjecsandremovedfromtheConjecsfacetsofeachspecializationofC.Any-conceptConjecsSuggest72.IfXisprobablyrelatedtoY,butnodefiniteconnectionisknown,It'sworthwhilelookingforaspecificconjecturetyingXandYtogether.HowmightAMknowthatXandYareonlyprobablyrelated?XandYmayplaythesameroleinananalogy(e.g.,thesingletonbag"(T)"and"anytypicalsingletonbag"sharemanyproperties),ortheymaybothbespecializationsofthesameconceptZ(e.g.,twokindsofnumbers),ortheymaybothhavebeencreatedinthesameunusualway(e.g.,Plusand-'iTmesandExponentiationareallcreatablebyrepeatinganotheroperation).Any-concept.Conjecs.Interest73.AconjectureaboutXisinterestingifXisveryinteresting.74.Anonconstructiveexistenceconjectureisinteresting.Thustheuniquefactorizationtheoremisjudgedtobeinterestingbecauseitmerely0guaranteesthacsomefactoringwillbeintoprimes.Ifyougiveanalgorithmforthatfactoring,thenthetheoremactuallylosesitsmystiqueand(accordingtothisrtule)someofitsvalue.Butitincreasesinvalueduetothenextrule.177V.Appendix3AMDiscoveryinMathematicsasHeuristicSearch-.42-75.Aconstructiveexistenceconjectureisinterestingifitisfrequentlyused.76.AconjectureCaboutXisinterestingiftheoriginandtheverificationofCforeachspecializationofXwasquiteinidependentofeachother,andprecededC'sbeingnoticedapplicabletoallX's.Thiswouldbeevenmorestrikingifprooftechniqueswereknown,andeachspecializedcasehadaseparatekindofproof.Manynumbertheoryresultsarelikethis,wherethereexistsageneralproofonlyfornumbersbiggerthan317,say,andallsmallernumbersaresimplycheckedindividuallytomakesuretheysatisfytheconjecture.Categorytheoryisbuiltuponpracticallynothingbutthisheuristic.Appendix3.2.4.HeuristicsfortheAnalogiesfacetofAny-conceptAny-conceptAnalogiesFillin77.TofillinconjecturesinvolvingconceptC,whereCisanalogoustoD,ConsidertheanalogueofeachconjectureinvolvingD.78.Ifthecurrenttaskinvolvesaspecificanalogy,andtherequestistofindmoreconjectures,Thenconsidertheanalogofeachinterestingconjectureaboutanyconceptinvolvedcentrallyintheanalogy.Thatis,thisrulesuggestsapplyingtheprecedingruleioeachconceptwhichiscentraltothegivenanalogy.Theresultisafloodofnewconjectures.ThereIsatradeoff(explicitlytakenintoaccountintheLISPversionofthisrule)betweenhowinterestingaconjecturehastobe,andhowcentrallyaconcepthastofitintotheanalogy,inordertodeterminewhatresourcesAMshouldbewillingtoexpendtofindtheanalogousconjecture.Notethatthisisnotageneralsuggestionofwhattodo,butaspecificstrategyforenlargingtheanalogyitself.Ifthenewconjectureisverified,thennotonlywoulditbeenteredundersomeConjecsfacet,butitwouldalsogotoenlargingthedatastructurewhichrepresentstheanalogy.79.Lettheanalogysuggesthowtospecializeandgeneralizeeachconceptintowhatisatleasttheanalogofaknown,veryinterestingconcept.Likethelastrule,thisonesimplysaystousetheanalogyitselfasthe"reason"forexploringcertainnewentities,inthiscasenewconcepts.WhentheBagsHNumbersanalogyismade,"AMnoticesthatSingletonbagsandEmptybagsaretwointeresting,extremespecializationsofbags.TheaboverulethenallowsAMtoconstructandstudywhatweknowandloveasthenumbersoneandzero.Theanalogyisflawedbecausethereisonlyone"one",althoughtherearemanydifferentsingletonbags,Butjustassingletonsandemptybagshavespecialpropertiesunderbagopeatuons,sodo0,1undernumericoperations.ThiswasonecaseI-where.nanalogypaidoffhandsomely.V-.Appendix3AMDiscoveryinMathematicsasHeuristicSearch-243-80.IfitisdesiredtohaveananalogybetweenconceptsXandY,thenlookfortwoalready-knownanalogiesbetweenXoZandZY,foranyZ.Iffound,composethetwoanalogiesandseeiftheresultantanalogymakessense.Sincetheanalogiesarereallyjustsubstitutions,composingthemhasafamiliar,precisemeaning.ThisrulewasneverreallyusedbyAM,duetothepaucityofanalogies.TheusercanpushAMintocreatingmoreofthem,andultimatelyusingthisrule.AchainfromX,-,Z"YoXcanbefoundwhichpresentsanew,bizarreanalogyfromXtoitself.,Any-concept.AnalogiesSuggest81.Ifananalogyisstrong,andoneconcepthasaveryinterestinguniversalconjectureC(Forallxin8...),buttheanalogconjectureC'isfalse,Thenit'sworthconstructingthesetofitemsin8'forwhichtheconjectureholds.It'sperhapsevenmoreinterestingtoisolatethesetofexceptionalelements.WiththeAdd+)Timesanalogy,it'struethatallnumbersn>1canberepresentedasthesumoftwoothernumbers(eachofthemsmallerthann),butitisnottruethatallnumbers(withjustacoupleexceptions)canberepresentedastheproductofother(hencesmaller)numbers.TheaboverulehasAMdefinethesetofnumberswhichcan/can'tbesorepresented.Thesearejustthecompositenumbersandthesetofprimes.Thissecondway"ofencounteringprimeswasveryunexpectedbothbyAMandbytheauthor.ItexpressesthedeepfactthatonedifferencebetweenAddandTimesisthepresenceofprimesonlyformultiplication.Atthetimeofitsdiscovery,AMdidn'tappreciatethisfullyofcourse.82.Ifspaceistight,andnouseoftheanalogyhaseverbeenmade,anditisveryold,andittakesupalotofspace,Thenitispermissabletoforgetitwithoutatrace.83.Iftwovaluableconjecturesaresyntacticallyidentical,andcanbemadeidenticalbyasimplesubstitution,thententat/,elyconsidertheanalogywhichisthatverysubstitution.Thustheassociative/commutativepropertyofAddandTimescausesthemtobetiedtogetherinananalogy,becauseofthisrule.84.Ifananalogyisveryinterestingandverycomplete,Thenspendsometimerefiningit,lookingforsmallexceptions.Ifnonearefound,seewhetherthetwosituationsaregenuinelyisomorphic.85.IfconceptsXandYareanalogous,lookforanalogiesbetweentheirspecializations,orbetweentheirgeneralizations,['-ThisruleisnotusedmuchbyAM,althoughtheauthorthoughtitwouldbe.h'I'-o,'.".,'.;._...Appendix3AMDiscoveryinMathematicsasHeuristicSearch-244-Any-conceptAnalogiesInterest86.Ananalogywhichhasnodiscrepancieswhatsoeverisnotasinterestingasaslightlyflawedanalogy.87.Ananalogyisinterestingifitassociates(forthefirsttime)twoconceptswhichareeachunusallyfullyfilledout(havingmanyconjectures,manyexamples,manyinterestfeatures,etc.).Appendix3.2.5.HeuristicsfortheCenI/SpecfacetsofAny-conceptAny-concept.Genl/Spec.Fillin88.TofillinspecializationsofX,ifitwasveryeasytofindexamplesofX,GrabsomefeatureswhichwouldindicatethananXwasinteresting(someentriesfromX.lnterest,ormoreremoteInterestpredicatesgarneredbyrippling),andconjointhemontothedefinitionofX,therebycreatinganewconcept.Here'soneinstancewheretheaboverulewasused:ItwassoeasyforAMtoproduceexamplesofsetsthatitdecidedtospecializethatconcept.Theaboverulethenpluckedtheinterestingnessfeature"allpairsofmemberssatisfythesamerarepredicate"andconjoinedittotheolddefinitionofSet!s.Thenewconcept,Interesting-sets,includedallsingletons(becauseallpairsofmembersdrawnfromasingletonsatisfythepredicateEqual)andemptysets.89.TofillingeneralizationsofconceptX,Takethedefinitiona,andreplaceitbyageneralizationofe.Ifeisaconcept,usee.Genl;if+isaconjunction,thenremoveaconjunctorgeneralize6aconjunct;ifisadisjunction,thenaddadisjunctorgeneralizeadisjunct;ifeismegated,thenspecializethenegate;ifeisanexampleofE,thenreplaceeby"anyexampleofE";ifsatisfiesanypropertyP,thenreplaceeby"anythingsatisf-,ingP";ifaisaconstant7,thenreplaceebyanewvariable(oranexistingone)whichcouldassumevaluee;ifaisavariable,thenenlargeItsscopeofpossiblebindings.ThisrulecontainsabagoftricksforgeneralizinganyLISPpredicate,thedefinitionofanyconcept.Theyareallsyntactictricks,however.90.TofillingeneralizationsofconceptX,Ifsomeconjectur.axistsabout"allX'sandY's"or"inXorY",forsomeotherconceptY,Createanewconcept,ageneralizationofbothXandY,definedastheirdisjunction.10recut.7Ofcourseit'sunlikelythataconceptisdefinedsimplyasaconstant,buttheprecedingfootnoteshowsthatthislittleprogramcanbeenteredrecursively,beingfedasub-expressionofthedefinition.Appencix3AMDiscoveryinMathematicsasHeuristicSearch-245-Thisrulecontainsanothertrickforgeneralizinganyconcept,althoughitismoremeaningful,moresemanticthanthepreviousrule'stricks.ManytheoremsaretrueaboutnumberswithIor2divisors,sothismightbeonereasonablewaytogeneralizeNumbers.with-l-divisorintoanewuseful8concept.91.TofillingeneralizationsofconceptX,IfothergeneralizationsGI,G2ofXexistbutareTOOgeneral,Createanewconcept,ageneralizationofXandaspecializationofbothGIandG2,definedastheconjunctionofGandG2'sdefinitions.ThuswhenAMgeneralizesReverse-all-levelsintoReverse-top-levelandReverse-first-element,theaboveruiecausesAMtocreateanewoperation,whichreversesthetoplevelandwhichreversestheCAROoftheoriginallist.Whilenotparticularlyuseful,thereadersiouldobservethatitisinfactmidwayingeneralitybetweentheoriginalReversetutictionandthefirsttwogeneralizations..2TofillinspecializationsofconceptX,-"iethedefinitione,andreplaceitbyaspecializationofe.Ifeisaconcept,usee.Genl;ifeisadisjunction,thenremoveadisjunctorspecializeadisjunct;ifeisaconjunction,thenaddaconjunctorspecializeaconjunct;ifeisnegated,thengeneralizethenegate;ifais"anyexampleofE",thenreplaceebyaparticularexampleofE;ifeis"nythingsatisfyingP",thenreplaceebyaparticularsatisfierofP;ifaisavariable,..enropidceitbyawell-chosenconstantorrestrictitsscope.ThisrulecontainsabagoftricksforspecializinganyLISPpredicate,thedefinitionofanyconcept.Theyareallsyntactictricks,however.NotethattheLispcodeforthisrulewilltypicallycallitLelf(recur)inordertospecializesmallpiecesoftheoriginaldefinition.--93.TofillinspecializationsofconceptX,Ifsomeconjectureexistsabout"aliX'swhicharealsoCeY's"or"inXandV",forsomeotherconceptY,Createanewconcept,aspecialir;,ionofbothXandY,definedastheirconjunction.Thisrulecontainsanothertrickforspecializinganyconcept,althoughitismoremeaningful,moresetanticthanthepreviousrule'stricks.Manytheoremsaboutprimescontainthecondition"p>2";i.e.,theyarereallytrueaboutprimeswhichareodd.SothismightbeonereasonablewaytospecializePrimesintoanewconcept:byconjoiningthedefinitionsofPrimesandOdd-numbers,intothenewconceptOdd-primes.Here'sanotherusageofthisrule:IfAMhadoriginallydefinedPrimestoinclude'T',thenthefrequencyofconjectureswhereIwasanexceptionwouldtriggerthisruletodefinePrimesmorenormally(pM2)94.TofillinspecializationsofconceptX,IfotherspecializationsSI,S2ofXexistbutareTOOrestrictivetobeinteresting,Createanewconcept,aspecializationofXandageneralizationofbothS1andS2,definedasthedisjunctionofSiandS2'sdefinitions.atleast,severaltheoremswillbestatedmoreconciselyusingthisnewconcept:NumberswithIor2divisors.alsotheCARoftheCAR,etc,untilanon-listisencountered.7tAppendix3AMDiscoveryinMathematicsasHeuristicSearch-246-95.TofillingeneralizationsofconceptX,whenarecursivedefinitionofXexists,Ifthedefinitioncontainstwoconjoinedrecursivecalls,replacethenbyadisjunctionoreliminateonecallentirely.Ifthereisonlyonerecursivecall,disjoinasecondcall,thisoneonadifferentdestructivefunctionappliedtotheoriginalargument.Iftheoriginaldestructivefunctionisoneof{CAR,CDR),thenletthenewonebetheothermemberofthatpair.AMusesthefirstpartofthisruletoturnEqual-listsintotwovariantsofSame-length-as.Thesecondpart,whilesurprisinglyunused,couldworkonthisdefinitionofMEMBER:"X(x,L)LISTP(L)and:tx=CAR(L)orMEMBER(x,CDR(L))]",whichisjust"membershipatthetoplevelof",or(,andtransformitintothisoneofMEM,whichrepresentsmembershipatanydepth:"X(x,L)LISTP'0(L)and:[x-CAR(L)orMEM(x,CDR(LI)orMEM(x,CAR(L)))".TherulenoticedarecursivecallonCDR(L),andsimplydisjoinedarecursivecallonCAR(L).96.TofillinspecializationsofconceptXwhenarecursivedefinitionofCexists,Ifthedefinitioncontainstwodisjoinedrecursivecalls,replacethembyaconjunctionoreliminateonecallentirely.Ifthereisonlyonerecursivecall,conjoinasecondonanotherdestructivefunctionappliedtotheoriginalargument.OftenthetworecursionswillbeontheCARandtheCDRoftheoriginalargumenttothepredicatewhichisthedefinitionforX.Thisiscloselyrelatedtotheprecedingrule.Justasitturnedtheconceptof'elementof'intothemoregeneraloneof'membershipatanydepth',theaboverulecanspecializethedefinitionofMEMBERintothisone,calledAMEM:"N,(x,L)LISTP(L)and:[x=CAR(L)or:[AMEM(x,CDR(L))andAMEM(x,CAR(L))]".I97.TofillinspecializationsofconceptX,Find,,withinadefinitionofX(atevenparityofNOT's),anexpressionoftheform"ForsomexinX,P(x)",andreplaceiteitherby"ForallxinX,P(x)",orbyP(x,).Thus"sets,allpairsofwhosememberssatisfySOMEinterestingpredicate"getsspecializedinto"sets,allpairsofwhosememberssatisfyEquality".Thesamerule,with"evenparity"replacedby"oddparity",isusefulforgeneralizingadefinition.Thisruleisreally4separaterules,intheLISPprogram.Thesamerule,withthetransformationsgoingintheoppositedirection,isalsousedforgeneralizing.Thesamerule,withthetransformationsreversedandtheparityreversed,Isusedforspecializingadefinition.Hereisthatdoubly-switchedrule:98.TofillinspecializationsofconceptX,FindwithinadefinitionofX(atoddparityofNOT's)anexpressionoftheform"ForallxinX,P(x)",andreplaceiteitherby"ForsomexinX,P(x)",orbyP(x0).Orreplace"P(oe)",whereaeisaconstant,by"ForromexinA,P(x)"whereAisaconceptofwhich0ison,ixample.TheInterliepfunctionLiSTP(L)testswhetherornotLisa(nonnull)list.1IThisoperationlisalmostimpossibletoexplainverbally.AMEMNx,L)moonsthatxitanelementofL,sridforeachmemberMofLbeforethex,MisanorderedstructureandxisanelementofM,andforeachmemberNofMbeforethexwhichitinsideM,etc,[.,4[x]I(<xab><x>xd0)<xf>x1hI[<xi>xj]xk[1]m>.Appendix3AMDiscoveryinMathematicsasHeuristicSearch-247-99.WhencreatinginaspecializationSofconceptC,NotethatS.GenishouldcontainC,andthatC.SpecshouldcontainS.Theanalogousruleexists,inwhichallspecandgeniareswitched.Any-concept.Genl/SpecSuggest100.AftercreatinganewspecializationSofconceptC,ExplicitlylookfortiesbetweenSandotherknownspecializationsofC.Forexample,afterAMdefinesthenewconceptofNumbers-with-3-divisors,itlooksaroundfortiesbetweenthatkindofnumberandotherkindsofnumbers.101.AftercreatinganewgeneralizationGofconceptC,--'ExplicitlylookfortiesbetweenGandotherclosegeneralizationsofC.Forexample,AMdefinedthenewpredicatesSame-size-CARsandSame.size-CDRs12astwogeneralizationsofEquality.TheaboverulethensuggestedthatAMexplicitlytrytofindsomeconnectionbetweenthesetwonewpredicates.AlthoughAM(ailed,DonKnuth(usingasimilarheuristic,perhaps)alsolookedforaconnection,andfoundone:itturnsoutthatthetwopredicatesarebothwaysofdefiningtherelationweintuitivelyunderstandas'-I"havingthesamelengthas".:102.AftercreatinganewspecializationofconceptC,ConsiderlookingforexamplesofS.Thishastobesaidexplicitly,becausealltoooftenaconceptisspecializedintovacuousness.103.AftercreatinganewgeneralizationGofconceptC,Considerlookingfornon-examplesofG.Thishastobesaidexplicitly,becausealltoooftenaconceptisgeneralizedintovacuousuniversality.ThisruleislessusefultoAMthantheprecedingone.%104.IfconceptCpossessessomeveryinterestingpropertylackedbyoneofitsspecializationsS,%ThenconsideringcreatingaconceptintermediateinspecializationbetweenCandS,andseewhetherthatpossessestheproperty.Thisrulewilltriggerwheneveranewgeneralizationorspecializationiscreated.105.IfconceptSisnowveryinteresting,andSwascreatedasaspecializationofsomeearlierconceptC,GiveextraconsiderationtospecializingS,andtospecializingconceptCagain(butindifferentwaysthaneverbefore).12TwolistssatisfySame-size-COReifftheyhavethesamenumberofmembers.TwolistssatisfySame-size-CARsiff(whenwrittenoutinstandard.LISPnotation)theyhavethesamenumberofinitialleftparenthesesandalsohavethesamefistidentifierfollowingthatlastinitialleftparenthesis.to-T1.,I%IItZ.,i,-,;,.r'-'"Appendix3AMDiscoveryinMthematicsasHeuristicSearch-248-Thenextruleistheanalogoftheprecedingone.Theyincorporatetinybitsofthestrategiesofhill-climbingandlearningfromone'ssuccesses.106.IfconceptGisnowveryinteresting,andGwascreatedasageneralizationofsomeearlierconceptC,GiveextraconsiderationtogeneralizingG,andtogeneralizingCinotherways.Theanalogousrulesexist,forconceptsthathavebecomesoboringthey'vejustbeendiscarded:107.IfconceptXprovedtobeadead-end,andXwascreatedasageneralizationof(specializationof)someearlierconceptC,Givelessconsiderationtogeneralizing(specializing)X,andtogeneralizing(spec;alizing)Cinotherwaysinthefuture.Any-concept.Genl/SpecCheck108.WhencheckingageneralizationGofconceptC,SpecificallytesttoensurethatGisnotequivalenttoC.Theeasiestwayistoexaminethenon-examples(especiallyboundarynon-examples)ofC,andlookforonesatisfyingG;orexaminetheexamplesofG(esp.boundary)andlookforonefailingtosatisfyC.Iftheyappeartobethesameconcept,lookcarefullyatG.ArethereanyspecializationsofGwhoseexampleshaveneverbeenfilledin?Ifso,thenbyallmeanssuggestlookingforsuchconcepts'examplesbeforeconcludingthatGandCarereallyequivalent.Iftheyarethesame,thenreplaceonebyaconjecture.Iftheyoredifferent,makesurethatsomeboundarynon-exampleofC(whichisanexampleofG)isexplicitlystoredforC.ThisrulemakessurethatAMisnotdeludingitself.WhenAMgeneralizesNumbers-with-I-divisorintoNumbers-which-equal-their-no-of-divisors,itstillhasn'tgottenpastthesingletonset{1).Theconjectureinthiscasewouldbe"Theonlynumberwhichequalsitsownnumberofdivisorsis1".Typically,whenageneralizationGofCturnsouttobeequivalenttoC,thereistheoremlurkingaround,oftheform"AllG'salsosatisfythisproperty...",wherethepropertyisthe"extra"constraintpresentinC'sdefinitionbutabsentfromO's.ThisrulealsowasusedwhenAMhadjustfoundsomeexamplesofSets.AMalmostbelievedthatallUnordered-StructureswerealsoSets,butthelastmainclauseoftherulehadAMnoticethatBagsisaspecializationofUnordered-structures,andthatthelatterconcepthadneverhadanyofitsexamplesfilledin.Asaresult,AMprintedoutthismessage:"AlmostconcludedthatUnordered-structuresarealsoalwaysSets.ButwillwaituntilexamplesofBagsarefound.PerhapssomeBagswillnotbeSets."Infact,examplesofBagsaresoonfound,andtheyaren'tsets.109.WhencheckingaspecializationSofconceptC,SpecificallytesttoensurethatSisnotequivalenttoC.Iftheyarethecame,thenreplaceonebyaconjecture.Iftheyaredifferent,makesure!hatsomeboundaryexampleofC(whichisnotanexampleofS)isexplicitlystoredforC.Appendix3AMDiscoveryinMathematicstoHturit.ticSearch-249-Thisruleissimilartotheprecedingone.IfaddinganewconstraintPtothedefinitiondoesn'tchangetheconceptC,thenthereisprobablyatheoremthereoftheform"AllC'salsosatisfyconstraintP".110.WhencheckingaspecializationSofaspecializationXofaconceptCgifthereexistotherspecs.ofspecs.ofC,thenensurethatnoneofthemarethesameasS.Thisisespeciallyworthwhileifthespecializingoperatorsineachcasewerethesamebutreversedinorder.ThuswecanaddaconstrainttoCandcollapsethefirsttwoarguments,orwecancollapsetheargumentsandaddtheconstraint;eitherway,wegettothesameveryspecializednewconcept.Theaboverulehelpsdetectthoseaccidentalduplicates.E.g.,Coalesced-Dom-Ran-CompositionsarereallythesameasDom-Ran-Coalesced-Compositions,andthisrulewouldsuspectthattheymightbe.S11.WhencheckingtheGenlorSpecfacetentriesforconceptC,ensurethatC.GenlandC.SpechavenocommonmemberZ.Iftheydo,thenconjecturethatCandZareactuallyequivalent.Infact,thisruleactuallyensuresthatGeneralizations(C)doesnotintersectSpecializations(C).Ifitdoes,awhole'cycle'ofconceptsexistswhichcanbecollapsedintoonesingleconcept.Sealsorule114,below.Any-concept.Genl/SpecInterest112.AgeneralizationofXisinterestingifalltheproviously-knownboundarynon-examplesar*nowboundaryexamplesoftheconcept.Acheckisincludedheretoensurethatthenewconceptwasnotsimplydefinedasthe*X.closureoftheoldone.113.AspecializationofXisinterestingifallthepreviously-knownboundaryexamplesarenowboundarynon-examplesofthenewspecializedconcept.Acheckisincludedheretoensurethatthenewconceptwasnotsimplydefinedastheinterioroftheoldone.114.IfClisageneralizationofC2,whichisageneralizationofC3,...,whichisageneralizationofCj,andithasjustbeenlearnedthatCjIsageneralizationofCl,ThenalltheconceptsCI,...,Cjareequivalent,andcanbemerged,andthecombinedconceptwillbemuchmoreinterestingthananysingleone,andtheintereutingnessofthenowcompositeconceptincreasesrapidlywithj.TheLispcodehasthenewinterestvaluebecomputedasthemaximumvalueoftheoldconcepts,plusabonuswhichincreaseslikethesquareofj.Thisissimilartorulenumber28.Arulejustliketheprecedinfoneexists,with'Specialization'substitutedeverywherefor'Generalization'.Thusaclosed',,,opofSpeclinksconstitutesademonstrationthatalltheconceptsInthatloopareequivalent.Thnccruleswereusedmorefrequentlythanexpected.Appendix3AMDiscoveryinMathematicsasHeuristicSearch-250-Appendix3.2.6.HeuristicsfortheViewfacetofAny-conceptAny-conceptViewFillin115.TofillinViewfacetentriesforX,FindaninterestingoperationFwhoserangeisX,andindicatethatanymemberofDomain(F)canbeviewedasanXjustbyrunningFonit.WhiletryingtofillintheViewfacetofEven-nos,AMusedthisrule.ItlocatedtheoperationDoubling,whosedomainisNumbersandwhoserangeisEven-nos.Thentherulecreatedanewentry:"toviewanynumberasifitwereadevennumber,doubleit".Thisisatwistedaffirmationofthestandardcorrespondencebetweennaturalnumbersandevennaturalnumbers.Appendix3.2.7,HeuristicsfortheIn-doin/ran-offacetsofAny.conceptAny-conceptIn-dom-of/In-ran-ofFillin116.TofillinentriesfortheIn-dom-offacetofconceptX,Rippledownthetreeofconcepts,startingatActive,toempiricallydeterminewhichactiveconceptscanberunonX's.ThiscanusuallybedecidedbyinspectingtheDomain/rangefacetsoftheActiveconcepts.Occasionally,AMmustactuallytrytorunanactiveonsampleX's,toseewhetheritfailsorreturnsavalue.13117.TofillintheIn-ran-offacetofconceptX,Rippledownthetreeofconcepts,startingatActive,toempiricallydeterminewhichactiveconceptscanberuntoyieldX's.ThiscanusuallybedecidedbyinspectingtheDomain/rangefacetsoftheActiveconcepts.Occasionally,AMinspectsknownexamplesofsomeActiveconcept,toseeifanyoftheresultsareX's.118.WhilefillinginentriesfortheIn-dom-offacetofX,LookespeciallycarefullyforOperationswhichtransformexamplesandnon-examplesintoeachother;Thisisevenbetteriftheoperationpushesboundaryexs/non-exs'acrosstheboundary'.ThiswasusedtonotethatInsertandDeletehadalottodowiththeconceptofSingleton.13OnekeyfeatureofLispwhichpermitsthistobedoneistheErrorstfeature.-~~~~-~'-~--'t-----Appendix3AMDiscoveryinMathematicsasHeuristicSearch-251-Appendix3.2.8.HeuristicsfortheDefinitionfacetofAny-conceptAny-conceptDefnSuggesto19.IftherearenoknowndefinitionsforconceptX,ThenitiscrucialthatAMspendsometimelookingforsuchdefinitions.ThissituationmightoccurifonlyanAlgorithmispresentforsomeconcept.Inthatcase,theaboverulewouldsuggestanew,high.prioritytask,andAMwouldthentwistthealgorithmintoa(probablyveryinefficient)definition.AmuchmoreserioussituationwouldoccurifaconceptwerespecifiedonlybyitsIntuitionentries(created,e.g.,bymodifyinganotherconcept'sintuitions).Inthatcase,rapidlyformulatingaprecisedefinitionwouldbeanecessity.Ofcourse,thisneedneverarose,sincealltheintuitionsweredeleted.Any-conceptDefnCheck120.WhencheckingtheDefinitionfacetofconceptC,EnsurethateachmemberofC.Exssatisfiesalldefinitionspresent,andeachnon-examplefailsalldefinitions.IfthereIsonedissentingdefinition,modifyit,andmovetheoffendingexampletotheboundary.Thereislittlereal"checking"thatcanbedonetoadefinition,asidefrominternalconsistency:Ifthereexistseveralsuposedly.equivalentdefinitions,thenAMcanatleastensuretheyagreeontheknownexamplesandnon.examplesoftheconcept.IftheIntuitionsfacetswerepermitted,theneachdefinitioncouldbecheckedforIntuitiveappeal.121.WhencheckingtheDefinitionfacetofconceptC,Trytofindandeliminateanyredundantconstraints,trytofindandeliminateanycircularity,checkthatanyrecursionwillterminate.HerearetheotherfewtricksthatAMknowsfor"checking"adefinition.Foreachclauseintheruleabove,AMhasaverylimitedabilitytodetectandpatchup"bugs"ofthatsort.Checkingthatrecursionwillterminate,forexample,isdonebyexaminingtheargumenttotherecursivecall,andverifyingthatitcontains(atsomelevelbeforetheoriginalargument)anapplicationofaLISPfunctiononDestructive.LISP.functions.list.ThereisnointelligentinferencethatIsgoingonhere,andforthatreasontheprocessisnotevenmentionedwithinthebodyofthisdocument.--,,-j/-r/-..r..-..,,a,k,-~~FY'~__IJ-'_U-7--7j-,.~Appendix3AMDiscoveryinMathematicsasHeuristicSearch-252-Appendixs.3.Heuristicsfordealingwith-anyActiveconceptAlltherulesbelowareapplicabletotaskswhichinvolveoperations,predicates,relations,functions,etc.Inshort,theyapplytoalltheconceptsAMknowsaboutwhichinvolvedoingsomething,whichinvolveaction.ActiveFillin122.IfthecurrenttaskistofillinexamplesoftheactivityF,OnewaytogetthemistorunFonrandomlychosenexamplesofthedomainofF.Thus,tofindexamplesofEquality,AMrepeatedlyexecutedEquality.Algonrandomlychosenpairsofobjects.AMfoundexamplesofCompositionsbyactuallypickingapairofoperationsatrandomandtryingtocomposethem.Ofcourse,mostsuch"unmotivated"compositionsturnedouttobeuninteresting.123.WhilefillinginexamplesoftheactivityF,byrunningF.AlgsonrandomargumentsfromF.Domain,ItisworththeefforttospecificallyincludeextremeorboundaryexamplesofthedomainofF,amongtheargumentsonwhichF.AIgsisrun.124.TofillinaDomainentryforactiveconceptF,RunFonvariousentities,ripplingdownthetreeofconcepts,todetermineempiricallywhereFseemstobedefined.Thismayshockthereader,asitsoundsdumbandexplosive,buttheconceptsarearrangedinatree(usingGenllinks),sothesearchisreallyquitefast.Althoughthisruleisrarelyused,italwaysseemstogivesurprisinglygoodresults.125.TofillingeneralizationsofactiveF,ConsiderjustextendingF,byenlargingitsdomain.ReviseF.Defnaslittleaspo:,ible.AlthoughEqualityisinitiallyonlyforstructures,AMextendsit(usingthesamedefinition,actually)toapredicateoverallpairsofentities.126.TofillinspecializationsofactiveF,ConsiderjustrestrictingF,byshrinkingitsdomain.CheckF.DefntoseeIIsomeoptimizationispossible.127.AfteranalgorithmisknownforF,ifAMwantsabetterone,AMispermittedtoasktheusertoprovideafastbutopaquealgorithmforF.Thiswasusedafewtimes,especiallyforinversefunctions.Anontrivialopen-endedresearchproblem(,)'4istocollectabodyofruleswhichtransformaninefficientalgorithm14FollowingKnuth,weshallreserveastar(')forthoseproblemswhicharequitedifficult,whichshouldtakethereaderroughly3fulllifet;mestomaster.Readersnotbelievinginreincarnationshouldthereforeskipsuchproblems.A1Appendix3AMDiscoveryinMathmmaticsasHeuristicSearch-253-intoacomputatlonallyacceptableone.128.Ifthecurrenttaskistofillinboundary(non-)examplesoftheactivityF,OnewaytogetthemIstorunFonrandomlychosenboundaryexamplesand(withpropersafeguards)boundarynon-examplesofthedomainofF.PropersafeguardsarerequiredtoensurethatFAIgsdoesn'tlooporcauseanerrorwhenfedaslightly.wrong(slightly-illegal)argument.InLISP,atimerandanERRORSETsufficeascrudesafeguards.129.IfthecurrenttaskistofillIn(boundary)non-examplesoftheactivityF,Onelow-interestwaytogetthemistorunFonrandomlychosenexamplesofitsdomain,andthenreplacethevalueobtainedbysomeother(verysimilar)value.Also,besuretocheckthattheresultantI/opairdoesn'taccidentallysatisfyF.Defn.Theparenthesesintheaboverulemeanthatitisreallytworules:forboundarynon-examples,justchangethefinalvalueslightly.Fortypicalnon-examples,changetheresultsignificantly.IfyoureadthewordsinsideIntheparenthesesintheIFpart,thenreadthe"wordsinsidetheparenthesesintheTHENpartaswell,oromittheminbothcases.ActiveCheck130.WhencheckinganalgorithmforactiveF,runthatalgorithmandensurethattheinput/outputsatisfyF.Defn.131.WhencheckingadefinitiondforactiveconceptF,Runoneofitsalgorithmsandensurethattheinput/outputsatisfyd.*."Thisistheconverseoftheprecedingrule.Theysimplysaythatthedefinitionand-.algorithmfacetsmustbemutuallyconsistent.132.WhilecheckingexamplesorboundaryexamplesoftheactiveconceptF,Ensurethateachinput/outputpairIsconsistentwithF.Dom/range.Ifthedomaintrangeentryis<DID2...Dk4R>,andthei/opairis<dId2...dk,r>,theneachcomponentdioftheinputmustbeanexampleofthecorrespondingDI,andtheoutputrmustbeanexampleofR.133.WhencheckingexamplesoftheactiveconceptF,Ifanyargument(s)toFwereconcepts,tagtheirIn-domain-offacetswith'F'.IfanyvaluesproducedbyFareconcepts,tagtheirIn-range-offacetswith'F'.Forexample,Restrict(Union)producedAdd,atonetimeinAM'shistory.Thentheaboverulecaused'Restrict'tobeinsertedasanewentryonUnion.In-dom-ofandalsoonAdd.In-ran-of."=4-4Appendix3AMDiscoveryinMathematicsasHeuriulicSearch-254-Active.Suggest134.IftherearenoknownalgorithmsforactiveconceptF,ThenAMshouldspendsometimelookingforsuchalgorithms.ThissituationmightoccurifonlyaDefinitionispresentforsomeoperation.Inthatcase,theaboverulewouldsuggestanew,high-prioritytask,andAMwouldthentwistthedefinitionintoa(probablyveryinefficient)algorithm.Therulebelowissimilar,fortheDomain/rangefacet:135.IftheDomain/rangefacetofactiveconceptFisblank,ThenAMshouldspendsometimelookingforspecificationsofF'sdomainandrange.136.IfaDomainofactiveconceptFisencounteredfrequently,eitherwithinconjecturesorasthedomainorrangeofotheroperationsandpredicates,ThendefinethatDomainasaseparateconcept,andraisetheWorthofFslightly.'he'Domain'herereferstothesequenceofcomponents,whosecartesianproductiswhatisnormallyreferredtoinmathematicsasthedomainoftheoperation.Thisledtothedefinitionof"AnythingxStructures",whichisthedomainofseveralInsertionandDeletionoperations,Membershiptestingpredicates,etc.137.Itisworthwhiletoexplicitlycalcu'atethevalueofFforalldistinguished(extreme,boundary,interesting)membersofandsubsetsofitsdomain.139.IfsomedomaincomponentofFhasaveryinterestingspecialization,ThenconsiderrestrictingF(alongthatcomponent)tothatsmallerdomain.Notethattheselastcouplerulesdealwiththeimageofinterestingdomainitems.Therextruledealswiththe!nverseimage(pre-imag,.)ofunusualrangeJtcms.Wesawearlierinthisdocument(Chapter2)howthisruleledtothedefinitionofPrimenumbers.139.IftherangeofFcontainsinterestingitems,oraninterestingspecialization,ThenitisworthwhiletoconsidertheirinverseimageunderF.140.WhentryingtofillinnewAlgorithmsforActiveconceptF,TrytotransformanyconjecturesaboutFinto(piecesof)newalgorithms.Thisisoneplacewhereasophisticatedbodyoftransformationrulesmightbeinserted.Othersareworkingonthisproblem[BurstallDarlington75),andAMonlycontainsafewsimpletricksforturningconjecturesintoprocedures.Forexample,"Allprimesareodd,except'2'",istransformedintoamoreeficientsearchforprimes:aseparatetestforx-2,followedbyasearchthroughinlyOdd-numbers.141.AftertryinginvaintofillinexamplesofactiveconceptF,LocatethedomainofF.andsuggest'hatAMtrytofillinexamplesforeachcomponentofthatdomain.2'7:L:-,,.,,,,,,.*m.Appendix3AMDiscoveryinMathematicsasHeuristicSearch-255-ThusafterfailingtofindexamplesforSet-union,AMwastoldtofindexamplesofSets,becausethatcouldhavelettheprevioustasksucceed.Thereisnorecursionhere:afterthesetsarefound,AMwillnotautomaticallygobacktofindingexamplesofSet-union.Inpractice,thattaskwaseventuallyproposedandchosenagain,andsucceededthistime.142.AfterworkingonanActiveconceptF,Giveaslight,ephemeralboosttotasksinvolvingDomain(F):giveamoderatesizeboosttoeachtaskwhichaskstofillInexamplesofthatdomain/rangecomponent,andgiveaverytinyboosttoeachothertaskmentioningsuchaconcept.Thisisbothasupplementtothemoregeneral"focusofattention"rule,andanontrivialheuristicforfindingvaluablenewtasks.Itisthepartialconverseofrule14.ActiveInterest143.AnactiveconceptFisinterestingifthereareotheroperationswiththesamedomainasF,andiftheyarm,(ontheaverage)fairlyInteresting.Iftheotheroperations'domainisonlysimilar,thentheymustbeveryInterestingandhavesomevaluableconjecturestiedtothem,iftheyaretobeallowedtopushupFrsinterestingnessrating.Thevalueofhavingthesamedomainlrangeistheabilitytocomposewiththem.Ifthedomain/rangeisonlysimilar,thenAMcanhopeforanalogiesorforpartialcompositions.144.Anactiveconceptisinterestingifitwasrecentlycreated.Thisisaslightextraboostgiventoeachnewoperation,predicate,etc.Thisbonusdecaysrapidlywithtime,andthussowilltheoverallworthoftheconcept,unlesssomeinterestingpropertyisencounteredquickly.145.Anactiveconceptisinterestingifitsdomainisveryinteresting.Animportantcommoncueofthisruleiswhenthedomainisinterestingbecauseallitsmembersareequaltoeachother.Thecorrespondingstatementaboutrang$$doesexist,butonlyoperationscanbesaidto'aveaspecificrange(not,e.g.Predicates).Therefore,the'range'ruleislistedunderOperation.Interest,asrulenumber165.t----...*Appendix3AMDiscoveryinMathematicsasHeuristicSearch-256-Appendix3.4.HeuristicsfordealingwithanyPredicateEachoftheseheuristicscanbeassumedtobeprefacedbyaclauseoftheform"IfthecurrenttaskistodealwithconceptX,whercXisaPredicate...".Thiswillberepeatedbelow,foreachrule.PredicateFillin146.Ifthecurrenttaskwas(Fill-inexamplesofX),andXisapredicate,andmorethan100itemsareknowninthedomainof:,andatleast10cpusecondswerespenttryingtorandomlyinstantiateX,andtheratioofsuccesses/failuresisboth>0andlessthan.05Thenaddthefollowingtasktotheagenda:(Fill-ingeneralizationsofX),forthefollowingreason:"Xisrarelysatisfied;aslightlylessrestrictiveconceptmightbemoreinteresting".Thisreason'sratingiscomputedasthreetimestheratioofnonexamples/examplesfound.ThisrulesaystogeneralizeapredicateIfitrarelysucceeds(returnsT).OneuseforthiswaswhenEqualitywasfoundtobequiterare;theresultantgeneralizationsdidindeedturnouttobemorevaluable(numbers).Asimilarusewasfoundforpredicateswhichtestedforidenticalequalityoftwoangles,oftwotriangles,andoftwolines.Theirgeneralizationswerealsovaluable(congruence,similarity,parallel,equal-measure).Mostrulesinthisappendixarenotpresentedwiththesamelevelofdetailastheprecedingone,asthereaderhasnodoubtobserved.147.TofillinDomain/rangeentriesforpredicateP,PcanoperateonthedomainofsnyspecializationofP,PcanoperateonanyspecializationofthedomainofP,PcanoperateonsomerestrictionofthedomainofanygeneralizationofP,Pmaybeabletooperateonsomeenlargementofitscurrentdomain,TherangeofPwillnecessarilybethedoubletonset{T,F},PisguaranteedreturnTifanyofitsspecializationsdo,andFifanyofitsgeneralizationsdo.Thiscontainsacompiledversionofwhatwemeanwhenwesaythatonepredicateisageneralizationorspecializationofanother.Viewedasrelations,assubsetsofaCartesian-productofspaces,thisnotionofgeneral/specialisjustthatofsuperset/subset.ThelastlineoftheruleismeanttoindicatethataddingnewconstraintsontoPcanonlymakeitreturnTruelessfrequently,whilerelaxingP'sdefinitioncanonlymakeItreturnTruemortoften.PredicateSuggest148.IfallthevaluesofActiveconceptFhappentobeTruth-values,andFisnotknowntobeapredicate,ThenconjecturethatFisinfactapredicate.ThisruleisplacedontheSuggestfacetbecause,ifplacedanywhereelseonthisconcept,itcouldonlybeseenasrelevantbyAMifAMalreadyknewthatFwereapredeicate.Ontheotherhand,therulecan'tbeplaced,e.g.,onActive.Fillin,sincejustforgetting(deleting)Appendix3AMDiscoveryinMathematicsasHeuristicSearch-257-this"Predicate"conceptshouldbeenoughtodeleteallreferencestopredicatesanywhereinthesystem.Predicate.Interest149.ApredicatePisinterestingifitsdomainisAny-concept(thespaceofallknownconcepts).ThisisespeciallytrueIfthereisasignificantpositivecorrelation(theoreticalorempirical)betweenconcepts'worthsandtheirP-values.Thisveryhighlevelheuristicwasn'treallyusedbyAMduringitsruns.W.-'S---.,*A-Appendix3AMDiscoveryinMathematicsasHeuristicSearch-258-Appendix3.5.HeuristicsfordealingwithanyOperationOperationFillin150.TofillinexamplesofoperationF(withdorrainAandrange8),whenmanyexamplesoeofAarealreadyknown,andFmapssomeofthoseexamplesoeintodistinguishedmembers(esp:extrema)bofB,Then(foreachsuchdistinguishedmember"b"(B)studyF'i(b)asanewconcept.Thatis,isolatethosemembersofAwhoseF-valueistheunusualitemb(B.Thisrulesaystoinvestigatetheinverseimageofanunusualitemb,undertheinterestingoperationf.Whenb-2andfnumber-of.dlvisors.of,thisruleleadstothedefinitionofprimenumbers.Whenb-Phi5andf-Intersection,theruleledtothediscoveryoftheconceptofdisjointnessofsets.151.TofillinDomain/rangeentriesforoperationF,FcanoperateonthedomainofanyspecializationofF,FcanoperateonthespecializationofthedomainofanyspecializationofF(includingFitself),FcanoperateonsomerestrictionofthedomainofanygeneralizationofF,atleastonitscurrentdomainandperhapsevenonabiggerspace,Fmaybeabletooperateonsomegeneralizationof(somecomponent(s)of)itscurrentdomain,Fcanonly(andwillalways)producevalueslyingintherangeofeachgeneralizationofF,Fcan--withtheproperarguments--producevalueslyingintherangeofanyparticularspecializationofF.ThereareonlyafewchangesbetweenthisruleandthecorrespondingoneforPredicates.RecallthatOperationscanbemulti-valued,andthosevaluesarenotlimitedtotheset{T,F}.152.TofillinDomain/rangeentriesforoperationF,whensomeexistalready,Takeanentryoftheform<DID2...On--R>andseeifDixRismeaningfulforsome,i(especially:ion).Ifso,thenremoveDifromtheleftsideoftheentry,PndreplaceRbyDixR,andmodifythedefinitionofF.InLISP,"meaningful"iscodedas:eitherDixRIsequivalenttoanalready-knownconcept,orelseitisfoundinatleasttwointerestingconjectures.ThisisprobablyaninstanceofwhatMcDermottcallsnaturalstupidity'6.Thisruleistaggedasbeingexplosive,andisnotusedveryoftenbyAM.1-K3.TofillinaRangeentryforoperationF,RunFonvariousdomainexamples,especiallyboundaryexamples,tocollectexamplesoftherange.ThenrippledownthetreeofconceptstodetermineempiricallywhereFseemstoessndingitsvalues.15theemptyset,NIL,{}16See[McDermott76]fornaturalstupidity.Hecriticizestheuseofveryintelligent-soundingnamesforotherwise-simpleprogrammodules.Butconsider*Homosapiens",whichmeans"wiseman'.NowIhereamisleadinglabel..Appendix3AMDiscoveryinMathematics*aHeuristicSearch-259-Thismayshockthereader,asitsoundsdumbandexplosive,buttheconceptsarearrangedinatree(usingGenllinks),sothesearchisreallyquitefast.Althoughthlsruleisrarelyused,italwaysseems!ogivesurprisinglygoodresults.154.IfoperationFhasJutbenapplied,andhasyieldedanewconceptC1;itsresult,ThencarefullyexamineF.Oom/rangetotrytofindoutwhatC.issshouldbe.C.laawillbealllegalentrieslistedasvaluesoftherangeofF.WhenF-Compose,sayAMhasjustcreatedC-Emptyolnsert.7WhatisC?Itisaconcept,ofcourse,butwhatelse?ByexaminingtheDomain/rangcfacetofCompose,AMfindstheentry<ActiveActive-+Active>.Aha!SoCmustbeanActive.ButAMalsofindstheentry%%<PredicateActive-+Predicate>.Since"Empty"isapredicate,thefinalcompositionCmustalsobeapredicate.SoC.Isawouldbefilledinwith"Predicate".AMthususedtheaboveruletodeterminethatEmptyoInsetlwasapredicate.EvenIfthisrulewereexcised,AMcould-stilldeterminethatfact,painfull),bynoticingthatallthevaluesweretruth-values.155.IfoperationFhasjustbeenapplio,toAi,A2,...,andhasyieldedanowconceptCasitsresult,ThenaddFtoC.In-ran-of;addFtotheIn-dom-offacetofalltheAl'swhichareconcepts;add(AI...-#C>toF.Exa.Thereissomeoverlapherewithearlierrules,butthereisnotheoreticalorpracticaldifficultywithsuchredundancy.156.WhenfillinginexamplesofoperationF,ifFtakessomeexistingconceptsAi,A2,...and(may)produceanewconcept,Thenonlyconsider,aspotentialAils,thoseconceptswhichal.readyhavesomeexamples.PrefertheAll*tobeinteresting,tohaveahighworthrating,tohavesomeinterestingconjecturesaboutthem,tohaveseveralexamplesandseveralnon-examples,etc.Thedangerhereisof,e.g.,Composingtwooperationswhichturnouttobevacuous,orofConjoininganemptyconceptontoanother,orofproliferatingvariantsofaboringconcept,etc.Operation.CheckBelowarerulesusedtocheckexistingentriesonvariousfacetsofoperations.17L.,insertxintoastructureSandthenseeifSisempty.ThisleadsAMtorealizethqtinsertingcanneverresultinanemptystructure.,Appendix3AMDiscoveryinMathematictasHeuristicSearch-260-157.Tocheckthedomain/ringsentriesontheoperationF,IFadomain/rangeentryhastheform(0DD...-*R),andalltheD'sareequal,andRIsageneralizationof0(or,withlessenthusiasm:IfRandDhaveasignificantoverlap),THENit'sworthseeingwhether(0DD...-+D)Isconsistentwithallknownexamplesoftheoperation:Iftherearenoknownexamples,addatasktotheagendarequestingtheybefilledIn.Ifthereareexamples,and(0DD...-D)isconsistent,addittotheDomain/rangefacetofthisoperation.Iftherearesomecontradictingexamples,createanewconceptwhichisdefinedasthisoperationrestrictedto(DDD-...D).WhenAMrestrictsBag-uniontonumbers(bagsofT's),thenewoperationhasaDomain/rangeentryoftheform(NumbersNumbers-4Bag).TheaboverulehasAMinvestigatewhethertherangespecificationmightn'talsobenarroweddowntoNumber.Inthiscaseitisagreathelp.Theruleoftenfails,ofcourse:thesumoftwoprimesisrarelyaprime,thecross-productoftwolists-of-atomsisnotalist-of-atoms,etc.Sincethisruleisalmostinstantaneoustoexecute,it'scost-effectiveoverall.158.Whencheckingthedomain/rangeentriesontheoperationF,IFadomain/rangeentryhastheform(0DD....-4R),andalltheD'sareequal,andRisaspecializationofD,THENit'sworthinserting(DDD...-4D)asanewentryonF.Dom/ran,eventhoughthatisredundant.Thisshowsthatsymmetryandaestheticsaresometimespreferabletoabsoluteoptimization.That'swhyweprograminLisp,Insteadofmachinelanguage.Ontheotherhand,thisrulewasn'treallythatusefultoAM.Now,byanalogy,...?159.WhencheckingtheDomain/rangeentriesforoperationF,EnsurethattheboundaryitemsintherangecanactuallybereachedbyF.Ifnot,seewhethertherangeisreallyjustsomeknownspecializationofF.Thisruleisatypicalcheckingrule.Notethatitisactive,notpassive:itmightaltertheDomain/rangefacetofF,ititfindsanerrorthere.160.WhencheckingexamplesoftheoperationF,foreachsuchexample,IfthevaluereturnedbyFisaconceptC,add'F'toC.In-ringe-of.OperationSuggest161.WheneverthedomainofoperationFhaschanged,checkwhethertherangehasalsochanged.Oftentherangewillchangeanalogouslytothedomain,wheretheoperationitselfistheAnalogy.162.AfterworkingonOperationF,Giveaslight,ephemeralboosttotasksinvolvingRange(F).Appendix3AMDiscoveryinMaohemticeasHeuristicSearch-261-Thiswilbeamoderatesizeboostforeachtaskwhichaskstofillinexamplesofthatrangeconcept,andaverytinyboostforeachothertaskmentioningsuchaconcept.Thisisbothasupplementtothemoregeneral*focusofattention"rule,andanontrivialheuristicforfindingvaluablenewtasks.Itisanextensionofrulenumber142,andapartialconversetorule14.OperationInterest163.AnoperationFIsInterestingIfthereareotheroperationswiththesamedomainandrange,andiftheyare(ontheaverage)fairlyinteresting.164.AnoperationFIsinterestingifitisthefirstoperationconnectingitsdomainconcepttoitsrangeconcept,andIfthosedomain/rangecomponentsarethemselvesvaluableconcepts,andthereisnoenalogybetweenthem,andtherearesomeinterestingconjecturesinvolvingthedomainofF.TheabovetworulessaythatFcanbevaluablebecuaseit'ssimilartoother,already-liked1)operations,orbecauseitistotallydifferentfromanyknownoperation.Althoughthesetwocriteriaarenonintersecting,theirunionrepresentsonlyasmallfractionoftheoperationsthatgetcreated:typically,nsithsrrulewilltrigger.165.AnoperationFisinterestingifitsrangeIsveryinteresting.RangeherereferstotheconceptinwhichallresultsofFmustlie.ItistheRinthedomain/rangefacetentry<D.-+R>forconceptF.Thecorrespondingrulefor'domains'isapplicabletoanyActive,notjusttoOperations,henceislistedunderActive.Interest,asrulenumber145.166.AnoperationFIsinterestingIfthevaluesofFsatisfysomeunusualpropertywhichisnot(ingeneral)satisfiedbytheargumentstoF.ThusdoublingIsinterestingbecauseitalwaysreturnsanevennumber.ThisisonecasewheretheinterestingpropertycanbededucedtriviallyJustbylookingatthedomainandrangeoftheoperation:Numbers4ven-nos.167.AnoperationisInterestingifitsvaluesareinteresting.Thiscanmeanthateachvalueisinteresting(e.g.,Composeiswell-receivedbecauseitproduc~.smanynew,valuableconceptsasitsvalues).Or,itcanmeanthattheoperations'values,gatheredtogetherintoonebigset,areinterestingasaset.Unliketheprecedingrule,thisonehasnomentionwhatsoeverofthedomainitems,theargumentstotheoperation.ThisrulewasusedtogoodadvantagefrequentlybyAM.Forexample,Factoringsof.numbersareinterestingbecause(usingrule232)forallx,Factorings(x)isinterestinginexactlythesameway.Namely,Factorings(x),viewedasaset,alwayscontainspreciselyoneitemwhichhasacertaininterestingproperty(seerule233).Namely,allitsmembersareprimes(seerule2S2again).ThisexplainsonewayinwhichAMnoticedthatallnumbersseemtofactoruniquelyintoprimes.Appendix3AMDiscoveryinMathematicsasHeuristicSearch-262-168.Anoperationisinterestingifitsvaluesareinteresting,ignoringtheimagesofboundaryitemsfromthedomain.Thatis,iftheimageofthedomainminusitsboundaryisinteresting.169.Anoperationisinterestingifitsvaluesontheboundaryitemsfromthedomainareveryinteresting.Ignorethenon-boundarypartsofthedomain.Thatis,iftheimageoftheboundaryofthedomainisinteresting.170.Anoperationisinterestingifitleavesintactanyinterestingpropertiesofitsargument(s).Thisisevenbetterifiteliminatessomeundesirableproperties,oraddssomenew,desirableones.Thusanew,specializedkindofInsertionoperationisinterestingif,eventhoughitstuffsmoreitemsintoastructure,thenicepropertiesofthestructureremain.Theoperation"Merge"isinterestingforthisveryreason:itinsertsitemsintoanalphabetizedlist,yetitdoesn'tdestroythatinterestingpropertyofthelist.171.Anoperationisinterestingifitsdomainandrangeoreequal.Ifthereismorethanonedomaincomponent,thenatleastoneofthemshouldequaltherange.Themorecomponentswhichareequaltotherange,thebetter.Thus"Insertion"qualifieshere,sinceitsdomain/rangeentryis<AnythingStructuresStructures>.But"Union"isevenbetter,sincebothdomaincomponentsequaltherange,namelyStructures.172.Anoperationismildlyinterestingifitsrangeisrelatedsomehow(e.g.specializationof)tooneormorecomponentsofitsrange.Themorethebetter.Aweakenedformoftheprecedingrule.173.IftheresultofapplyingoperationF.isanewconceptC,ThentheinterestingnessofFisweaklytiedtothatofC.IfthenewconceptCbecomesveryvaluable,thenFwillriseslightlyininterest.IfCissobaditgetsforgotten,Fwillnotberegardedquiteashighly.WhenCanonizescoresbigitsfirsttimeused,itrisesininterest.ThiscausedAMtoformpoorly-motivatedcanonizations,whichledtodismalresults,whichgraduallyloweredtheratingofCanonizetowhereitwasoriginally.-N4~-0Appendix3AMDiscoveryinMathematicsasHeuristicSearch-263-Appendix3.6.HeuristicsfordealingwithanyCompositionComposition.Fillin174.TofillinalgorithmsforoperationF,whereFisacompositionGoH,Onealgorithmis:applyHandthenapplyGtotheresult.Ofcoursethisruleisnotmuchmorethanthedefinitionofwhatitmeanstocomposetwooperations.175.TofillinDomain/rangeentriesforoperationF,whereFisacompositionGoH,TentativelyassumethatthedomainisDomain(H),andrangieisRange(G).Moreprecisely,thedomainwillbetheresultofsubstitutingDomain(H)forRange(H)whereverRange(H)appears(or:justonce)inDomain(G).ThusforF-DividesoCount,whereDivides:<Number,Number-#{T,F}>,andCount:<BagNumber>,theaboverulewouldsaythatthedomain/rangeentriesforFaregottenbysubstituting'Bag'for'Number'onceortwiceinDomain(Divides).ThepossibleentriesforF.Dom/rangearethus:<Bag,Bag{T,F)>,<Number,Bag{T,F}>,and<Bag,Number-{T,F)>.-7..176.TofillinDomain/rangeentriesforoperationF,whereFisacompositionGoH,ButRange(H)doesnotoccurasacomponentofDomain(G),TherangeofFisstillRange(G),butthedomainofFiscomputedasfollows:AscertainthecomponentXofDomain(G)havingthebiggest(fractional)overlapwithRange(H).ThensubstituteDomain(H)forXinDomain(G).TheresultisthevaluetobeusedforDomain(F).Thisruleisasecond-ordercorrectiontothepreviousone.Ifthereisnoabsoluteequality,thenalargeintersectionwillsuffice.NoticethatFmaynolongerbedefinedonallofitsdomain,evenifGandHare.Ifidenticalequalityistakenasthemaximumpossibleoverlapbetwentwoconcepts,thenthisrulecanbeusedtoreplacetheprecedingonecompletely.177.WhentryingtofillIntheIsaentriesforacompositionFaGoH,ExamineG.IsaandH.Isa,andespeciallytheirintersection.SomeofthoseconceptsmayalsoclaimFasanexample.Runtheirdefinitionfacettosee.ToseehowthisisencodedIntoLISP,turntopage219.178.WhentryingtofillintheGenlorSpecentriesforacompositionFoGoH,ExaminethecorrespondingfacetonGandonH.Thisruleissimilartotheprecedingone,butwasn'tasusefulorasreliable.179.AsatisfactoryinitialguessattheWorthvalueofcompositionFaGoHistheroot-sum-of-squaresofG.WorthandH.Worth.4.-A---.----A---'JAppendix3AMDiscoveryinMathematicsasHuristicSearch-264-180.TofillinexamplesofF,whereFzGoH,andbothGandHaretime-consuming,butwheremanyexamplesofbothGandHexist,Seekanexamplex-+yofH,andanexampley--zofG,andthenreturnx--zasaprobableexampleofF.Above,'seek'isdoneinatight,efficentmanner.TheexamplesareHarehashedintoanarray,basedonthevaluesyofeachone.ThentheargumentsoftheexamplesofGarehashedtoseeiftheyoccurinthisarray.Thosethatdowillgenerateanexampleofthenewcomposition.181.TofillinexamplesofF,whereFzGoH,andGistimeconsuming,butmanyexamplesofGexist,anditisnotknownwhetherHIstime-consumingornot,SpendamomenttryingtoaccessortriviallyfillinexamplesofH.Ifthissucceeds,applytheprecedingrule.Hfthisfails,thenformallyproposethatAMfillinexamplesofH,withpriorityequaltothatofthecurrenttask,forthesetworeasons:(I)ifexamplesofHexisted,thenAMcouldhaveusedtheheuristicprecedingthisone,tofillinexamplesofF,and(ii)itisdangeroustospendalongtimedealingwithGoHbeforeanyexamplesatallofHareknown.Thisruleisofcoursetightlycoupledtotheprecedingone.ThesameruleexistsforthecasewherejustHistime-consuming,insteadofG.182.WhentryingtofillinConjecsaboutacompositionFsGoH,ConsiderthatFmaybethesameasG(orthesameasH).Itwassomewhatdepressingthatthis'stupid'heuristicturnedouttobevaluable,perhapsevennecessaryforAM'stopperformance.Composition.Check183.CheckthatFoGisreallynotthesameasF,orthesameasG.SpendsometimecheckingwhetherFoGisequivalenttoanyalready-knownactiveconcept.Thishappensoftenenoughtomakeitworthstatingexplicitly.Often,forexample,FwillnotevenbotherlookingattheresultofG!Forexample,ProJ2oSquare(x,y)Proj2(Square(x),y)yProj2(x,y).184.WhencheckingtheAlgorithmsentriesforacompositionFzGoH,Ifrange(H)isnotwhollycontainedinthedomainofG,thenthealgorithmmustcontaina"legality"chsck,ensuringthatH(x)isavalidmemberofthedomainofG.Appendix3AMDiscoveryinMathewticsasHeuristicSaorch-265-Composition.Suggest185.GivenaninterestingoperationF:An..A,considercomposingFwithitself.Thismayresultinmorethanonenewoperation.FromF-division,forexample,wegetthetwooperations(x/y)/zandx/(y/z).AMquicklyrealizesthatsuchvariantsarereallyequivalent,and(ifprodded)eventuallyrealizesthatF(F(x,y),z)-F(x,F(y,z))isacommonsituation(whichwecallassociativityofF).186.Ifthenewly-formeddomainofthecompositionFuGoHcontainsmorethanoneoccurrenceoftheconceptD,andthisisn'ttrueofGorH,Thenconsidercreatinganewoperation,aspecializationofF,byCoalescingthedomain/rangeofF,byeliminatingoneofth6Dcomponents.ThuswhenInsertoDeleteisformed,theoldDomain/rangeentrieswerebothoftheform<AnythingStructureStructure>.Thenewly.createdentryforInsertoDeletewas<AnythingAnythingStructureStructure>;i.e.,takex,deleteitfromS,theninsertyintoS.TheaboverulehadAMturnthisintoanewoperation,withdomain/range<AnythingStructureStructure>,whichdeletedxfromSandtheinsertedtheverysamexbackintoS.Composition.Interest187.AcompositionFGoHisinterestingifGandHareveryinteresting.188.AcompositionFGoHisinterestingifFhasaninterestingpropertynotpossessedbyeitherGorH.189.AcompositionFuGoHisinterestingifF'#asmostoftheinterestingpropertieswhicharepossessedbyeitherGorH.ThisisslightlyreducedifbothGandHpossesstheproperty.190.AcompositionFsGoHisinterestingifFlacksanyundesirablepropertiestrueofGorH.ThisisgreatlyincreasedifbothGandHpossessthebadproperty,unlessGandHareverycloselyrelatedtoeachother(e.g.,HaG,orHG').Thenumericimpactofeachoftheseruleswasguessedatinitially,andhasneverneededtuning.Hereisanareawhereexperimentationmightproveinteresting.191.AcompositionFGoHisinterestingifFmapsinterestingsubsetsofdomain(H)intointeresting*jsubsetsofrange(G).FistobejudgedevenmoreinterestingiftheimagewasnotthoughttobeinterestinguntilafterItwasexplicitlyisolatedandstudiedbecauseofpart1ofthisveryrule.Here,an"interesting"subsetofdomain(H)isonesojudgedbyInterests(domain(H)).Acompletelydifferentsetofcriteriawillbcusedtojudgetheinterestingnessoftheresultant,Appendix3AMDiscoveryinMathematicsasHeuristicSearch-266-imageunderF.Namely,forthatpurpose,AMwill-askforrange(G).Interest,andrippleoutwardstolookforrelatedinterestfeatures.192.AcompositionF-GoHisinterestingifF-1mapsinterestingsubsetsofrange(G)intointerestingsubsetsofdomain(F).Thisisevenbetterifthepreimagewasn'thithertorealizedasinteresting.Thisistheconverseoftheprecedingrule.Again,"interesting"isJudgedbytwodifferentsetsofcriteria.193.AcompositionFGoHisinterestingifFmapsinterestingelementsofdomain(H)Intointerestingsitbetsofrange(G).194.AcompositionFsGoHisinterestingifF"mapsinterestingelementsofrangeo(G)intoInterestingsubsetsofdomain(F).Thisisevenbetterifthesubsetisonlynowseentobeinteresting.Thisistheanalogueofanearlierrule,butforIndividualitemsratherthanforwholesubsetsofthedomainandrangeofF.195.AcompositionFsGoHisInterestingifrange(H)Isequalto,notjustintersects,onecomponentofdomain(G).196.AcompositionFsGoHismildlyinterestingifrange(H)isaspeci:lize.tlonofonecomponentofdomain(G).Thisisaweakenedversionoftheprecedingfeature.Suchacompositionisinterestingbecauseitisguaranteedtoalwaysbeapplicable.IfRange(H)merelyintersectsadomaincomponentofG,thentheremustbeanextracheck,aftercomputingH(x),toensureitlieswithinthelegaldomainofG,beforetryingtorunGonthatnewentityW(x).197.AcompositionFuGoHismoreinterestingifrange(G)isequaltoadomaincomponentofH.Thisisoverandabovetheslightboostgiventothecompositionbecauseitisanoperationwhosedomainandrangecoincide(seerule171).Appendix3.7.HeuristicsfordealingwithanyInsertionsInsertionCheck198.WhencheckinganexampleofanykindofinsertionofxintoS,EnsurethatxisamemberofS.TheonlytypesofinsertionsknowntoAMareunconditionalinsertions,sothisruleisvalid.Itisusefulforensuringthataparticularnewoperationreallyisaninsertion.operationafterall!I.£=--,.-o.-.+°%%..__---,%-%%-°%-.°-Appendix3AMDmcoveryinMUtheniticsasHeuristicSearch-267-Appendix3.8.HeuristicsfordealingwiththeoperationCoalesceCoalesceFillin199.WhencoalescingF(a,b,c,...),whosedomain/rangeIs(ABC...-R>,Agoodchoiceoftwodomaincomponentstocoalesceisapairofidenticallyequalones.Barringthat,chooseapairrelatedbyspecialization(eliminatethemoregeneralone).Barringthat,chooseapairwithacommonspecializationS,adreplacebothbyS.Thustocoalescetheoperation"InsertoDelete"[whichtakestwoitemsandastructure,deletesthefirstargumentfromthestructureandtheninsertsthesecondargument),AMexaminesitsDomain/rangeentry:<AnythingAnythingStructure-.Structure>.Althoughitwouldbelegaltocollapsethesecondandthirdarguments,theaboverulesaysitmakesmoresenseingeneraltocLiapsethefirstandsecond.Infact,inthatcase,AMgetsanoperationwhichtellsitsomethingaboutmultipleelementsstructures.200.WhenfillinginAlgorithmsforacoalescedversionGofactiveconceptF,OnenaturalalgorithmissimplytocallonFAIgs,withtwoargumentsthesame.OfcoursethetwoIdenticalargumentsarethosewhichhavebeendecidedtobemerged.Thiswillbedecidedbeforethedefinitionandalgorithmfacetsarefilledin.ThusanaturalalgorithmforSquareistocallonTIMES.Alg(x,x).Thefollowingruleissimilar:201.WhenfillinginDefinitionsforacoalescedversionGofactiveconceptF,OnenaturalDefinitionissimplytocallonF.Oefn,withtwoargumentsthesame.202.WhenfillingintheWorthofanewcoalescedversionofF,Asuitablevalueis0.9x(WorthofF)#0.1x(WorthofCoalesce).Thisisacompromisebetween(I)theknowledgethatthenewoperationwillprobablybelessinterestingthanF,and(ii)theknowledgethatitmayleadtoevenmorevaluablenewconcepts(e.g.,itsinversemaybemoreinterestingthanF's).TheformulaalsoincorporatesasmallfactorwhichisbasedontheoverallvalueofcoalescingswhichAMhasdonesofarintherun.Coalesce.Check203.IfGendHareeachtwocoalascingsawayfromF,foranyF,ThencheckthatGandHaren'treally(hesame,bywritingtheirdefinitionsoutintermsofF.Defn.ThusifR(a,b,c)isreallyF(a,b,a,c),andS(a,b,c)isreallyF(a,b,c,c),andRandSgetcoalescedagain,intoG(a,b)whchIsR(a,b,a)andintoH(a,b)whichIsS(a,b,a),thenbothGandHarereallyF(a,b,a,a).Theorderofcoalescingisu'mportant.Thisisaboosttothemoregeneralimpetusforcheckingthissortofthing,rule110.Thisruleisfaster,containingaspecial-purposeprogramforuntanglingargument.callsrapidly.IftheconceptofCoalesceIs.LAppendix3AMDiscoveryinMsthemsticsasHeursticSearch-268-excisedfromthesystem,onecaneasilyimagineitbeingre-derivedbyamoregeneral'coincidence'strategy,buthowwillthesespecific,high-powered,tightly-codedheuristicsevergetdiscoveredandtackedontotheCoalo.'ceconcept?Thisisaninstanceofthemainmeta-levelresearchproblemproposedearlierinthethesis(Chapter7).Coalesce.Suggest204.Ifanewly-interestingactiveconceptF(x,y)takesapairofN'sasarguments,Thencreateanewconcept,aspecializationofF,calledF-Itself,takingjustoneNasargument,definedasF(x,x),withinitialworthWorth(F).IfAMhasnevercoalescedFbefore,thisgetsaslightbonusvalue.IfAMhascowlescedFbefore,sayintoS,thenmodifythissuggestion'svalueaccordingtothecurrentworthofS.The;owerthesystem'sinterest-threshholdis,themoreallctivethissuggestionbecomes.AMusedthisruletocoalescemanyactiveconcepts.Times(x,x)iswhatweknowassquaring;Equalty(x,x)turnedouttobetheconstantpredicateTrue;Iptersect(x,x)turnedouttobetheidentityoperator;Compose(ff)wasaninteresting"iteration"operatorig;etc.Thisileisreallyabundleoflittlemeta-rulesmodifyingonesuggestion:thesuggestionthatAMcoalesceF.Theverylastpartoftheaboveruleindicatesthatifthesystemisdesparate,thisistheleastdistastefulwayto"takeachance"onahigh-payoffhigh-riskcourseofaction.Itismoresa.cthan,e.g,,randomlycomposingtwooperationsuntilanicenewoneIscrm.ated.205.IfconceptFtakesonlyoneargument,ThenitisnotworthwhiletotrytocoalesceIt.1.:,Th!srulewasoflittlehelpcpu.timewlse.sinceevenifAMtriedtocoalescesuchanactiveconcept,itwouldfallalmostinstantaneously.TheruledidhelpmakeAMappearsmarter,however.Appendixs.9.HeuristicsfordealingwiththeoperationCanonizebCanonizeFillin206.IfthetaskistoCanonizepredicatesPIandP2(overAxA)'9,andthedifferencebetweenadefinitionofP1anddefinitionofP2isuolthatP2perform&someextracheckthatPIdoesn't,e,ThenFshouldconvertanys(AintomemberofAwhichautomaticallysatisfiasthatextraconstraint.ThuswhenPISame-length,P2-Equality,A-Lists,theextraconstraintthatP2satisfiesisjustthatitrecursitheCARdirection:theCARsofthetwoargumentsmustalsosatisfys.1,Compoe(Compoeo,Composo)isanoperatorwhichtakes3operationsftg,handformsfogoh";Lt.,theirjointcompoeition.1.19Thatis,findafunctionFsuchthatPI(xy)iffP2(F(x),F(y))I-.*..Appendix3AMDiscoveryinMathematicsasHevristicSearch-209-P2.P1doesn'thavesucharequirement.TheaboverulethenhasAMseekoutawaytoguaranteethattheCARswillalwayssatisfyEquality.Aspecialhand-craftedpieceofknowledgetellsAMthatsince"T-T"isanexampleofEquality,onesolutionisforallthe..CARstobetheatomT.ThentheoperationFmustcontainaprocedureforconvertingeachemberofastructuretotheatom"T".Thus(AC{ZABIQQwouldbeconvertedto(TT'TT).Thisruleisaspecialized,"compiled"versionoftheideaexpressedinrule%number13.207.IfthetaskistoCmnonizePIam1-overAxA,tryingtosynthesizeF,whereAStructure,.,.'.aThenperhapsthereIstJifinL:'.wedtypeofstruritreBwhichtheArgumenttoFshouldalwaysbeconvertedink,,thatcase,considerP1andP2astwopredicatesoverBxB.Th1special-purposerulEisu,.guideaseriesofexperiments,todeterminewhetherP1isaftertedbyaddingmultiplecopiesofey'-singelementsintoitsarguments,andwhetheritsvalueisAffectedbyrearrangingsomeofr.rguments'elements.InthecaseofPI-Same--size,thean-wersare:multipleelementsde"'adifference,butrearrangementdoesn't.Sothecannnical.,peofstructureforF-Sizemu.beonewhichisMult-eles-allowedandalsoonewhichisUnordered.Namey,aBag.ThusFismodifiedsothatitfirstconvertsitsargumenttoaBag.ThetnEqualityandSame-sizeareviewedastakingapairofBags,andSizeisviewedastakingoneBagandgivingbackacanonicalbag.208.AfterFi.createdfromP1andP2,asCanonlze(P1,P2):anacceptablevaluefortheworthofFisthemaximumoftheworthsofPIandP2.IntheactualLispcode,anextrasmalttermisaddedwhichtakesintoaccounttheoverallvalueofalltheCanonizationswhichAMhasrecentlyproduced.209.IFthecurrenttaskhasjustcreatedacanonicalspecializationBofconceptA,withrespecttopredicatesP1andP2,[i.e.,twomembersofBsatisfyPIifftheysatisfyP2],THENaddthefiilowingentrytotheAnalogiesfacetofB:<APIOperations-on-and-into(A)><BP2ThoseoperationsrestrictedtoB's>Thisratherincoherentrulesaysthatit'sworthtakingthetroubletostudythebehaviorof"\)INeachoperationwhenitisrestrictedtoworkingonstandardor"canonical"items.Moreover,someoftheoldrelationshipsmaycarryoveroratleasthaveanaloguesinthisrestrictedworld.Whennumbersarediscoveredascanonicalbags,allthebagoperationsarerestrictedtoworkononlycanonicalbags,andtheymagicallyturnintowhatweknowandioveasnumericoperations.Manyoftheoldbag-theoreticrelationshipshavenumericanalogues.Thusweknewthatthebag-differenceofxandxwastheemptybag-,thisisstilltrueforxacanonicalbag,butwewouldworditas"xrnr.usxiszero".ThisisbecausetherestrictionofBag-differencetocanonicalbags(bagsofT's)ispreciselytheoperationwecall-.-subtraction.210.WhenCanonizeworksonPI,P2(twopredicates),andproducesanoperation,F,BothpredicatesmustahareacommonDomain,oftheformAxAforsomeconceptA,andtheifnewoperationFcanhave(A--A>aoneofitsDomain/rangeentries.Ifacanonicalspecialization(say'B')ofAisdefined,thenthedomain/rangeofFcanactuallybetightenedto<A-#B>,anditisalsoworthexplicitlystoringtheredundacrtentry(B-B>.Appendix3AMDiscoveryinMathematicsasHeuristicSearch-270-211.Inthesamesituationasthelastrule,OneconjectureisthatPIandP2areequal,whenrestrictedtoworkingonpairsofB's[i.e.,pairsofCanonicalA's,A'swhichareinF(A),rangeitemsforF,itemsxwhicharetheimageF(a)ofsomea(A].AftercanonizingEqualandSame-sizeintothpnewoperationLength,AMconjecturesthattwocanonicalbagsareequalifftheyhavethesamesize.CanonizeSuggest212.WhenCanonizeworksonP1,P2,bothpredicatesoverAxA,andproducesanoperationF:A-+A,ItisworthdefiningandstudyingtheimageF(A);i.e.,thetotalityofA'swhicharecanonical,alreadyinstandardform.WhenthisnewconceptCanonical-Aisdefined,suggestthetask"FillinDom/rangeentriesforCanonical-A".ThusAMstudiedCanonical-Bags,whichturnedouttobeisomorphictothenaturalnumbers.Whatwe'vecalled'Canonical-A'inthisrule,we'vereferredtosimplyas'B'ifearlierCanonizingrules.213.IfPIisaveryinterestingpredicateoverAxA,forsomeinterestingconceptA,ThenlookoverPI.SpecforsomeotherpredicateP2whichisalsooverAxA,andwhichhassomeinterestingpropertiesP1lacks.ForeachsuchpredicateP2,considerapplyingCanonize(PI,P2).214.AfterproducingFasCanonize(PI,P2)[bothpredicatesoverAxA],andafterdefiningCanonical-A,ItisworthrestrictingoperationsinIn-dom-of(A)toCanonical-A.Somenewpropertiesmayemerge.ThusafterdefiningCanonical-Bags,AMlookedatBags.In-dom-of.Inthatlistwastheoperation"Bag-union".SoAMconsideredtherestrictionofBag-uniontoCanonical-bags.InsteadofBag-unionmappingtwobagsintoanewbag,thisnewoperationtooktwocanonical-bagsandmappedthemintoanewbag.AMlaternoticedthatthisnewbagwasitselfalwayscanonical.Thuswasborntheoperationwecall"Addition".215.AfterCanonical-Aisproduced,ItismarginallyworthtryingtorestrictoperationsinIn-range-of(A)tomapintoCanonical-A.ThisgivesanaddedboosttopickingUniontorestrict,sinceitisinbothBags.In-dom-ofandBags.in-ran-of.Thisruleismuchhardertoimplement,sinceitdemandsthattherangeberestricted.Therearejustafewspecial-purposetricksAMknowstodothis.Restrictingthedomainis,bycomparison,muchcleaner.AMsimplycreatesanewconceptwiththesamedefinition,butwithamorerestricteddomain/rangefacet.Forrestrictingtherange,AMmustinsertintothedefinitionachecktoeiisurethatthefinaliesultisinsideCanonical-A,notjustinA.Thisleadstoaveryinefficentdefinition.216.AfterCanonicrNisproduced,Itisworthwhil-toconsiderfillinginexamples(especiallyboundary)ofthatnewconcept.AAppendix3AMDiscoveryinMathematicsasHeuristicSearch-271-Thisisaboveandbeyondtheslightpushwhichrule12givesthattask.Appendix3.10.HeuristicsfordealingwiththeoperationSubstituteNotethatsubstitutionoperationsareproducedviatheinitialconceptscalledParallel-replaceandParallel-replace2.Thefollowingrulesaretackedonthere.Parallel-replaceSuggest217.Iftwodifferentvariablesareusedtorepresentthesameentity,20thensubstituteonefortheother.Thisisveryimportantifthetwooccurrencesarewithinth.sameentryonsomefacetofasingleconcept,andlesssootherwise.Thedominantvariableshouldbetheonetypedoutpreviouslytotheuser;barringthat,theolderusage;barringthat,theoneclosesttotheletter"a"inthealphabet.Thisheuristicwasusedlessoftenandprovedlessimpressivethanwasoriginallyanticipatedbytheauthor.Sincemostconceptswerebegottenfromolderones,theyalwaysassumedthesamevariablenamings,hencetherewereveryfewmismatches.Aspecialtestwasneededtoexplicitlycheckfor"xuy"occurringasaconjunctsomewhere,inwhichcaseweremoveditandysubstitutedforxthroughouttheconjunction.218.Iftwoexpressions(especially:twoconjectures)arestructurallysimilar,andappeartodifferbyacertainsubstitution,Thenifthesubstitutionispermissablewehavejustarrivedatthesameexpressioninvariousways,andtagitassuch,Butifthesubstitutionisnotseentobetautologous,thenanewsnalogyisborn.Associatetheconstituentpartsofbothexpressions.Thisismadeinterestingifthereareseveralconceptsinvolvedwhichareassignedncwanalogues.ThesimilarstatementsoftheassociativityofAddandTimesledtothisrule'sidentifyingthemasanalogous.IfAMhadbeenmoresophisticated,itmighthaveeventuallyformulatedsomeabstractalgebraconceptslike"semigroup"fromsuchanalogies.Appendix3.11.HeuristicsfordealingwiththeoperationRestrictRestrict.Fillin219.Whenfillingindefinitions(algorithms)forarestrictionRoftheactiveconceptF,OneentrycansimplybeacallonF.Defn(F.Algs).ThusonedefinitionofAdditionwillalwaysbeasacallontheold,generaloperation'Bag-union.'Ofcourseonemajorreasonforrestrictingthedomain/rangeofanactivityisthatitcanbeperformedusingafasteralgorithm!Sotheaboverulewasusedfrequentlyifnotdramatically.20Whenwesaythatxandyrepresentthesomeentity,whatwereallymenisthattheyhavethesamedomainofidentity(eg.,Vx(Bag)cr.dtheyoreequallyfree(thereisapreciselogicaldefinitionofallthis,butthereislittlepointtopresentingithere.)Appendix3AMDiscoveryinMathematicsasHeuristicSearch-272-220.WhencreatingarestrictionRoftheactiveconceptF,NotethatR.GenlshouldcontainF,andthatF.SpecshouldcontainR.221.WhencreatinginarestrictionRoftheactiveconceptF,byrestrictingthedomainorrangetosomespecializationSofitspreviousvalueC,AviableinitialguessforR.WorthisF.Worth,augmentedbythedifferenceinworthbetweenSandC.Hopefully,S.WorthisbiggerthanC.WorthlAppendix3.12.HeuristicsfordealingwiththeoperationInvertInvertFillin222.WhenfillingindefinitionsforanInverseF-1oftheactiveconceptF,One"SufficentDefn"entrycansimplybeablindsearchthroughtheexamplesofF.Ifwealreadyknewthat4-16isanexampleofSquare,th,nAMcanusetheaboveruletoquicklynoticethatSquare-Inverse.Defn(16,4)istrue.Thisisalmostthe"essence"ofinvertinganoperation,ofcourse.Invert.Suggest223.AftercreatinganinvertedformF-1ofsomeoperationF,Iftheonlydefinitionandalgorithmentriesarethe"obvious"inefficientones,Thenconsiderthetask:"FillinalgorithmsforF-l",becausetheoldblindsearchisjusttooawfultotolerate.Appendix3.13.HeuristicsfordealingwithLogicalcombinationsEventually,theremaybeseparateconceptsforeachkindoflogicalconnective.Forthemoment,allBooleanoperatorsarelumpedtogetherhere.TheirdefinitionistootrivialforaFillin'heuristictobeuseful,andeven'Check'heuristicsarealmostpointless.Logical-combine.Check224.Theusermaysometimesindicate'Conjunction'whenhereallymeans'Repeating'.Appendix3AMDiscoveryinMathematicsasHeuristicSeirch.273-Logical-combine.Suggest225.Ifthereissomethinginterestingtoa'iyaboutentitiessatisfyingthedisjunction(conjunction)oftwoconcepts'definitions,Thenconsidercreatinganewconceptdefinedasthatlogicalcombinationofthetwoconcepts'definitions.226.Givenanimplication,Trytoweakentheleftsideasmuchaspossiblewithoutdestroyingthevalidityofthewholeimplication.Similarly,trytostrengthentherightsideoftheimplication.Logical-combineInterest227.Adisjunction(conjunction)isinterestingifthereisaconjecturewhichisveryinterestingyet%+'whichcannotbemadeaboutanyonedisjunct(conjunct).Inotherwords,theirlogicalcombinationimpliesmorethananyconsituent.228.Animplicationisinterestingiftherightsideismoreinterestingthantheleftside.229.Animplicationisinterestingiftherightsideisinterestingyetunexpectedbasedonlyonassumingtheleftside.Appendix3.14.HeuriaticsfordealingwithStructuresStructureFillin230.TofillinexamplesofakindofstructureS,StartwithanemptyS,pluckanyothermemberofExamples(Structure),andtransfermembersoneatatimefromtherandomstructureintotheembryonicS.Finally,checkthattheresultantSreallysatisfiesS.Defn.Thisisuseful,e.g.,toconvertexamplesoflistsintoexamplesofsets.231.Tofillinspecializationsofakindofstructure,addanewconstraintthateachmembermustsatisfy,oraconstraintonallpairsofmembers,oracoahs.raintonallpairsofdistinctmembers,oraconstraintwhichthestructureasawholemustsatisfy.Suchaconstraintisoftenmerelyastipulationofbeinginexample%"ofanX,forsomeinterestingconceptX.ThusAMmightspecializeBagsintoBags-of-primes,orintoBags-of-distinct-primes,orintoBags-containing-a-prime.K4i-UAppendix3AMDiscoveryinMathematicsasHeuristicSearch-274-Structure.Interest232.StructureSismildlyinterestingifallmembersofSsatisfytheinterestingpredicateP,or(equivalently)iftheyareallaccidentallyexamplesoftheinterestingconceptC,or(similarly)ifallpairsofmembersofSsatisfytheinterestingbinarypredicateP,etc.Also:eKINDofstructureisinterestingifitappearsthateachinstanceofsuchastructuresatisfiestheabovecondition(forafixedPorC).ThusasingletonisinterestingbecauseallpairsofmemberssatisfyEqual.Theconcept"Singletons"IsinterestingbecauseeachsingletonIsmildlyinterestingInjustthatsameway.Similarly,AMdefinestheconceptofabagcontainingonlyprimes,becausetheaboverulesaysitmightbeInteresting.233.Astructureismildlyinterestingifonememberisveryinteresting.Evenbetter:exactlyonemember.Also:aKINDofstructureisinterestingifeachinstancesatisfiestheaboveconditioninthesameway.ThusthevaluesofADD-'areinterestingbecausetheyalwayscontainpreciselyonebagwhichIsaSingleton.Appendix3.15.HeuristicsfordealingwithOrdered-structuresOrdered-struc.Fillin234.TofillinsomenewexamplesoftheorderedstructureS,whensomealreadyexist,Pickanexistingexampleandrandomlypermuteitsmembers.235.Tofillinspecializationsofakindoforderedstructure,addanewconstraintthateachpairofadjacentmembersmustsatisfy,oraconstraintonallorderedpairsofmembersintheordertheyappearInthestructure.SuchaconstraintIsoftenmerelyastipulationofbeinginexampleofonX,forsomeinterestingconceptX.ThusLists-of-numbersmightbespecializedintoSorted-lists-of-numbers,assumingAMhasdiscovered"s"andassumingitischosenasthe'constraint'relationshipbetweenadjacentmembersofthelist.Ordered-struc.Check236.Ifthestructureistobeaccessedsequentiallyuntilsomeconditionismet,andifthepreciseoresringIssuperfluous,Thenkeepthestructureorderedbyfrequencyofuse,themostusefulelementfirst.Thisisasimpledata-structuremanagementtrick.Ifyouhaveseveralrulestouseinacertainsituation,andruleRisonewhichusualysucceeds,thenputRfirstinthelistofrulestotry.Similarly,inapattern-matcher,tryfirstthetestmostlikelytodetectnon-matchingarguments.Appendix3AMDiscoveryinMathematicsasHeuristicStarch-275-237.IfstructureSisalwaystobemaintein.dinalphanumericorder,ThenAMcan2l..ualiymaintainitasanunorderedstructure,ifdesired.Luckilythisheavilyimplementation-dependentrulewasneverneededbyAM.Ordered-strucInterest238.AnorderedstructureSisinterestingifeachadjacentpairofmembersofSsatisfiespredicateP(forsomerare,interestingP).WhenAMdiscoverstherelation"Y,itimmediatelythinksthatanysortedlistofnumbersismoreinteresting,duetotheaboverule.Appendix3.16.HeuristicsfordealingwithUnordered-structuresUnord-struc.Check239.Tocheckanexampleofanunorderedstructure,Ensurethatitisinalphanumerically-sortedorder.If-t,thenSORTit.Allunorderedobjectsaremaintainedinlexicographicorder,sothattwoofthemcanbetestedforequalityusingtheLISPfunctionEQUAL.Becauseofthisconvention,anytwostructurescanthereforebetestedforequalityusingthisfastlist-structurecomparator.Appendix3.17.HeuristicsfordealingwithMultiple-eles-structuresMult-ele-strucFillin240.TofillinsomenewexamplesofthestructureS,whereSisastructureadmittingmultipleoccurrencesofthesameelement,whensomeexamplesalreadyexist,Pickanexistingexampleandrandomlychangethemultiplicitywithwhichvarlourmembersoccurwithinthestructure.Appendix3.18.HeuristicsfordealingwithSetsSets.Suggest241.IfPisaveryinterestingpredicateoverX,Thenstudythesetwosets:themembetdofXforwhichPholds,andtheOnesforwhichPfaile.duetothe€errentLOPWmplementationofdata-structuresAppendix3AMDiscoveryinMathematicsasHeouieticSerch-276-WhilewehumansknowthatthispartitionsXintotwopieces,AMisneverexplicitlytoldthis.ItwouldoccasionallybesurprisedtodiscoverthattheunionoftwosuchcomplementsNaccidentally"coincidedwithX.Incidentally,thisruleisreallythekeylinkagebetweenpredicatesandsets;itisclosetotheentryonSeLViewwhichtellshowtoviewanypredicateasaset.Sets.Interest242.AsetSisinterestingif,forsomeinterestingpredicateP,whosedomainisX,Saccidentallyappearstoberelatedstronglyto{x4XIP(x)},i.e.,tothosamembersofXsatisfyingP.Tothesurpriseoftheauthor,thisruleneverfoundapplicationinanyofAM'sruns.LL**::-::::___-277-Appendix4.Maximally-DivisibleNumbersThehonorofyourmachineispreserved.ErdosiThisappendixdiscussesadiscoverymotivatedbyAM:anewlittlebitofmathematicsthatwasdiscovered.Itispresentedasifitwereamathjournalarticle,inafairlyformalway,almostunmotivated.Aftertheconceptwasdiscovered,theauthorlearnedthatRamanujan,aself.taughtIndianmathematician,hadworkedonsimilarissuesearlyinthiscentury.ThefinalsubsectioncontainsarelaxedsummaryofwhatAMdid,whattheauthordid,andwhatRamanujandid.Appendix4.1.AMeaningfulQuestionWebeginbyaskingthequeKion,"Whatistheconverseconcepttoprimenumbers?"Ifwedefineprimenesstomeanthatanaturalnumberhasasfewdivisorsaspossible(niamely,justtwoofthem:Ianditself),thentheconversekindofnumberwouldbeonewhichhadanabnormallylargenumberofdivisors.OnecouldconsiderthefollowingsetMofmaximally-divisiblenumbers:M{x(NI(Vy<x)(d(y)<d(x))}whered(n)isthenumberofdivisorsofn,2N'isthesetofpositiveintegers,andtheverticalbar,'1'isread'suchthat'.Inwords,thissaysthatMisthesetofallpositiveintegerssatisfyingthepropertythateverysmallernumberhasfewerdivisors.Thatis,wethrowintothesetManumberxif(andonlyif)ithasmoredivisorsthananysmallernumber.SoIgetsthrownin(thesmallestnumberwithIdivisnr),2(having2divisors),4(3divisors,namely1,2,and4),6(4divisors),12(6divisors),etc.AnotherwaytospecifyMisasthesetcontaining(foralln)thesmallestnumberhavingatleastndivisors.Noticethatwearenotgoingtoinclude"thesmallestnumberwithprecisely5divisors",sincethisnumber(whichhappenstobe24or16)isbiggerthan12(whichhas6divisors).SononumberinMhaspreciselyfivedivisors.LRemarkedbyPaulErdos,afterexming*omeofthisappndix'$materiaL2E.g,d(12)I1,2,3,4,6,12)1J.6.1..'42Appendix4AMDiscoveryinMathematicsasHeuristicSearch-278-Oneofthequestionsattheheartofourstudyis"Givend,whatisthesmallestnumberwithatleastddivisor?"Howcanweevenstartonthisquestion?Themostpowerfultoolwehaveisthefollowingcombinatorially-provedtheorem:(T1)ifwewritenas2a13a2.pkak,thend(n)(al+iXa2Il)...(ak+i).Ourcentralquestioncouldbeansweredifwecouldsomehowinvertthisformulaintoonewhichexpressednasafunctionofd,andthenfoundtheminimaofthatfunctionn(d).Coupledwiththeknowledgethateachnumbercanbefactoreduniquelyintoprimefactors,TIprovidesaclosed-formwayofmanipulatingd(n).Thatis,nisreallyafunctionofthesequenceofexponentswhenwrittenas2ala2.,sowecanconsidern-n(aI,&2,..).ThenTIisreallyawayofexpressingd(n)d(ai,a2..).2::1..---.--V'12ti?'S.o°S5::.:.:-_:.::::-:-::::;:::.:-:-.:.-._,...:.:...:.-.:.-:::;:-::-;::::":::i;i:';::,iAppendix4AMDiscoveryinMatheticsasHeuristicSearch-279-Appendix4,2.SpecialCase:n2a3bLet'sconsideraspecialcase.We'llrestrictourattentiontonumbersnwhichareoftheform2a3b.SoTIsaysthatd(n)-(alXb+l).Considerfixingd,andaskinghownvarieswithaandb.Noticethatwearenowsayingthat(a~lXb.l).d-constant.Sowecansaythat(b.l)-d/(a~l),sob-(d/(a*I))-l.Soournumbernisreally253((d/(e.t))-IJAha!Thisisanexpressionfornsimplyasafunctionofa.Wecanusecalculustofindtheminimaofthisfunction.Thatwillcorrespondtotheoptimalexponenta,fromwhichwecancomputetheoptimalb.dnldaa28(3b(-d/(a.#)2)10g(3))03(d/('1l))-(28log(2))u[(*1)1og(2)(b1i)log(3)](n/(s.l)).Thisiszerowhen(a.i)log(2)-(b.l)log').Sowehavetwoequationsnow:(#)a(b#l)1og(3)/log(2)(a+)ad/(b.!)Togethertheysaythat(b+l)og(3)log(2)dl(b~l),fromwhichwederive(b+l)2=log(2)d/log(3).Substitutingthisbackin,wealsogetthat(a+1)2log(S)d/log(2).Ifreal-valuedexponentswereallowed,ouroptimaln(d)wouldbe.2SQRTIR1f(3)/Io(2)J3SQRT[-Ios(2)O(3)).Threeobservationswecanmakefromintuitionandjustifyfromrealityare(i)thisoptimalrealvalueisbetterthan(i.e.,S)anyintegraln(divisibleonlyby2and3)withatleastddivisors,(ii)theidealnisveryclosetothebestsuchintegraln,(it)thebestsuchintegralnwillhaveexponentsaandbwhichareclosetoourtheoreticalreal-valued"ideal"aandb.Forexample,ifwechoosetoaskforanumberwithatleast8divisors,ourtheoreticalvaluesforaandbareabout2.6and1.2;theidealnisthenabout23.Inactuality,thefirstnumberwith8ormoredivisorsis24,andItisfactoredinto031(i.e.,thebestintegralvaluesforaandbare$andi,respectively).iIAppendix4AMDiscoveryinMathematicsasHowisticSearch-280Appendix415SpecialCase;n2a3bScLet'sconsiderasecondspecialcase.We'llrestrictourattentiontonumbersnwhichareoftheform2a3b5c.SoTIsaysthatd(n)u(a+lXb+iXc*1).Considerfixingd,andaskinghownvarieswitha,b,andc.Noticethatwearenowsayingthat(&+IXbIXc+0-d-constant.Sowecansaythat(cl)-dI(a*lXb*I),socu(d/(a~iXb.I))-i.Soournumbernisreally2ob5(dI(s.1)b1.1).Viewingcasafunctionofaandb,wecancomputethedifferentialdcd(dI(a+lXb.I))*d,[d(iI(a41Xbsl))]-do((l(a.l)X-I/(b.I)2)db+(II(b.l)X-II(a+I)2)dal-(c.i)I(b.I))db+(.(c.1)I(a.l))daWewanttominimizethisfunctionnun(a,b).Itwillturnouttobeeasiertofindtheminimaoflog(n),viewedasafunctionofaandb.Theminimaofnwilloccurpreciselyattheminimaoflog(n).Sotofindthesolutionstodns.0,wejustfindthesolutionstodLOGn0.Nowlog(n)log(2)alog(S)blog5)c.SothedifferentialdLOGnlog(2)dalog(S)db+log(5)dc.Substitutingintthevalueweobtainedfordc,wegetdLOGnolog(2)ds*log(3)db+log(5)(-(cI)I(b~l))db(-(c*I)(.I))daj1log(2)-(c~l)log(5)/(a#)dssjlog(3)-(c.I)loX(5)/(b*I))dbOnenicewaytomakethisIdenticallyzeroisifthecoefficientsofdaanddbbecomezero.Thatis,nwillhaveminimawhenbothlog(2)u(c~l)log(5)I(a.1)andlog(S)**(c*l)log(5)I(b+1)aretrue.Thatis,when(a+llog(2)(b+l)og(S)(c+l)og(5).Thisisageneralizationoftheearlierresultthatminimaoccurwhen(a~i)log(2)(b~i)log(3).Wecaneasilyseethatthegeneralpatternoftheconstraintsare:(a,+I(aj+)-log(PJ)Iog(Pi).Whataretheexplicitformulaefortheexponentsinthek-3case?WecansolveforthemintermsofdbyusingTI.Namely,*(s.I)(b#1)(c*1)ad(@*I)a(c#INog(5)/og(2)(b~l),(c*I)log(5)/og(3)Substitutingthelasttwoequationsintothefirst,weget(c+1)3(log(5))2-dlog(2)iog(3).Hencec+ICUBEROOT~dlog(2)log(S)109g2(5)1.-77..~Appendix4AMDMcoveryinMathematicssHeuriticSearch-281-Forreasonsofsymmetry,wewilltransformthisslightlyintoC.1aCUBEROOT[dlog(2)log(3)log(5)3/Iog(5)Thenicelysymmetricequationsfora+landb+1turnouttobes#1aCUBEROOT[dlog(2)Iog(3)Iog(5)]Ilog(2)bolaCUBEROOT[dlog(2)log(3)Iog(5)]fIog(3)Viewedinthisway,wecanrewriteourequationfromthek-2caseintothesamekindofexpression,namely:@#IaSQUAREROOT[dlog(2)log(3)]/Iog(2)b.1aSQUAREROOT[dIog(2)log(3)]/log(3)Againthegeneralpatternseemstobeevident:rtairlKthROOT(dIog(2)log(3)...IoZ(pk)3,Io)(pi)Asinthek-2case,theequationsfora,b,chaverealcorrespondencetotheoptimalintegralvaluesoftheexponents.Appendix4.4.TheGeneralCaseWearenowreadytoconsiderthemostgeneralcase,namelywhenn2a13a2""pkak.ByTI,weknowthatd(n)(aliXa2")...(ak~l).Onegeneralizationofourearlierworkwouldindicatethatminimaofn(foragivenvalueofd)occurwhenever(T2)[foralliandjbetweenIandkJ(ai+l)/(aj+i)log(pj)Ilog(pi).Thisisreallyasetofk-Iequationsinthekdifferentvariablesal,...,ak.UsingtheformulafordwhichTIprovides,wecansolvethissystemofequationsforeachaiintermsonlyofd.Theresultingformulaeare:(T3)[ViklaiiIKthROOT[dlog(2)log(3)...log(pk)]log(pi)ThederiviationofT3fromT2isstraightforward.BelowistheproofofT2,duetoKnuth.HeusesLagrangemultipliers.Thetaskistominimizen,foragivend.Itsufficestofindtheminimaoflog(n).Thuswewishtominimizeallog(pl)...aklog(pk),foragivenvalueofd-(alIl)....o(ak+l).PTOAppendix4AMDiscoveryinMathematicsnsHeuristicSearch-282-ButthislatterconstraintmeansthatotaI).(ak~l)dJ)isidenticallyzeroforanyvalueofX~Thuswemayviewourproblemastheminimizationofallog(pl)....aklgPk);ke((all)..(ak~l)dlForany1,thepartialderivativeofthiswithrespecttoaiislog(pj)'(ll..a~Wa.)Atanextremum,allsuchpartialderivativesvanish.ThatIs,forany1,log(pi)%-[(all)..(ak.l)J/(ajil)0.Thissaysthat(ai.l)log(pi)m4(al).ak)1So,foranyI,(ajl)log(pi)-4k.d.SinceX~anddareindependentofI,thisprovesT2.NowthatweknowT2andT3tvibetrue,wecanactuallycomputetheoptimal3valuesforn.Itwillsimplifymattersagaintoconsideronlylogn)forthemoment.[note:SIGMAi(...)means"thesum,fromI-.1toi-k,of...JNow-SIGMA,(log(pj)all-SIGMAi~log(piX(KthROOT(dlog(2)log(S)...log9(Pk)3/log(Pi)).01*SIGMA1(KthROOT(dlog(2)kog(3)-.log(Pk)lg(PI)J*kEKthROOT(dkog(2)10g0)...og(Pk))]-SIGMAi(log(pi)JThisthengivestheniceresult-(*n~{,CkK"hROOT(d)lKthR0OT(og(2)log(3)..jog9(Pk))3}Iflog(2)Iog(3)...log(pk))IfweletFkrepresenttheproductofthefirstItprimes,thenthissaysn[,[ekKthROOT(d)KthROOT(FQ}FkIfweletGkbee(kKthROOT(log(2)...g~p))J,thenthisbecomesKaaReeliniegraLTheexporentsaiaresatuedtobealhowedtohaverealvalues.Appendix4AMDiscoveryinMathematicsasHeuristicSearch-283-(T4)n.{Gk[KthROOT(d)]}Fk.SobytabulatingGkandFk,wecanefficientlycomputetheidealvalueforn(andforeachai)givenadesireddandallowablek.Noticethatifweareallowedmoreandmoredistinctprimefactors,thatis,askgrows,thereal-valuedexponentsaigetsmallerandsmaller,untilfinallytheybecomenegative,andwehavebrokenalltiestoreality.Empirically,theIdealvalueseemstobe-obtainedwhennoexponentisallowedtobebelow0.5;inthosecases,theidealrealvaluefornisbothcloseto,andslightlylowerthan,anyIntergralsolution.Ofcoursethisisnotsatisfactory;whatwenowneedisaformulawhichtellsus,foragivend,howmanydistinctprimefactorsanynmusthave,inordertohaveddivisors.Thatis,wewouldliketoknowkasafunctionofd,orkasafunctionofn.Luckily,k(n)isaveryslowlychangingfunction.Forthenumbersofformn-2o3,s5...opk,wecanseefromTIthatd-2k.Formaximally-divisibles,itseemslikelythatdwillIngeneralbelarger;sayitisoftheformd-Ak(whereaistriviallyseentobe12).:Thenwecanplugthisinto(0)e{[log(d)/log(A1AhKthROOT[l0g2logS...IogPkJ)2.3.5...PkButthegeometricmeanisroughlylog(pk),whichisaboutlog(log(d)).Also,theproductofthefirstkprimesisroughlykk,whichisabout[log(d)/Iog(0)J[Ioglog(d)-loglog(a)].Puttingtheseintothelastequation,weget:n>2e{[l~g(d)ll~gA)XO-1')l0g(l0g(d))}nd{loglog(d)(P-1)log(A))Ifthebestwecandoisthetrivialresultthat3}2,thenweobtainthealready-knownrelation4thatnd{loglog(d)log2}Ifwecanshowthatkisatleast3,thenthesen'sjumptothesquare$oftheirformervalues.4Thisisinfactthesherpestboundhithertoknowforn(d).ktwaspreviousderivedmuchmoretortuosly,usingmethodsnotrelatedtotheclckvk.Appendix4AMDiscoveryin,thematiceasHeuristicSearch-284-Thiswouldbeamuchbetterbound,ofcourse.Ingeneral,thesharpestboundwillbefoundbydeterminingAsharply.Appendix4.5.AnevenstrongerclaimAveryconstructiveanswertothiswholedevelopmentcouldbeprovidedifthefollowingweretrue:(TS)ThesetMofmaximallydivisiblenumberscoincidespreciselywiththesetofintegersobtainedinthefollowingmanner:()Foreachnaturalnumberd,useT3tocomputetheoptimalexponentsforn(d,k),withkaslargeaspossiblesuchthatnoaiIsbelow0.5(2)Roundeachexponenttothenearestinteger,andcomputethecorrespondingn.Addthisntotheset.Thereisprobablyaniceclosed-formformulaforsuchnumbers,asortof"compiled"versionofT3andT5.ThisisthenthedesiredcharacterizationofM,ExhaustivesearchhasinfactconfirmedT5foralldbelow1500.5T5hastheadvantageofbeingintuitivelyclear.Perhapsitsproofwillturnouttobenontrivialornonexistent.Ileaveitas"AM'sconjecture*.Thisissofartheonlypieceofinterestingmathematics,previouslyunknown,thatwasdirectlymotivatedbyAM.Forexample:considerd-1344.Thelargestthatkcanbewithout1'3callingforak0.5iskW7.Forthisdandk,T3predictsexponents5.9,3.3,2.0,1.4,1.0,0.9,and0.7.Roundingthisoff,weget6,3,2,1,1,1,I.Nextwecompute263352731171.Thisis735,134,400.TItellsusthatthishasinfactprecisely1344divisors(coincidence).Exhaustivesearchtellsusthatnosmallernhasthatmanydivisors(thisisaverificationofT5).Incidentally,theidealrealvalueforn(forthiskanddvalue,using(*))is603,696,064.Noticethatitiscloseto,andlessthan,thebestpossibleintegralnwith1344divisors.Anothersuch"rounded.exponent"numberisn,,21355372111i17119'23'29'3137'41'4347'531.Theprogressionofitsexponents+l(9643322242222222)Isaboutascloseasonecangettosatisfyingthe"logarithm"constraint.BythatImeanthat9/6isclosetoIog(3)/Iog(2)that2/2isclosetolog(47)/Iog(43),etc.ChanginganyexponentbyplusorminusIwouldmakethoseratiosworsethantheyare.Thisnumbernisabout25billion,andhasabout4milliondivisors.TheAMconjectureisthatthereisnosmallernumberwiththatmanydivisors.Incidentally,theaveragenumberintheneighborhoodofnhasabout210gi09ndivisors(about9divisors,fornumbersnearthisn).F5Theonlyfaultisthatthenumber4isinyetisn'tfoundbythisprocedure.Thismaybeduetoerrorsoccurringnear'.*"emNiegers,oritmayportendtheoccasional(perhapsinfinitelyoften)failureofthisprocedureT5.V^%Appendix4AMDiicoveryinMathematicsasHeuristicSearch-285-Appendix4.6.AMandRamanujanIthenadoptadifferentpointofview/fromDirichlet,Wigert,andotherVmathematicianswhohavestudiedd(n)].Idefineahighlycompositenumberasanumberwhosenumberofdivisorsexceedsthatofallitspredecessors.""RamanujanWhatAMdid:AMdefinedthesetM,ofmaximally.divisiblenumbers.Itthoughtthesetmightproveinteresting.AMfoundseveralmembersofM.Ithadrecentlylearnedaboutuniquefactorizatlon,soitfactoredeachmember:eachnumbern-2ai...pvwasreplacedbythesequence<al,...,ak>.Whilefactoredinthisform,aroughkindofregularitywasnoticed.AMdidn'thavetheconceptsoflogarithms,exponentiation,e,analyticity,reals,continuity,etc.,soitcouldn'tpossiblycarrythisworkmuchfurther.Whattheauthordid(aidedandabettedbyRandallDavis):Noticingthegeneralpatterninthesesequences',theauthordevelopedtheresultswhichweredescribedinthepastfewsubsections.Themajorresultsareasfollows:1.Thesmallestpossiblenumbernwithdormoredivisors(wherenisoftheformn,2al...pV)isekKthROOTdlog2,log3,...,io(pk))/2,3...,Pk.Thisisarealnumber,whichisagoodlowerboundonn(d)(thesmallestnwithdormoredivisors).IfkIsapproximableaslog(d)/Iog(a),forsome0(weknowAisbiggerthan2),thentheprecedingformulacanbesimplifiedinto:n2:d~oglogd)(1Sl)/Iog(.Thehigheronecanprove0(>2)is,thebetterthisresult.2.Forsuch"Idealized"realvaluesofn(d),theexponentsaioftheprimefactorsofncanbecomputedbytheformulae:a-i*aKthROOT~d.log(2)log1(3)e...*lOg(pk)}/Iog(Pi).Theseexponentssatisfythewell-knownrelationshipthattheproductofthe(a1,l)'sisequaltod.Theyalsosatisfythelesser-known7relationthat(ai+I),log(pi)isaconstant(thesameforallvaluesoftheIndexi).Namely,theyseemedtobedesribableas:<bigno.,mediumno,msdkm-smll-no,.,2,2,1,1,.,1>77Ithouhtthiswee"unknown",butlaterfoundthatRamanujenhedfoundaverysimilarrelationship.IVAppendix4AMDiscoveryInMthemticsasHeuriticSearch-286-3.TheelementsofMappeartobethosesamenumbers,butwiththeabovereal-valuedexponents(theai's)roundedtothenearestinteger.WhatRananujandid:Veryrecently,theauthorwasdirectedtotheworkofSrinivasaRamanujanAiyangaiThisIndianmathematicianwasessentiallyself-taught.Receivinglittleformaleducation,hehadalmostnocontactwithWesternnumbertheory.Yethebecameinterestedinnumbertheoreticissues,andre-derivedmuchofthatfieldallbyhimself.Inthatway,heisperhapstheclosesthumananaloguetoAM:hehadability,techniques,backgroundknowledge,andhewaslefttoexploreandredevelopmuchelementarymathematicsonhisown.LetmequotefromG.H.Hardy'sfinal'sketchofthisgenius:"Thelimitationsofhisknowledgewereasstartlingasitsprofundity...Herewasamanwhoh...adfoundthedominanttermsofmanyofthemostfamousproblemsintheanalytictheoryofnumbers,andyet...hisideasofmathematicalproofwereofthemostshadowydescription.Allhisresults,neworold,rightorwrong,hadbeenarrivedatby...intuitionandinductionfromnumerical*examples."-ItwasexcitingtolearnthatRamanujanhadalsodefinedtheverysamesetM,whichhecalledhighly-composiltenumbers.Hisgreatinterestinthemhasbeenalmostunique'withinmathematicscirclesuntilAMwasledtoconsiderthem.InanarticlepublisheJin1915,Ramanujanderivestherelationship:ai.lof(pi)-const,whichhesaysholdsapproximately,forvaluesofiwhicharemuchsmallerthank.Heestablishesthisusinginequalities(andusingthedistributionofprimenumbersn(x)).Thusithasadifferentflavorfromthesimilarrelationshipderivedusingcalculus(2abve,andalsofoundasstatementT2acouplepagesLgo).Also,Ramanujanatthispointwentoffonadifferentpath,andmissedtheothertworesultslistedabove(*1and#3).Instead,hedefinedaspecializationofth.sconcept,whichhecalled'superiorhighly-compositenumbers',andinvestigatedthemindetail.NeitherAMnortheauthorhadthesophisticationtomakethatdefinitionandtofindtheresultswhichRamanujansubsequentlyuncoveredaboutsuperiorhighly-compositenumbers.TakenfromRamnujen'eobituarynotice,1921.Foundintheprefaceto[Rairanujan271"11-1,9recently,Pl4Erdoshebeenstudyintthesehihly-compositenumbers.'4',-287-UAppendix5.TracesofAMinActionTherearethreetypesoftraceswhicharerepresentedinthisappendix.Firstcomesahigh-levelprosedesription,acommentaryonAMasitgoesthroughalong,successfulrun.Thisisanexpandedversionofthehistorian'sdescr',:,ionofAMasamathematician,foundinSection1.3,onpage10.NextcomesadetaileddescriptionofwhatAMdid,onanumberedtask.by-taskbasis.Thisisanexpandedversionofthetask-by-tasktracegiveninSection6.1,onpageI15.Foreachtask,aparagraphisprovidedexplaininv.hatAMdid,why,andwhathappened.Thesetasksummariesstartonpage294.ThetasknumberslistedtherecorrespondtothenumberinginSection6.1.Finally,severalpagesoftracesarepresentedIntotallyundoctoredform,sothereadercanseethat(i)itishardertofollowthantheslightlyrephrasedones,andyet(ii)thoseearlier,"doctored"tracesdidn'tenhance(oralterthethespiritof)whatAMprintedout.Appendix5.1.ProseTracesInthissectionaresketchedmanyofthepathswhichAMexploredduringitsruns.BesidesdescribingwhatAMdid,thissectionwillexplainwhy,andindicatewhereeachpathled.Alongtheway,someconceptswerecreatedwhichwereinterestingtous(inthesmugwisdomofmilleniaofhindsight)butwhichAMneverbotheredtodevelop.Thesewillbenoted,andastabwillbemadetoapologizeforAM1AfewexcitingmomentsoccurredwhenAMbecameInterestedInaconceptwhichhadbeenignoredbyhumansatleast,unknowntotheauthor.Veryoftenthe"newdiscovery"wasnevershowntobeanythingotherthancute(e.g.,theconceptofTimberline;seepage133foradefinitionanddiagramofit).AMbeganbyexploringstructuresandstructuraloperations.Afteritwasstarted,withthebaseofknowledgeoutlinedinthepreviouschapter,themainactivityAMdidforthefirstseveralminuteswastofillinexamplesofvariouskindsofstructures(e.g.,Sets),structuraloperations(e.g.,Insert),andcreatenewconceptsofthistlipe(e.g.,Singleton).Intioredetail,hereiswhatwasdone:Tryingtofillinexamplesofset-operations,AMkeptfailingbecausetherewerenoknownexamplesofSetsio"run"thoseoperationson.SoitturnedtofillinginexamplesofSets.Someofthesecamefromtherecursivedefinitionofaset:"SisasftifS-florifbot-(I)wecanpullanelementyoutofSusingSome-member,and(ii)Set.delete(y,S)isastt".Aheuristicruleknewtoextractthebasecasefromsuchadefinition,yielding{)asoneexampleofaset.Anotherheuristicsaidtorunoperationswhoserangeis'Sets'.OneoftheseIsSet-insert.SoaprocedureforgettinganewsetistotakethegivensetS,andanythingy,andrunSet-insert(y,S).Whenthiswasdone,usingS-{},abunchofsingletonsThetypicalexcuseisthatAMwa.distractedatthotmomentbysomeevenmoreinterestingtook.Appendix5AMDiscoveryinMathematic,asHeuristicSearch-281-werrcreated.AMliterallycollectedExamples(Anything)andrandomlychosemembersyfror1thatbigandvariedassortment.Otherse")perationswererunjusttoprovidesomeadditionalexamplesofSets.Noteveryattemptw:-,ucessful,ofcourse:oneheuristicsaidtofitidsomeexamplesofListi,andthenusetheVin,,facetofSetstotransformthemlntosets.Unfortunately,therewerenoexamplesofanyotherkindsofstructuresatthemoment,sothisrulefail-ad.Afterabout20cpuseconds,t.hetimeandspacequantawerebothjustaboutexhausted.Roughly30examplesofsetswerefound.Insimilarways,exampleswerefoundforBags,Lists,Osets,andOrdered-pairs.Examplesofstructuraloperationswerefound"incidentally"asabovetoaidinproducingexamplesofacertainkindofstructure.Occasionally,theprimarytask(theoneselectedfromtheagenda)wastofindexamplesofagivenoperation.Inthatcase,AMspentagreatdea!oftimejustonthatoneoperation.Forexample,considerSet.union.WhenAMgo'aroundtofillinginsomeexamplesforit,manyexamplesalreadyexistedundertheconceptsofSets,Bags,andBag-union.OnewaytogetexamplesofSet-unionwasbyanalogytoBag-union.Thiscausedsomeslightlyerroneousentriestobefound(e.g.,{a,b,c~u{a,c,e).{a,a,b,c,c,e)).Sucherrorsweresooncaughtandcorrectedwhenthetask"CheckexamplesofSot-union"waschosenfromtheagenda.SlmilarerrorsandcorrectionsoccurredwhenAMviewedlistsasiftheywereosets,inordertofindexamplesofosets.Thesimpledevelopmentdescribedabovewasbrokenfrequentlyby%omenewconceptbeingcreatedandfoundtobeveryinteresting.Infact,iflefttoitsownjudgment,AMwouldneverfinishtheaboveprocess,becauseoftheseinterruptions.Theusermustinterruptandtellittoignorenewconcepts,ifhereallywantsAMtofinishfindingexamplesofallthosestructuresandoperations.Whatkindsofconceptswerecreated,andwhy?WhatdidAMdotoinvestigatethem?Ingeneral,whathappenedwasthis:AsAMcollectedexamplesofaconceptC,tilecharacteristicsofitsefforts(howeasy/hardtofindexamples,howvariedtheywere,etc.)causedcertainheuristicrulestotrigger.Thoserulesthencausedsomenewconceptstobecreated,foraparticularreason.AMwouldfindexamplesofthem,thencomparetheresultswithalready-knownconcepts.ThefirstinstanceofthisprocesswaswhenAMfoundmanyexam,.sofsetssoeasily.Arulesaidthatinsuchcases,itwasworthwhilespecializingtheconceptSets.Thatis,makeanewconceptwhichwouldhavefewerexamples.OnewayAMdidthiswastolookovertheInterestfeaturesofallgeneralizationsofSets,pluckacoupleofthem,andconjointhemontothedefinitionofSets,therebygettingadefinitionforabrandnewconcept,calledinteresting-setsorINT-Setsforshort.Thefeatureselectedfirstwasthefollowing:eachpairofelementsofthestructuresatisfythesamerarepredicateP,forsomeP.ThiswaspreviouslytackedontotheInterestfacetofStructures.Initially,therewereveryfewpredicatesknE:w:Constantly-True,Constantly.False,Object-Equality.ThefollowingthreetypesofINT-Sets-.Yorethereforeeventuallyfound:(I)Setsthetimeconceptbutinanewdisguise(foranypairofmembersfromanyset,Corstantly-Truewou!dreturnTrue),(ii)Empty-setsanaireadyknownconcept,butnowwithanewdefinition(foranypairofmembersfromanyset,Constantly-FalsewouldneverreturnTrue),and(iii)Singletons'(a)'(setsforwhichallpairsareEqualtoeachother).Appendix5AMDiscoveryinMathefrticsSOHeuristicStIrch-289-Thisimmediatelycatapultedtheemptysettostardom.AnotherheuristicrulehadAMrestrictitsattentiontothepredicateswhichwerenottrivial.I~tthi:case,bothConstant-TrueandConstant-Falsewerenolongereligible.SotheonlyremainingINT.SetswerethoseforwhichallpairsofelementswereEqual.AMdecidedtoexplicitlydefineanewkindofsethavingjustthatdefinition.ThisbecameaspecializationofINT-Sets,calledEquality-setsor7setsforshort.SincetheemptysetwasAlreadydistinguished,itwasdecidednottoincludeitasavahoEset.SoEsetswerepreciselythesetswewouldcallSingletons.Unfortunately,theset-operationUnion,whenappliedtoSinglet6ns,didn'talwaysyieldsingletons.Byisolatingthekindofsetstheydidyield,andnotcountingthefewextremecaseswhentheyyieldedsingletons,AMdiscoveredtheconceptofDoubleton:asetwithpreciselytwomembers.Typically,theunionofSingletonswasadoubleton,theirIntersectionwastheemptyset,theirSet-differencewasasingleton,insertinganythingintoasingletonwasadoubleton,removingsomethingleftasingleton,etc.Theexceptionswereallrelatedtowhentheargumentswereequal.Severalmorestructuralconceptswerecreatedandexploredinthisway,besidesSingleton:Doubleton,Tripleton,Function(anoperation,allofwhosevaluesweresingletonsets:i.e.,asingle-valuedoperation),...Ingeneral,theseoccurredbecausetheintialprimitiveconceptsweretoogeneral,tooeasytosatisfy.DuringitsinvestigationofSet-Intersection,AMnoticedthatsometimesXnY-X,andformalizedthatrelationshipbetweentwosets.ThisisJusttherelationwenormallycallSuperset.ThenotionofSubsetalsowasdiscovered,butAMneverhadmuchinterestineitherofthesenotions.WhenAMlookedforexamplessatisfyingthepredicateObject-Equality,abbreviatedEqual,thesituationwasjusttheopposite.Aheuristicruleattachedto'Active'indicatedthatexamplescouldbefoundbyrandomlyinstantiatingthetwoargumentsofEqualwithapairofobjects.Therewereabout100knowne:amplesofst-uctures.AMgatheredthemintooneset,andthenrepeatedlychoseapairofthemtorunEqualon.Thusonlyabout1%ofthetimedidItsucceed(didEqualreturnthevalue1).Anotherheuristictriggerred,andsaidthatinsuchcases,itwasworthwhiletryingtogeneralizethepredicateEqual.Anewtasktothiseffectwasaddedtothagenda.Soon,AMselectedthistask,andtriedtocreatenewconceptswhichweregeneralizationsofEqual.OnedefinitionofEqualwasatransparentrecursiveone,whichessentiallysaidthatxandywereEqual1fftheirCarsandtheirCclrswere,piusithadabasestepthataskedifbothargumentswereempty(inwhichcaseEqualreturnedTrue),orifpreciselyoneargumentwasempty(inwhichcaseEqualreturnedFalse),orifbothargumernswereidenticalatoms'True),oriftheywerenonldenticalatomsoronlyonewasanatorm(False).X(x,y)IFxandyare;-enticalatoms,THENreturnTrue;ELSEIFeitherxoryisnotalist,THENreturnFalse;-EaseELSEIFbothxandyareNulllists,THENreturnTrue;CasesELSEIFonlyoneofxoryisNull,THENreturnFalse;ELSEbothofthesemustbetrue:Equal(CAR(x),CAR(y))Equal(CDR(x),CDR(y))Appendix5AMDiscoveryinMathematicsasHeuristicStrch-290-OneheuristicrulethatAMposessedsuggestedthatthiscouldbegeneralizedinasmallwaybyweakeningthebasestep.Acouplenewconcepts'werecreatedthisway,buttheyallturnedouttobetrivial:eitherconstantlyreturningT,ornodifferentthanEqualwas.Anotherheuristicsuggestedweakeningtherecursivestep.Onewaytodothis,sincetherecursivestepisaconjunction,istoremoveoneoftheconjuncts.Therulecheckstoensurethatthedefinitionisstillrecursive:oqeoftheremainingconjunctsmustcallonthefunctionitself.Inthiscase,bothconjunct,callonEqual,soAMcanremoveeitherone.Twonewconceptsweregeneratedinthismanner.Forexample,hereIsoneofthem,whichAMnamed"EquB":X(x,y)IFxandyareidenticalatoms,THENreturnTrue;LELSEIFeitherxoryisnotalist,THENreturnFalse;.-seELSEIFbothxandyareNulllist,;THENreturnTrue;FasesELSEIFonlyoneofxoryisNull,THENreturnFalse;ELSEEquO(CDR(x),CDR(y))Notethatthebasecaseswereunchanged;therecursivestepisarecursionintheCDRdirection,butnolongerin.theCARdirection.AnotetothateffectisplacedinsidethedefinitionofEquOItself,asacomment.OtherpartsofEquOcanbefilledineasily:itisageneralizationofEqual,itisanexampleofaPredicate,itsdomain/rangeisthesameasEqual,itsworthisinitiallysetalittlehigherthanEqual's,etc.Thispredicatemapsdowntwolists,oneelementatatime,andreturnsTrueifftheybothbecomeemptyatthesamemoment.ThatIs,ifftheyhavethesamelength.Infact,wecanassumethattheuserinterruptsandordersAMtorenameEquOas*Same-length".Theothernewgeneralization,called"Equl",examinestheCAR's(i.e.,thefirstelements)ofapairoflists,andreturnsTrueiftheywereidenticalatoms;iftheywerebothlists,itrecursesonthosetwolists.-AhumanLISPprogrammer'sinterpretationisasfollows:whenthetwolistswerewrittenoutinstandardnotation(:aingparentheses),alltheinitialleftparenthesesmatch,andthefirstnon-left-parenthesisentityofeachlistalsomatches.AlthoughthisisIsomorphictonumbersagain2,AMdidn'tpursuethisconceptveryfar.MostoftheexamplesoflistsAMknewaboutwereonlyI-leveldeep,althoughtheyvariedsignificantlyinlength.Ifit'hadbeenotherwise,AMmighthavedevelopedEqulintoSame-length,andlostinterestinEquO.Asitwas,theWorthofthisconceptEqulslowlydeclined,andveryfewtasksinvolvingitbubbleduptothetopoftheagenda.TheconceptofSame-lengthwillformthespringboardforthedevelopmentofcai'dtnallty,atalewhichisrelatedInalittlewhile.Beforemovingon,let'smentionacouplemoreset-theoretica-.tivitiesthatAMdid.Severalmoderatelyinterestingcompositionsandcoalescingsweredonetoset-operations.(Actually,tostructure.operations).Firstlet'sdiscussthecoalescingsofoperationsf(x,y)intonewoperationsf(x,x)whereapairofargumentsismadetocoincide.CoalescingInsertinsetSintoitself)ledtoanoperationwhichalwaysseemedtogiveabiggersetthanitTwolist,tucreoweretreatedasequivalentiftheyhavetheeamenumberofleftparentheses;zeroIsthelistNIL;addW4IisconeiwithNILIsubtractingIisCAR.I.NAppendix5AMDiscoveryinMathematicsasHeuristicSearch-291-startedwith.ThisledAMtothefinitely-trueconjecturethatasetisneveramemberofitself.TheconjecturewasrediscoveredwhenthecoalescingofDeleteseemedtoproducetheidentityoperation(DeletingSfromSneverseemedtochangethevalueofS).CoalescingIntersectalsogavetheidentityoperation;thisshowedthatSnS-S(apparently).SimilarlyforUnion.Coalescing"Compose"gaveanewoperationof'somevalue:thenotionofcomposingfwithf.Whenthiswasappliedto,e.g.,Intersect,itcreatedthenewoperationIntersectolntersect,whichtook3argumentsandformedtheircommonintersection.Byformingthisintwoways(xny)nzandalsoxn(ynz)AMnoticedthattheywerethesame,thattheorderdidn'tmatter.Sincexnxhadalreadybeenshowntobetheidentityoperation,multipleoccurrencesofanelementinanintersectiondon'tmakeanydifference.Finally,AMhadconstructedxnyandynxastwoseparateoperations,andthenfoundthemtobeequivalent.Takingalltheseresultstogether,itwaspossibletoviewnastakingaSetofsetsasitsargument,andformingtheintersectionofallthosesets.Thusn({{a,b,c),{c,g,h},{a,c,e}Somevaluablecompositonswereformed.Byformingxn(yuz)and(xny)u(xnz)astwoseparatecompositions,AMfoundtheirequivalenceviaexperimentaldata.ThiswasonecasewheretheIntuitionfunctionshadgivenAManunfairadvantage,sincetheVenn-diagramabstractrepresentationforsetssuggestedthisrelationshipexplicitly.Whentheintuitionwasremoved,thediscoverywasmademuchmorevalid.AllofdeMorgan'slawswerediscoveredinthismanner,incidentally.Severalspecialcasesweresingledout,involvingemptysets,singletons,anddoubletons.3ThecompositonDeleteoInsertisnotquitesotrivialasonemightthink:ittakesas,.ructreS,insertsanelemente,andthenremoveselemente.ThissimpleoperationcanbeusedtotestthetypeofstructurethatSis:itneveraltersaBagoraList,butitdoesalterSetsandOsets.Orthogonally,InsertoDeletealwaysaltersListsandOsets,butca,1eaveBagsandSetsunchanged.Thefirstcompositiontestsformultipleelements,andthesecondcompositiontestsfororder.AMdefinedbothofthese,and(atleastpar:'.ly)perceivedtheirabilitiestodistinguishstructuraltypes.Operationsformedbyswitchingthetwoargumentsofanoldper.ionwer,,.;a-aginallyinteresting.TheyhelpedpindownthetruenatureofwhatkindorargumepttOeoperationshouldbeconsideredastaking.Forexample,Union(x,y),Union(y,x),soUnionca:nt;keanu'norderedcollectionofsetsasitsargument,andformtheirunion.Similarly,%-eset!thatJnsert(x,y)isingeneralquitedifferentfror.)insert(y,x).WhenAMtriesto;eewhativariantsexistforthisoperation,itcannoticeonlyA'.thetrivialconstraintioyis;:jfficienttocausetheorderofargumentsnottomatter.IfilhadtheconceptofthoLSIfNiction"COUNT",which'countsupallthestoragespaceused,or"FLATTEN",wichret,'wvesallparenthesesfromaliststructure,thenAMwouldnoticethattheCOUNT%ofbot,formsofInsertingwere-,ualinnumber,andthattheirFLATTEN'swereequal,setsofel--ients.Lookine,forinvariantsisonefavoritepastimeofAM.Ingeneral,twooperationsfandrEg.,ifxsesingleton,thenxfl(yUz)isequaltoeitherxnyortoxflz;ifboththosesetsweretheesmar,thenofcourseti'yUz)isoqualtotheircommonvalue;ifthetwosetsdiffer,thenoneisemptyandtheotherisx,endtheSItimeintersectionisequaltox.Or:thatintersectionisalwayseitherxortheemptyset.%Appendix5AMDiscoveryinMathematicsasHeuristicSerch-292-willnotcoincide.AMwantstofindaunifyingoperationU,suchthatU(f(x))-U(g(x));or,AMtriestofindaUsuchthatf(U(x))-g(U(x)).Thisisofcoursetheideamathematiciansnormallyrefertoashomomorphism.AMcallsthisprocessCanonizing.CanonizingthetwoordersofInsert(xintoy,andyIntox)wouldhopefullyfindtheoperationU-FLATTENorU-COUNT.CanonizingSame-lengthwillcause-theoperationofLengthtobesynthesized.Canonizingthenotionofangles-equal.in-measureweretheoperationswenormallycallrigidmotionsintheplane.Let'spickthemainthreadofdevelopmentagain,beforeweloseitentirely.Earlier,theoperation"Same.length"wassynthesized,asageneralizedformofthepredicatewhichtoldwhentwostructureswereequal.Same.length(x,y)isTrueiffxandyaretwoliststructureswhichhavethesamelength(i.e.,thesamenumberofelements).ThisnewpredicatewasexaminedbyAM,andsureenoughitletmanymorepairsofrandomobjectsreturnTruethanEqualitydid,yetitdidn'tlettoohighapercentagethrough:justabout10.ThismadeAMwanttofindaninvariant,acanonizingfunctionf,whichputanygivenliststructurexintoastandardformf(x),satisfying:Same-length(x,y)iffEqual(f(x),f(y))Thatis,xandywouldhavethesamelengthpreciselywhenthestandardformsofxandywereidenticallyequaltoeachother.AMhadtosynthesizethisfunctionf,stepbystep.Firstitperformedsomeexperiments,andfoundthatSame-lengthdidn'tcarewhatthetypeofitsargumentswere.IfacertainSetSdid/didn'tsatisfySame.length(R,S),thenthesameresultwouldobtainifSwerereplacedbyViewingSasalist,orasabag,orasanoset.Thusthestandardformof'astructurecouldbefixedasonespecifictype.Butwhichshoulditbe(bag,set,list,oset)?Tofindout,AMrantwomoreexperiments.ThefirstexperimentwastoseewhetherSame-length(R,S)wasaffectedwhentheorderofelementsinsideRwerechanged.Thisturnedouttobenegative.SoRmightaswellbeanunorderedstructure:bagorset.ThenextexperimenthadAMdecidewhetherornotmultpleelementsinsideRwouldaffectthevalueofSame.length(R,S).Thisturnedoutpositive,somultipleelementshadtobetakenintoaccount.Thecanonicaltypeofargumentwasthuseitherbagorlist.Together,thetwoexperimentsindicatedthatthetypehadtobeBag.SothecanonizingfunctionfwouldfirstconvertanyargumentRtoabag.AnotetackedontotheSame-lengthconcept'sdefinitionsaidthatthisconceptdidn'tlookattheCar'sorvalue-cellsofitsarguments.Thatwouldmeanthattheyshouldallbereplacedbysomefixedvalue,likeT.Thischeckedoutexperimentally.SofshouldreplaceeachelementInthestructureRbytheconstantT.Thefinaloperationfsynthesizedwas:f(R)iReplace-oach-element-by-TConvort-to--bag(R)).Thisoperationwouldconvert{a,(b,c,{d),e,e),q)into(TT,T).ThesetofstandardformsforbagswascalledCanonical-bags,andrenamedbytheuserasNumbers.ThecanonizingoperationfwascalledLength,bytheuser,sinceItconvertsanystructureintoa"number"whichrepresentsthelengthofthatstructure:Sar,-Iinlth(R,S)IffEquai(L*ngih(R),Lonh($))AMnowmadeexplicitanImportantanalogy:bagsonumbers,equalosame-length,bag-Appendix5AMDiscoveryinMathematic,asHturistcSearch*293-operations[thosesameoperations,restrictedtocanonical.bags].Severalminuteswerespentdevelopingtheserestrictedbag-operations.Theoldoperationofinsertingabagintoitselfprovidedacutewayto"addI"toanynumber.TheBag-unionoperationunionturnedintowhatwecallAddition:Bag-union((TTT)(TT)u(TTTTT)means"3+2-5",inunary.TIMESwasdiscoveredinfourways,asdiscussedpreviouslyinthethesis.Theintersectionoftwo"numbers"istheoperationwecallMINIMUM:Intorsct((TTT)(TTTT))m(TTT)justsays"Minimum(,4)-S".AMlikestofindinverses,andtheinverseoftheseoperationsturnedouttobetheoneswecallsubtraction,factoring,division,less-than,etc.AMlikescoalescing,andsomeimportantoperationswerecreatedthatway,too:Add(x,x)isDoubling;Times(x,x)isSquaring;theinversesofthosewereHalvingandSquare-rooting(bothrestrictedtonaturalnumbers).AMworriedaboutwhichnumberscouldbehalvedorsquare-rooted,andthisledtothecreationoftheconceptsEven-numbersandPerfect-squares.Whenasking'whenanumberzcanbetheresultofamultiplicationinvolvingx,AMderivedthenotionofDivides;analogously,AMdefinedtherelationwhichmeantthatAddofxandsomethingelsecouldyieldz.Thatrelationisjust"",andwascalledLEQ,bytheuser.AMnoticedmanysimplepropertiesofInequalities.AMlikescomposingandreversingargs,andtherebyfiguredoutthatmostarithmeticoperationslikeAddandTimestakeabagofnumberstoworkon.TIMESwas,aswesaid,factoring:givenn,findallpossiblebagsofnumbers(>1)whoseproductyieldedn.TheidentityofTimes("")wasintentionallyexcluded,sinceitspresenceinanyquantitywouldnotaffecttheresultofTimes.AMsoonaskeditselfaboutnumberswithextremeorunusualfactorings.Primeswerefoundinthisway,aswasGoldbach'sconjecture.Theexampleinchapter2wentintothisingreatdetail.Alargenumberofspuriousanalogousconceptswerecreatedandstudied,tonoavail.Forexample,AMaskeditselfaboutnumberswhichcoulduniquelyrepresentedasthesumoftwoprimes.Asanotherexample,AMdefinedtheconceptofSquare-roots-of-primes,whichofcoursewasnotawinner.Theuniquefactorizationofanynumberintoprimeswasperceivedquitenaturally,butmanyseeminglyelementaryconceptswereleftundiscovered.AMneverdefinedgcd(thegreatestcommondivisors)onitsown;itwas,however,possibletoguideittodiscoveringthatconcept.Thetask-by-tasktraceinthenextsectioncloseswiththerestrictionofadditiontoprimes;i.e.,p+q-rforprimesp,q,r.Thissituationonlyoccurswhenp(say)is2,andq,rformaLprimepair.ThattracewillofcoursedelveIntoconceptsnotmentionedabove,andEl'0Appendix5AMDiscoveryinMathemticsasHevrislicSearch-294-converselyAMhappendedtomiss,onthatrun,someofthosementionedinthissection.Finally,bothsectionsomitmentionofseveralinterestingacitivitesAMperformed:maximally-divisiblesandallthegeometricconcepts,forexample.Thelinemustbedrawnsomewhere.ThefrustratedreadershouldtryAMhimself,andwatchitsprogress.Appendix5.A'Nice'Task-by-taskTraceNowthatwe'vediscussedthisdevelopmentatafairlyhighlevel,let'slistwhatAMdidtaskbytask.Thelinesbelowgiveahighlycompressed"trace"ofAM'ssequenceofbehavior.Thetasksinthe"bestrun"4arelistedinorder,andnumbered.Foreach,IhavecondensedAM'sprintout,usuallyretainingsomeofthereasonsAMhadforatemptingthetask,themethodsAMused,thefinaloutcome,andoccasionallyabitofcommentary(initalics).ThetasknumbersbelowcorrespondtothenumberingusedinSection6.1,startingonpage115.*sTu..kIs$$FillinexamplesofCompose,becauseComposeishighly-ratedandnoexamplesofComposeareknownyet.Severalheuristicsrelevant,butnonesucceeded.Oneofthem,heuristicrulenumber122,failedbecausenooperationscoudbefoundwhichhadexamples.Alsoimportantatthismomentwasheuristicrulenumber1b3:seeAppendixS.*Task2**FillIneximplesofSet-union,becauseSet-unionishighly-rated,andnoexamplesofSet-unionareknownyet,andifsomeexampleshadbeenknowqearlierthenAMwouldhavebeenabletoFillinexamplesofCompose.Severalheuristicsrelevant,butagainnonesucceeded.**Tak3**FillinexamplesofSets,becauseSetsishighly-rated,andnoexamplesofSetsareknownyet,andifsomeexampleshadbeenKnownearlierthenAMwouldhavebeenabletoFillInexampleofSet-union,andAMwasrecentlyworkingonDomain(Set.union),andAMwasrecentlyworkingonRange(Set-union).Severalheuristicrulesarerelevant.Afterrule31succeeded,socouldmanyothertechniques(e.g.,ruleS8).Infact,itwassoeasyforAMtocrankoutoneexampleofasetafteranother,thatrule45triggered.:gTask4**FillinspecializationsofSets,becauseitwasveryeasytofindexamplesofSets,andnospecializationsofSetsexistyet,andFocusofAttention.Manywaysofcreatingnewconcepts,newspecializedformsofSets,wererelevant.AMcreatedINT-Sets,definedas"A4,-c(S)Sisaset,andallpairsofmembersofSsatisfytherarepredicateP".AMalsocreatedBI-Sets,definedasx(S)S-1),orelsebothCAR(S)andCDR(S)areBI-Sets.TheformerspecializationwillleadtoSingletons,thelaetordealswthtnestsofbraces(setswithnoatomicelements).5*"Task5**FillinexamplesofINT-Sets,becauseanysuchitemwillautomaticallybean-".-interestingexampleofaSet,andINT-Setswasjustcreated,andnoexamplesofitareknownyet.Veryslowly,6exampleswerefoundviainference,andthen7morewereproducedquicklyviamorebrutishmethods.Aftereliminatingduplicates,onlySremain:{},(A),and(B).Ineachcase,thepredicatePwas"Equal",andtheworthoftheconcept'NEqualwasraisedslightly.p44Actually,acouple'verygood*rune*,vbeenappended,butNOTsplicedtogethertothebenefitofAM.ReRatthatitalicssignifytheauthor'scomments,andcontaininformationwhichAM--andprobablytheuseraswell--couldnoth"knownatthetime.Appendix5AMDiscoveryinMathematicsasHeuristicSearch**Task6**CheckallexamplesofINT-Sets,becausemanyuncheckedexamplesarepresentthere,andFocusofAttention.Allthreeexampleswereconfirmed.Nosurpriseswereencountered.OneofthethreeINT-SetsturnedouttobeanEmpty-structure,butnoconjecturewasactuallyformulatedatthistime.**Task7**CheckallexamplesofSets,becausemanyw.rerecentlyfoundandneverchecked,andtheprevioustaskdealtwithaspecializationoftheSetsconcept.Onesmallmodificationhadtobemadetooneofthesets(namely,{b,a,b)-.[a,b}).Basedonempiricalevidence,AMhypothesizesthatSetsmayreallybenomorespecializedthanUnordered-strucs.AMwillreservejudgmentuntilafterithastriedtofindexamplesofBags.(Seeheuristicrule108,page248.)Similarly,AMconsidersthepossibilitythatallNon-multiple-elements-strucsarereallySetsaswell.Beforerelyingonthisflimsyconjecture,AMmustfirstlookforexamplesofOsets,andseeiftheyarereallyalsoSets.*Task**FillinexamplesofBags,becausenoexamplesofBagsexistyet,andtohelpsettlethequestionaboutallunorderedstructuresbeingsets.10examplesfound.Nonearesets.STeak9**FillinspecializationsofBags,becauseitwasveryeasytofindexamplesofBags,andnospecializationsofBagsareknownaboutyet,andFocusofAttention.Manywaysofcreatingnewconcepts,newspecializedformsofBags,wererelevant.AMcreatedINT-Bags,definedas"A(S)SisaBag,andallpairsofmembersofSsatisfytherarepredicateP".AMalsocreatedBI-Bags,definedas"N(S)S-0,orelsebothCAR(S)andCDR(S)areBl-Bags."**Task10**FillinexamplesofOsets,becausenoneexistyet,andtohelpsettlethequestionaboutallnonmult-strucsbeingsets.13distinctexamplesfound.Nonearesets.**TInkl.**CheckexamplesofOsets,becausemanyuncheckedexamplesofOsetsexistonOsets.Exs,andFocuso,"Attention.Allconfirmed.Thepriolrtyratingofthistaskisnothighenoughtoinspirethecreationofanynewconcepts.Oneweakconjecturemade:allorderedstructuresareOsets.Willsettlethisby:**Teak12**FillinexamplesofLists,becausenoneexistyet,andtohelpsettlethequestionaboutallord-strucsbeingosets.29examplesfound.Noneareosets.STask132*CheckexamplesofLists,becausemanyuncheckedexamplesofListsexist,andFocusofAttention.Allconfirmed.Nothingspecialnotedormotivated.*2Task14FillinexamplesofAll-but-first,becausenosuchexamplesexistyet,andAMwasJustworkingonDomain(All-but-first),andAMwasrecentlyworkingonDomain(All-but-first).ThesimilarityofthelasttworeasonsescapedAM,andpointsuponeofitsflaws.AMisswayedbythepresenceofaslightly-differentreasonjustasmuchasbyavery-differentsupportingreason.Thereisnoprocessingdoneonthereasons.ChoosingthistaskrepresentsI::aradicalshiftofattentionforAM.32examplesfound,mostlybyapplyingAll-but-firsttotheexamplesofListsandOsetsalreadyknown.-Appendix5AMDiscoveryinMathematicsasHeuristicSearch-290-**Task15**FillinexamplesofAIl-but-last,becausenoneexistyet,andAMwasrecentlyworkingonDomain(All-but.last).Anotherpoorly-motivatedtask.LuckilyforAM,theusererroneouslybelievesthatthistaskisalsochosentobesymmetricwiththelasttask.45examplesfound.**Task16**FillInspecializationsofAll-but-lat,becauseit'ssoeasytofindexamplesofit,andnospecializationsexistyet,andFocusofAttention.ThesyntacticmethodsAMcanbringtobeararenotenoughtoproduceanymeaningfulnewconcepts,andthistaskFails.Failureofataskcauses'FocusofAttention'togoawayfdronecycle.**Task17**FillinexamplesofList-union,becausenoneexistyet.Anotherwildshiftofattention.3examplesderivedbysymbolicmanipulationofthedefinitionfacetofthisconcept,then22morederivedusinglessinferentialtechniques(someweregarneredbyrunningLlst-union.AIgitselfontheearlyexamples!).**Task18**FillinexamplesofProjil,becausenoneexistyet.26found.**Task19**CheckexamplesofAll-but-first,becausemanywererecentlyfoundbutnotyetconfirmed.Allcheckout.Thistaskhasnorepercussions(newconcepts,tasks,etc.).*sTask20**CheckexamplesofAll-but-last,becausemanyuncheckedexamplesexistontheExamplesfacetofAll-but-last.Allconfirmed,withnorepercussions.IftheinitialWorthvaluesofAll-but-firstandAll.but.lastaresethighenough,AMdefinesanewconceptatthispoint,anewkindoforderedstructure:X(3)All-but-first(S)All-but-last(S).Infact,theonlykindofOsetsincludedhereinarethosewhicharesingletonsorempty.Amonglists,italsoincludesthosewhichcontainjustonekindofelement.**Task21**FillInexamplesofProj2,becausenoneexistyet.26found.AMwilltypicallyquitlookingforexamplesif(i)thetimeallocatedrunsout,or(ii)thespaceallocatedisusedup,or(ii)26examplesarefound,or(iv)151attemptstofindexamplesfall.Thecosmicsignificanceof11hasrarelybeenrecognizedinprint.Perhaps151ismorecomicthancosmic.Seriously,thesenumbersmustbechangedbyalmostanorderofmagnitudebeforeanygrosschangeinAM'sbehaviorisnoticed.**Task22**FillinexamplesofEmpty-structures,becausenoneexistyet,andtheWorthofthisconceptwasincreasedrecently(duringtask6).JustbylookingattheexamplesofStructures(i.e.,usingheuristicrulenumber29),AMisabletogetfouremptyones:1},[,<>,0;i.e.,theemptyset,oset,list,andbag.Althoughsomeofthesearerederivedinotherways,therearenootherexampleseverfound.Thispaucitytriggersarulewhichsuggeststhistask:..__%4Appendix5AMDiscoveryinMathematicsasHeuristicSearch-297-**Task23**FillingeneralizationsofEmpty-structures,becauseitwasveryhardbutnotimpossibletofindexamplesofthatconcept,andFocusofAttention.AMexaminesthedefinitionsofEmpty-structure,butcan'tfindanyrecognizablesyntacti;patternitknowsabout.Itdoesfind(NOT(SOME-MEMBERS)),andtriestoreplaccSOME-MEMBERbyaspecializationofsame,butnoneisknowntoexist.IftheuserinitiallytellsAMthatFirst-3memberandLast-memberarespecializationsofSome-member,thenAMcangeneralizeEmpty.structures.infact,itthencomesupwithwhatisequivalentto'Empty.strueuUnord-truc'.Inthecurrentsetup,however,thistaskfails.IfAMhadabetterunderstandingofconstructive/destructiveoperations,itmighthavedefinedStructures-with-empty-CARs,orF:perhapsStruaures-wth-empty.CDRs(i.e.,Singletonsagain).**Task24**CheckexamplesofList-union,becausemanywererecentlyaddedbutnotyetconfirmed.Thisshowsthemechanicalpatiencethata'stack'givesyou.Sincenohigher-prioritytaskhasbeensuggested,AMattendstoataskwhichhasbeenonthereforawhile.**Tak25**CheckexamplesofBags,becausemanyexamplesandacouplespecializationsexist.Afewsmallmodificationshadtobemade(e.g.,(ACBA)-+(AABC)).**Task26**FillInexamplesofBeg-union,becausenoneexistyet,andAMwasjustworkingonDomain(Bag-union),andAMwasjustworkingonRange(Bag-union).NotetheI%influenceofheuristicrulenumer14.Thistaskproceededsmoothly,with26examplesbeinggenerated.**Task27**ChockexamplesofProj2,becauseseveralwererecentlyfoundandnotyetchecked.Allconfirmed,withnonewsuggestionsgenerated.**Task28**FillInexamplesofSet-union,becausenoneexistyet.Againweseerule14inaction.26examplesfound.**Task29**CheckexamplesofSet-union,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention(AMjustworkedonSet-union).Afewpatcheshadtobemade.Often,Set.union(xy)wasequaltooneofitsarguments.AMthereforedefinedanewpredicateEq.union(x,y)whichisTrueiffSet-union(x,y)-x.Theuserlaterrenamedthis"Superset-of",sincethisistherelationshipofcontainment.Intypicalmathtexts,containmentisIntroducedlongbeforeunion,andthenthisisatheorem:"ADBiffAuB-A".ButAMused"u"toformthedefinitionof".'**Task30**FillinexamplesofBag-insert,becausenoneexistyet,andAMwasrecentlyworkingonDomain(Bag-insert),andAMwasrecentlyworkingonRange(Bag-insert).AsaddeninglystupidmoveforAM.ItshouldhaveratedSupersethigher,andcontinuedworkingonit.AMhasnotroublefindingmanyexamplesofinsertionsintobags.Appendix5AMDiscoveryinMathematicsasHeuristicSearch-298-**Task31CheckexamplesofBag-insert,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andAMjustworkedonBag-insert.Allexampleswereconfirmed.ThisoperationalwaysseemedtoresultinNonemptybags.TheDomain/rangefacetwassoamended.Thevalueisnevereitherofitsarguments,butthereisnoconcreteactionAMmusttakeinsuchasituation,nocompactwayofnotingthatanti-relationship(shortofcreatingafull-blownconjecture).Restrictedtosingletons,Bag-insertneverproducesasingletonoranemptybag.AMdefinestheconceptofabaggottenbydoingaBag-insertonasingleton;i.e.,thenotionofadout-.etonbag.**Task32**FillinexamplesofBag-Intersect,becausenoneexistyet,andAMwasrecentlyworkingonDomain(Bagintersect),andAMwasrecentlyworkingonRange(Bag.intersect).26foundwithouttrouble.STask33*8FillinexamplesofSet-insert,becausehoneexistyet.Justanotherdata-gatheringtask,buildingupAM'sstoreofempiricalresults.8*Task34CheckexamplesofSet-insert,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andAMjustworkedonSet-insert.ApplyingthisoperationalwaysseemstoresultinNonemptysets.Domain/rangesoamended.Thevalueissometimesjustoneofitsaiguments.AMdefineswhatwilleventuallybecalledSet-membershipinthisway:A(xS)Set-insert(xS)-S.Thisisnottheonlyimportantresulthere.PLMnoticesthatSet-insert(xS)isalwaysrelatedtoSbySuperset-of.Thatis,Superset-of(Set-insert(x,S),S)[foranyx.Soconjectured.Thisdoesn'tactuallysuggestanythingmarvelousforAMtodonext,however.Incidentally,duringthistaskAMalsodefinestheconceptofdoubletonset.sTask358FillInexamplesofBag-delete,becausenoneexistyet.Notethat'workingonbags'issolongpastthatitisnolongergivenasareasonforthistask.AbletogeneratetwoexamplesbymanipulatingdefinitionssuppliedwithBag-delete,thenacoupledozenmoreweregenerated.Someweregeneratedbyaccessingalready-knownexamplesofthedomain(i.e.,theentriesontheExamplesfacetoftheBagsconcept)andthenrunningBag.delete.Aigonthem.*8Task3688FillInexamplesofBag-difference,becausenoneexistyet.26found.Thisisagoodvantagepointtolookbackandahead,andnoticethatwhilethesurroundingtasksareallreasonabledata-gathtingforays,theorderinwhichthoy'reperformedisunimportant.Lateron,AMwillfollowthreadsofdiscoeries,andtheorderoftasksthenwillappearveryImportant.*Tak378CheckexamplesofBag-intersect,becausemanyexampleshaverecentlybeenfound,butnotyetchecked.SomanyexampleswerefoundthatAMwillentertaintheideaofcreatingaspecializednewconcept.Sincetheintersectionoftworandomly-chosenbagswasoftenempty,AMdefinedtheconceptofdisjointbags:X(x,y)Bag-intersect(xy)-0.*8Task3888FillinexamplesofSet-intersect,becausenoneexistyet.Manyfoundveryeasily.47Appendix5AMDiscoveryinMathematicsasHeuristicSearch-299-**Task39CheckexamplesofSot-intersect,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.3smallmodificationshadtobemade.Thistime,AMnoticedthattheintersectionoftwosetswasoftenempty,anddefinedtheDisjoint.setsconcept.AMalsonotedthatxnywasoftenoneofthoseverysamearguments,soitdefinedtherelationwhichiseventuallyrenamedSubset:X(x,y)Set-intersect(x,y).x.Atthemoment,AMdidn'trealizethattherewasanyconnectionbetweenSubsetandSuperset.Thistiecamemuch,muchlater(Tasknumber227(qv.)inthisrun).**Task40**FillinexamplesofList-intersect,becausenoneexistyet,andtheinterestofIntersect(thegeneralconceptofwhirhthisisaspecialization)hasrecentlybeenincreasedafewtimes.2foundwithoutincident.AMIsbcI.ed6IlWilllookatSuggest-typeheuristicsfornewthingstodo.If"Equality"isexcisedatthismoment,AMcontinuestheprecedinglineofinquiryforawhile,andthendefinesSingleton-osets,asOsetsallofwhosemembersareequaltoeachother.AMnoticesthatAll-but-firstandAll-but-last,restrictedtoSingleton-osets,alwaysyieldthesameresult,namelytheemptyoset.AMthen"generalizes"thisintotheconceptwhichisalltheosetsforwhichAll-but-first(x)-All-but-last(x).AMthenturnstorelationshipsinvolvingSubsetandSuperset,followedbyaflurryofcompositionsandcoalescings,andtheirInvestigation.ButEqualityLspresent,soAMgoesoffon'anothercourseofexploration.**Task41**FillinexamplesofEqual,becauseEqualhasrerentlybecomemoreinteresting,andtherearenoexamplesknownyet.Equalbecamemoreinterestinggradually,asINT-Setsweredefineandliked,Eq-uniondefinedandliked,etc.Oncechosen,thistaskdoesnotgosmoothly.Byinferencemethods,onlyacoupleexampleswerederived.Later,whenheuristicrulenumber122wasrun,151failureswereencounteredandonly2successes.Thisissosmallasuccessratethataheuristicrulestrenuouslyproposedthisnexttask,withahighenoughratingtobechosenrightaway:6Ofcourse"bored"isjkstwhatAMtypesout.Itreflectsthelowvalueofthetoptaskontheagenda,andthameagerresultsobtainedrecentlyPleaseforgivetheanthropomorphism;itismeantonlytobe"cute",notmisleading.AMhasnointernalmodelwhichcouldbecalledits"emotionalstate*,as,e.,PARRY(Colby73]claims.Appendix5AMDiscoveryinMthumaticeasHeuristicSearch-300-**Task42**FillIngeneralizationsofEqual,becauseEqualisapparentlyquit*-rarelysatisfied,andtherearenoentriesyetonEqual.Genl.RemovingoneofthetwoconjoinedrecursivecallsintherecursivedefinitiongivenforEqualcausedthecreationofEqual-except.CARsandEqual.except.CDRs.Thefirstpredicatetestswhetherxandyhavethesamenumberofelements;thesecondtestswhetherxandyhavethesamenumberofleadingleftparensandthesamefirstatomafterthatfinalleadingleftparenthesis.AsKnuthpointedout,bothoftheseconceptsarevalidwaysofdefining"numbers":onecountsthenumberofelements,theothercountsthenumberofleading14ftparentheses.ButmoststructureswhichAMknowsaboutarejustsimpleIllevelaffairs.Therefore,Equal.except-CDRswasalyhostalwaysthesameas"CAR(x),CAR(y)".SoAMneverrealizedthisduality,ifithadpushedBI-SetsandBIl.Dagsfurther,itmighthave.Anotherconceptcreatedhereisfarmorebizarre.Insteadofeliminatingoneofthetwoconjoinedrecursivecalls,AMreplacedtheANDwithanOR.ThenewconceptGenl.EqSwasdefined:'(x,y)ifxoryarenon-lists,thenEQx,y),else[GenI.Eq3(CAR(x),CAR(y))Q2GenI.EqS(CDR(x),CDR(y)J.'Thisistrueifxandyhavethesamelength,orifthejthelementofeachisthesame(foranyj),oriftheJthelementofeachhasthesamelength(>0),orIfthe11helementofthejthelementofeachisthesameorhasthesamelength(fcranyl,j),or...**Task43**FillinexamplesofEqual-except-CARs,becausethisisanewgeneralizationofEqualwhichmustbeexamined,andbecausenoexamplesexistyet.Only10exampleswerefoundbeforethetimequantumwasexhausted,butthiswasstillmanymorethanwerefoundforEqualbefore.Theusernowrenamedthisconcept"Same-size*.AwhirlwindofdiscoveryisabouttosweeptheothertwogeneralizationsofEqualoutofthetopspotonAM'sagendaforquiteawhile.IfAMaccidentallypickedanotherofthesetoworkonbeforeSame-size,onlyasmallamountoftimewouldhavebeinspentbeforemovingon.Forexample,AMisunabletoperformCanontze.Algs(Genl.Eq3,Equal),sothatwouldbeadead-endrightthere.**Task44**ApplyanAlgorithmforCanonizetotheargSame-sizeandEqual,becauseaheuristicrule7explicitlysuggestedthat,andtherearenoknownexamplesofCanonizeyet,andAMwasjustworkingonSame-size,andAMwasrecentlyworkingonEqual,andSame-sizewasrecentlycreated,andSame-sizewasjustrenamedbytheuser.AMperformsseveralexperiments,andeventuallysynthesizesthiscanonizir.gfurnction:f(S)takesastructureS,convertsIttoaBag,andreplaceseachelementby"T".Th-functionislaterrenamed"Size"bytheuser.AMalsodefinesthesetofcanonicalstiuctures:bagsofT's.TheuserrenamesBags.of-T'sas"Numbers*.*45**RestricttheDomain/rangefacetofBag-union,becauseBags-of-T's(calledNumbersnow)isanew,interestingspecializationofBags,andaneuristicruleexplicitlysuggestedthis,andFocusofAttention,andmanyexamplesofBpg-unionexist.Anewoperationisdefined,Number-union,withdomain/rangeentry<NumberNumber.-Bag>.Thistaskusedlessthanonecpusecond.*Task46**FillinexamplesofNumber-union,becauseitisrecently-interesting,anditwasjustcreated,andAMwasrecentlyworkingonDomain(Number-union).Severalexamplesarefound..tthispoint,theauthorturnedonatrickyLISPprintingfunction,whichconvertedeachbagofT'stobase-JOexponentialnotationbeforeallowingittobetypedout.7Therulerefefedtoienumber213,onpage270.17"i'.JW7~99.2.~~~-71-v77.Appendix5AMDiscoveryinMathematicsasHeuristicSearch-301-**Took47**Checkthedomain/rangeofNumber-union,becauseaheuristicruleexplicitlysuggestedthattherangemightreallybe"Number",andAMwasjustworkingonNumber-union,andAMwasrecentlyworkingonDomain(Number-union)[i.e.,workingon'Numbers'].Infact,whattheheuristicrulesuggestedpurelyfromsymmetrydesiresturnedoutempiricallytobetrue:thevalueofNumber.union(x,y)didalway.sappeartobeaNumber(abagofallT's).TheresultofthiswastoamendtheDomainlrangefacetofNumber-union.AlthoughAMregardsthisuniformityasveryinteresting,ithasnodirectsuggestionforwhattodonext.Theuserrenamesthisoperation"Add2",sinceIttakesprecisely2arguments(unarynumbers)andaddsthem.**Task48**Restrictthedomain/rangeofBag-intersect,toNumbers,forsimilarreasonsasabove.Afteragainnoticingthattheintersectionof2numbersalwaysseemstobeanumber,thisleadstotheoperationwhichtheuserrenames"Minimum".SincethepatternoftasksisRestrict4Fillinexamples-+Checkexamples,thereisnotmuchpointinlistingallthreetasksforallofthesesimplerestrictions.Eachonewillonlygetasinglenumberinthislisting.Also,sincethereasonsfortheserestrictingsareprettymuchthesame,theywon'tberepeatedforeachtaskbelow.**Task49**Restrictthedomain/rangeofBag-delete,toNumbers.Theuserrenamesthisoperation"SUBI",althoughthisisnotquiteaccurate.Ifxisnot'T',thenapplyingthisoperationtoxandN(forsomenumberNrepresentedasabagofT's)willnotalterNatall.AMdoesnotpossessthereasoningabilitiesneededtoanticipatethis.Task50**Restrictthedomain/rangeofBag-insort,toNumbers.Thedomain/rangeentryischangedto<AnythingNumber4Bag>.RenamedNumber-Insert.AlthoughthisnewoperationwillinfactchangeanumberN,itmaynotnecessarilychangeitintoanumber.Thelastoperation,SUE1,wouldalwaysproduceanumber,thoughitmightsometimesfailtochangeNatall.HereisthesaddiscoveryofthatasymmetryaboutNumber-insert:*sTask51**Checkthedomain/rongeofNumber-insert,becauseaheuristicruleexplicitlysuggestedthattherangemightreallybe"Number.Infact,itsquicklyseennottobe.Thisoperationisloweredinworth,andnevertouchedagain.DuetoAM'simperfectheuristics,theworthofSUBIisslightlyhigherstillthanthisconcept's.+Task52**Restrictthedomain/rangeofBag-difference,toNumbers.Afteragainnoticingthatthedifferenceof2numbersalwaysseemstobeanumber,thisleadstotheoperationwhiichtheuserrenames"Subtract".Task53**FillinexamplesofSubtract,becausenoneexistyet,andSubtractwasjustcreated.Manyexamplesarefound.Ifalargernumberis"subtracted"fromasmaller,theresultiszero,accordingtothisoperation.Thusabouthalfoftheseexampleshavethevaluezero(emptybag).AM.explicitlydefinesthesetoforderedpairsofnumbershavingzerodifference.Itturnsoutthat(inmodernterminology)<x,y>isinthisnewsetiffxislessthanorequaltoy.Sotheuserrenamesthisrelation"LEQ'.Task54**FillInexamplesofLEQ,becausenoneexistyet,andLEOwasjustcreated.26examplesfound.Whenrandomnumbersarechosen,thesuccessrateis(aswewiseobservorsknow)alittleover50%.ThisisveryniceandAM'sestimateoftheworthofLEQ_,rises.p%Appendix5AMDiscovery;aMathematicsasHeuristicSearch-302-**Task55**CheckexamplesiLEQ,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andtheworthofLEqhasrecentlyrisen.Allconfirmed.Unfortunately,AMhasderivedSubsetbutnotSubbag,elseitmlghthavenoticedthat(forallnumbersxandy,representedasbagsofT's)xyif"Subbag(xy).ThenAMcouldsimplycbservethatLEQwasjustSubbagrestrictedtoNumbers.Lookedatanotherway,AMhasherediscoveredarestrictedversionoftheconceptSubbag.**Task56**ApplyalgorithmofCoalescetoLEQ,becauseLEQ,isaninterestingoperation,recentlycreated,manyexamplesalreadyexistforit,AMjustworkedonLEQ,LEQ,takestwoofthesameargument(Numbers),andnoexamplesofCoalesceareknownyet.ThenewpredicateisdefinedasMx)xSx.ButthisisAlways-True,soAMconjecturesthateachnumberisLEQitself,andforgetsthenewcoalescedversionofLEQ**Task57**FillInexamplesofParallel-join2,recausenoneexistyet.IncludedisParallel-join2(Bags,BagsProj2)(initiallycalledMJ2.BBI2),whichturnsou,tobemultiplicationoftwonumbersandisrenamed"TIMES2"bytheuser.AlsoincludedisParallel-join2(StructuresStructuresProjl),whichisageneralizedkindofUnionoperation(renamed"G-Union"bytheuser).Manylosersarealsocreated,however,likeParallel-join2(Bags,SetsSet-.dfference)).Took**T**69.Fillinandcheckexamplesoftheoperationsjustcreatead.Nothingoutoftheordinaryisdonehere,justtheroutinelegworkofgatheringempiricaldataforlateruse.Nostartlingconjecturesmade.-Tsk79**FilliniamplesofCoalesce,becausenoneexistyet.OneshiningexampleisSelf.compose,whichtakesanyoperationF(whoserangeisalsoadomaincomponent)andformsFoF.AnotherexampleisSelf-Insert,whichtakesastructureSandinsertsSintoS.Alsocreatedwere:Self-Delete,Self-Add,Self-Times,Self-Union,etc.AdifferentkindofcoalescingwasdoneforParallel-replace2,Parallel-join2,andRepeat2;thetwostructuralarguments(thefirstandsecondargumentsforeach)weremerged,creatingthreenewoperations:Coa-repeat2,Coa-join2,Coa-replace2.Coa-replace2,forexample,takesasinglestructureSandanoperationF,andreplaceseachmemberxofSbythevalueF(x,S).**Tas'71**FillinexamplesofSelf-Delete,becausenoneexistyet,andSelf-deletewasjustcreated.Manyexamplesarefoundquiteeasily,ofcourse,except:**Task72**CheckexamplesofSelf-Delete,becausemanyexampleshaverecentlybeenfound,butnotyetchecked.SincetryingtodeleteSfromSwillneverwork,thevalueofDelete(SS)isjustSallthetime.Self-deleteisthesameastheidentityoperation.AMisabletodiscoverthisandstateitasaconjecture,obviatingtheneedforbotheringwiththis+concepteveragain.**Task73*sFillinexamplesofSelf-Member,becausenoneexistyet,andSelf-memberwasrecentlycreated.Onlynegativeinstancesarefound.J%.Appendix5AMDicoveryinthometic,asHeuristic$torch-303-*Task74**CheckexamplesofSelf-Member,becausemanyexampleshaverecentlybeer.found,butnotyetchecked.ThispredicateisAlways-False,empirically.Replacebyaconjec:Self-MemberisthesameasthepredicateAlways.False;Member(S,S)-FalseforanyS.Also,anextraalgorithmentryisadetedtoMember.Alg:OnceEarlyQuick:X(x,y)ifxuythenFalse.Also,anewtaskisproposed,togeneralizeSelf-Member.Thisneverquiterisestothetopoftheagenda,soitisneverattempted.**TskZ75**FillInexamplesofSelf-Acd,becausenoneexistyet.Manyfound.Userrenamesthis"Doubling",afterheobservesthemanyexampleswhichareproduced.s2Task76**CheckoxampltsofCoalesce,becausemanyexampleshaverecentlybeenfound,butnotyetchecked.Allwereconfirmed.Somewerealrradyprovingtobeinteresting,sothevalueofCoalescewasraised.STask77CheckexamplesofAdd2,becausemanyexampleshaverecentlybeenfound,butnotyetchecked.AlIwereconfirmed.Somewhatdisappointingly,AMdidn'tnoticeanythingspecialaboutAdd2atthetime.2T2rsk78**FillinexamplesofSelf-Times,becausenoneexistyet,andAMrecentlyworkedonIsa(Self-Times)[namely,workedonCoaiesce].Renamed"Squaring"bytheuser.20examplesfoundbeforequittingduetolackofalottedspace.2Task79*2iPhinexamplesofSelf-Coirpose,becausenoneexistyet.CreatedAdd2oAdd2(twoversions:Ad&'(IwhichisA.(x,y,z)(x.y)+z,andAdd22whichisx+(y+z)).Similarly,twoversionsofTIML'N2oTIMES2,calledTIMES21andTIMES22.Also,twoversionsofComposeoCompose.Somelosersweredefinedaswell,likeMember(Member(x,y),z)andParalel-Join2(S,R,Paraliel-join2(P,.F))thelatterofwhichacceptsasargumentsfourkindsofstructuresandafunctionname.Manyminimally-acceptableconceptswerecreated:Coalesce*Coalesce,Squaringquaring,DoublingoDoubling,etc.T2Ta0**FillinexamplesofAdd2i,becausenoneexistyet,andAdd2iwasjustcreated.Thisoperationisdefinedas)k(x,yz)(x~y).z.Itiseasytofindexamples.*Tak81**FillinexamplesofAdd22,becausenoneexistyet,andAdd22wasrecentlycreated.Thisoperationisdefinedasx(x,yz)x.(y+z).Itiseasytofindexamples.Mostoftheseexamplesaregottenfromthe"cousin"conceptAdd2i.22TaskI2CheckexamplesofSquaring,becausemanyexampleshaverecentlybeenfound,butnotyetchecked.Allconfirmea.1:i!unfortunatethatthistaskintrudedintoAM'slineofdevelopment.*o3**ChockexamplesofAdd22,becausemanyexampleshaverecentlybeenfound,butnotyetchecked.Duringthisprocess,AMnoticesthatAdd21andAdd22seemtobeequivalent.Beforeconjecturingthis,though,AMwilldothisnexttask:+IAppendix5AMDiscoveryinMathematic,asHeuristic$torch-304-*Task84CheckexamplesofAdd2l,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andthistaskwasspecifcallysuggestedwhileAMwastryingtocheckexamplesofAdd2l.Aftercheckingtheseexamples,Add~landAdd22stillappearequivalent.AMconjecturesthisandmergesthetwooperations.Oneconsequenceistheboostingoftheworthofthenew,combinedoperation.ThemostimportantaftereffectofthisisthatAMnowkno'-sthatthe"proper"argumentforagene'alizedkindofadditionwillbeaBag,notaList,ofnumbers.ThisnewkindofadditioniscalledAdd,todistinguishitfromAdd2.Add2takesapairofnumbersandaddsthem,butAddacceptsabagofnumbersandformstheirsum.**Task85**ApplyalgorithmforInverttoargument'Add',becauseAddisinteresting,recentlyworkedon,Andhasneverbeeninverted,andtherearenoexamplesyetforInvert,andtheworthofAddhasrecentlyrisen,andAddwasjustcreated.Bylookingatthosereasons,weseewhysomesemanticprocessingshouldbeavailable.Thereistremendousoverlapthere,andthttaskisnotreallysupporttdbyasnnanyreasonsasAMthinks.AMdefinesInv-Rdd(x)(alsocalledAdd-')asthesetofallbagsofnumbers(:0)whosesumisx.Task86FillinexamplesofTIMES21,becausenoneexistyet.Definedas(x.y).z.Manyarefound.*Task87**FillinexamplesofTIMES22,becausenoneexistyet.Definedasxo(y.z).Manyarefound.**Task88CheckexamplesofTIMES22,becausemanyexampleshaverecentlybeenfound,butnotyetchecked.AswithAdd,earlier,TIMES2IandTIMES22nowappearequivalent.Beforesayingthis,AMmustdothistask:*Task89CheckexamplesofTIMES2I,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andthistaskwasspecificallysuggestedwhileAMwastryingtocheckexamplesofTIMES22.Aftercheckingtheseexamples,TIMES21andTIMES22stillappearequivalent.AMconjecturesthisandmergesthetwooperations.Oneconsequenceistheboostingoftheworthofthenew,combinedoperation.ThemostimportantaftereffectofthisisthatAMnowknowsthatthe"proper*argumentforageneralizedkindofproductwillbeaBag,notaList,ofnumbers.ThisnewkindofmultiplicationiscalledTIMES,todistinguishitfromTIMES2.Noticethe;amepropertyheldtrueforAdd2,earlier.AMsetsupananalogybetweenTIMESandADD,becauseofthiscommonfact.TheanalogyitselfisdlosetowhatmathematicianscalltheconceptofSemigroups.Task902*ApplyalgorithmforInverttoargument'TIMES',becauseTIMEScontainsanew,promisinganalogy,andtheanalogofTIMEShasbeeninverted,andTIMEShasneverbeeninverted,andtheworthofTIMEShasrecentlyrisen,andTIMESwasjustcreated.AMdefinesInv.TIMES(x)(alsocalledTIMES-')asthesetofallbagsofnumbers(>1)whoseproductisx.AMnotedthatTIMES"1shouldprobablybeanalogictoAdd-1.-S.---..,.v..,D..Appendix5AMDiscoveryinMathematicsasHeuislicSeorch-305-**Task91**FillInexampli'v0iParallel-replace2,becausenoneexistyet.IcouldkickAMfordoingthisnow!!Thepriorityrtngofthistaskhappenedtoplaceitabovealltheothers,includingthosewithextrabonuss.'.:.,causeoffocusofattention.Thistaskismerelydiverting,notharmfulinanylastingsense,utitdoesdegradetheapparentlevelofpurposefulenssofthesystem.SeveralexamplesofParallel-replace2arefound.IncludedareParallel-replace2(Bags,Bags,Proj2)(calledMR2-BBP2),ardmanylosers.MR2-BBP2(S1,S2)replaceseachelementinSIbyafullcopyofthewholeofS2.ThisisthewaythatSkempsuggestsdevelopingthenotionofmultiplication-andinfactAMwill(intask109)derivesanoperationwhichisequivalenttoTIMES2justbyunioningtheresultsofthisoperation.Intask127AMrealizesthatthisisinfactjustmultiplication,andmergesthosetwooperations,concurrentlyboostingtheworthofthatcombinedconceptgreatly.**Task92**,107.FillInandcheckexamplesoftheoperationsjustcreated.Nc..hlngreallyworthourtime(orAM's).Sigh.atj108**FillinexamplesofCompose,becausenoneexistyet.Itisveryeasytocreatenewcompositionsmostofthemlosers.Someoftheconceptsproduced(e.g.,SizeoAdd"1)werevaluablebutwerelostamidthemassoflosers(e.g.,InsertoEqual).Becauseofthisfloodofpoorly-motivatednewconcepts,aheuristictriggerswhichhasAMcreateanewspecializationofCompose,calledInt-Compose,byconjoiningontoCompose.DefnafewofthefeaturesfromCompose.Interest.TheWorthsofthenewcompositionsjustcreatedarealllowered,sothatthe(future)examplesofint-Composewillpredominate.ThetaskfirstconsideredinTASKIhasfinallybubbledbackuptothetopoftheagenda,andhasprovedtobequiteworthwhile.**Task109**FillInexamplesofInt-Compow,becausenoneexistyet,andInt-Composewasjustcreated,andanyexampleofInt-ComposeisautomaticallyaninterestingexampleofCompose,andtheworthofInt-Composeisveryhigh.ThetwochosenoperationsG,Hmustbesuchthatran(H)(dom(G),andran(G)(dom(H);bothGandHmustbeinterestingoratleastnewly-created.Well,twooperationsrecentlydealtwithareG-UnionandMR2-BBP2.SincetherangeofMR2-BBP2is'BagsofBags',itispreciselyequaltothedomainofthenewly-synthesizedoperationG-Union.SoonecompositionconsideredisG-UnionoMR2-BBP2.Thisisanalternatederivationoftheoperationofmultiplication.Alsoincludedare:TIMESoSquaring,CoalesceoCompose,InsertoDelete,Deleteelnsert,.Add2oTimes2,etc.t'.Ithoughmostoftheseoperationswereneverinvestigatedverymuch,theyaremuchbetterthantherandomcompositionsproducedduringtheprevioustask.ThisseemscleareventoAM,evenbeforestudyingthemverymuch.saTask110a*,126.FillinandcheckexamplesofthecompositionsJustcreatead.Nothingofgreatinterestuntil...:**Task127**CheckexamplesofG-UnionoMR2-BBP2,becausemanyexampleshaverecentlybeenfound,butnotyetchecked.AMdiscoversthatthisoperationisequivalenttoMJ2-BBP2(i.e.,TIMES2).Sincetheyaroseinverydifferentways,theworthofthenew,mergedconceptmoduleisgreatlyincreased,asisthatofthemoregeneraloperationTIMES.L,T-VAppendix5AMDiscoveryinMathematicsasHeuristicSearch-306-**Task128*2FillInexamplesofCoa-repest2,becausenoneexistyet.26operationssynthesized.ForemostamongthemwasCoa.repeat2(Bags-of-NunibersAdd2),whichturnedouttobeyetanotherderivationofmultiplication!AlsoproducedwasCoa-repeat2(Bags.of-Numbers,Times)adefinitionofexponentialon.OthersincludedCoa-repeat2(Structures,ProJi),whichturnsouttobethesameasFirst.element-of,i.e.,CAR,andCoa-repeat2(Structures,Proj2),whichturnsouttobeLast-element-of.**Task129**ChecktheexamplesofCo-repeat2,becausemanyexampleshaverecently-beenfound,butnotyetchecked,andFocusofAttention.Allconfimed.*,Task130**ApplyalgorithmsforIncrtto'Doubling',DoublingisInteresting,andithasneverbeeninverted.Theresultiscalled"Halving"bytheuser.AMdecidedtoisolatethedomainofHalving(therangeofDoubling).Suchnumbersarerenamedbytheuseras"Evens".AlthoughpleasedwithatAeresultofthistask,itwassomewhatjarringinthecontextoftheprecedingdevelopment.*2Task131**FillinexamplesofSelf-Insert,becausenoneexistyet.AMhasapparen.lylostthe"thread"ofadevelopmentandLiswanderingaround,takingcareofonlymoderatvlypromisingtasks.Manyexamplesofthisoperationarefound.22*'I1kJ12*CheckexamplesofSelf-Insert,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.Nothingspecialfound.Theresultisneverthesameastheargument.22Tnk133FillinexamplesofCos-repeat2-Add2,becausenoneexistyet.Manyfoundquickly,butatalargecostintermsofstoragespace.V2*Task134**CheckexamplesofCoa-repeat2-Add2,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.Confirmed.AMnoticedit'sthesameasTIMES.BoosttheworthofTIMESevenhigher,farabovethatofanyotherconcept.AMwillstayinterestedinTIMESformostofthefutureofthisrun.¢.*2Task135**ApplyalgorithmforInverttoargument'Squaring',Squaringisinteresting,hasneverbeeninverted,isrelatedtotheveryinterestingconceptTIMES,isrelatedtotheveryinterestingconceptCoalesce,isanalogictothealready-invertedconceptDoubling.AMdefinesInv.square(x)asthenumber1whosesquareisx.Renamedbyuseras"Square-root".-2Task136**FillinexamplesofSquare-root,becausenoneexistyet,andSquare-rootwasjustcreated,andSquare-rootisrelatedtotheveryinterestingconceptTIMES.AMspentquiteawhileonthistask,andonlyabou.10exampleswerefound(discountingduplicates).A*'8Ackt-lly;thesteoflelnumbers.<Appendix5AMDiscoveryinMathematicsasHeuristicSearch-307-**Task137**FillinnowalgorithmsforSquare-root,becauseSquare.root.Algsarealltooslow,andhavebeencalledonagreatdealrecently.AMhassomezerothorderrulesforimprovingalgorithms,backedupbyamarveloustactic:asktheuser.Inthiscase,AMaskstheuserforabetteralgorithm,andhesuppliesone.Ofcourse,thenewalgorithmiscompletelyopaquetoAM.TheusernevertellsAMhowtodosomethingunlessithada(slow)waytodothatthingalready.Onefastnewalgorithmnowexists.**Task138**CheckexamplesofSquare-root,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.AMisplaguedbythefrequencyofnumbersnothavingsquare-roots,soitisolatesthosethatdo.Itdefinedthesetofnumbershavingasquare-root,andthisconceptwasrenamed"Perfect-squares"bytheuser.**Task139**FillinexamplesofCoa-repea2-Times,becausenoneexistyet,andthisconceptisrelatedtotheveryinterestingconceptTIMES.Amoderatelyrationalthingtoinvestigate.Examplesareeasilyfound,buttheytakeupalotofspace.**Task140**CheckexamplesofCoa-repeat2-Times,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.Nothingspecialnoticed,unfortunately(thisisexponentiation,folks).IftheuserinterruptsandtellsAMthatthisisreallyinteresting,AMsooncreatesthespecializationofItdefinedasExpon(x,2),andthenAMnoticesthatthisisjustsquaring.i.e.,x2-x-x:thebasetiebetweenexponentiationandmultiplication.Onitsown,AMdoesn'trateCoa-repeat2-Timeshighenoughtostartthischainofdiscoveries.**Task141**FillinexamplesofInv-TIMES,becausenoneexistyet,andInv-TIMESisrelatedtotheveryinterestingconceptTIMES.Manyfound.**Task142**FillinnewalgorithmsforInv-TIMES,becauseInv-TIMES.Algsarealltooslow,andhavebeencalledonagreatdealrecently,andTIMES-'isrelatedtotheveryinterestingconceptTIMES,andFocusofAttention.AMaskstheuser,whosuppliesadecentrecursivealgorithmforthisfunction.**Task143**CheckexamplesofInv-TIMES,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.Thisproceedsalong,andallareconfirmed.Aheuristicrulenoticesthatthedomain/rangeis<Number4Sets-of-Bags-of-Numbers>;itsearchsforanoperationwhoseDomain/rangefacetcontainsanentry(compatiblewith)<Sets-of-Bags-of-Numbers4Number>,andfails;nextitlooksforanoperationwhosedom/rangeis<Sets-of-BagsSetorBag>,andfindsthatG-Unionfillsthebill.Therefore,therulesuggeststhefollowingtask(withahighrating):**Task144**ApplyComposealgorithmtoG-UnionandInv-TIMES,becausethethreeconceptsinvolvedareinteresting,relatedtoTIMES,andthistaskwasspecificallysuggestedbytheprecedingone.Thecompositioniscreated,asspecifiedinthetask.Thisnewoperationhasdomain/range<Number-,Set-of-Numbers>,andIsthusgivenahigherratingthaneitherofitsconstituents.Itisrenamed"Divisors"bytheuser.--Appendix5AMDiscoveryinMathematicsasHeuristicSoarch-308-**Task145FillInexamplesofDivisors,becausenoneexistyet,andDivisorsisrelatedtotheveryinterestingconceptTIMES,anddivisorswasjustcreated.Manyexamplesare*found,butonlyaftermuchinefficientsearchingamidthesetofall(knownexamplesof)A.numbers.-*Task146**FillInnewalgorithmsforDivisors,becauseDivisors.Algsarealltooslow,and-havebeencalledonagreatdealrecently.AMaskstheuser,whosuppliesadecentiterativealgorithmforthisfunction.k**Tas147**FillinexamplesofPerfect-squares,becausenoneexistyet,andPerfect-squaresisrelatedtotheveryinterestingconceptTIMES,15found,afterwhichthespaceallocationwasexhausted.*-Task148**FillinspecializationsofTIMES,becauieTIMESisveryinteresting,hasvery-'fewknownspecializations,anditwasveryeasytofindexamplesofTIMES.AMnowallocatesahugechunkofcputimeandspacetothistask.AfewspecializationsofTIMESaregottenbyplugginginadistinguishedvalueforoneargument:Timesl(x)ulx,Times0(x).0,x,etc.OthernewoperationsaresimplyTIMESwithitsdomainrestrictedtoabagofspecialnumbers:Times-sqhasitsdomainabagofperfectsquares,Times-evtakes2-".onlyevenarguments,etc.Others(inefficienttocompute)areTIMESwithitsrangerestricted:Times-to-evensrequiresthattheresultbeeven,Times-to-sqforsquareresults,etc.-Task142**CheckexamplesofDivisors,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andDivisorsisrelatedtotheveryinterestingconceptTIMES.Often,Divisors(x)isinteresting(toAM)asaset;AMisolatesthecasesbydefining0-Div,1-Div,2-Div,andS-Dlv,thesetsofnumberswhoseDivisorsvalueistheemptyset,asingleton,adoubleton,andatripleton,respectively.AMwillgraduallypartitiontheexamplesofDivisorsintothesecategories,asAMtriestofillinexamplesofeachkindofnumber.ThisisthepointwheretheexampleinChapter2begins,andisalsoroughlythe.pointwheretheunadulteratedLISPtrace(Appendix5.3)ends.Boththissectionandtheearliercondensedtask-by-tasktrace,foundinChapter6,gofurther.**Task150**Fillinexamplesof1-Div,becausenoneexistyet,andI-Divwasjustcreated,andisrelatedtotheveryinterestingconceptTIMES.Onlyoneexamplefound:"I".ThiscausestheWorthofI-Divtobelowered.-*Task151**Fillinexamplesof0-Div,becausenoneexistyet,and0-Divwasrecently-.created,andisrelatedtotheveryinterestingconceptTIMES.Nonefound.Lowertheworthofthisconcept.-'Task152*sFillInexamplesof2-Div,becausenoneexistyet,andthisconceptisrelatedtotheveryinterestingconceptTIMES.About19arefound(outofabout170attempts).This-isaniceratio,anicedensitywithinthenaturalnumbersnottoomanynortoofewtobeinteresting.Asaresult,2-Dlv.Worthisslightlyraised.:-:::.2.----;,Appendix5AMDiscoveryinMathematicsasHeuristicSearch-309-TooTkIi5**Checkexamplesof2-Oiv,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andtheworthof2-divhasjustincreased,andFocusofAttention.Theexistingexampleswereconfirmed,butnopattern,noticed.Thiswasheart-stopping,since2-DivIsthenotionofprimenumbers;hereAMistossingItoffas.-on-interest.catching!**Task154**Fillinexamplesof3-Div,becausenoneexistyet,andS-DivisrelatedtotheveryinterestingconceptTIMES.Aswith2-Div,anicenumberofexampleswerefound(albeitonthescarcesideofnice).**Task155**Checkexamplesof3-Div,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,and3-DivisrelatedtotheveryinterestingconceptTIMES.,andFocusofAttention.Allconfirmed.Allareperfectsquares!Veryunexpected(bothbyAMandtheuser).AMgreatlyincreasedtheworthof3-Div.Onesuggestion,duetothefactthat3-DivwasnowIn-dom-ofSquare-root,was:**Task156**RestrictSquare-roottonumberswhicharein3-Div,Square-rootisinteresting,3-DivIsveryinteresting,andtheprecedingtaskspecificallyrequestedthisaction.AMcallsthenewconceptRoot3.**Task157**FillinexamplesofRoot3,becausenoneexistyet,andRootswasjustcreated,andRoot3isrelatedtotheveryinterestingconcept3-Div.Manyexamplesfound.Infact,itwaseasytotakethesquare-rootofeachknownexampleofS-Div.**Task158**CheckexamplesofRoot3,becausemanyexampleshaverecentlybeenfound,butnotyetchecked.Allconfirmed.Eachresultturnedouttobea2-Divtypeofnumber.Verysurprising.Conjecture:thesquare-rootofanumberwith3divisorsisanumberwith2divisors.AMrpsedtheworthsofalltheconceptsinvolved.Atthispoint,theuserrenamed2-Dlvsas"Primes".**Task159**RestrictSquaringtoPrimes,Squaringisinteresting,Primesisrecentlyinteresting,andtheprecedingtaskspecificallysuggestedthisaction.AMcallstheresultSquare2.**Task160**FillinexamplesofSquare2,becausenoneexistyet,andSquare2wasjustcreated.Manyfound.**Task161Checkthedomin/rangefacetofSquar*2,ithasbeenspecificallysuggestedthattherangeofSquare2maybe3-Div,andS-Divisveryinteresting,andSquare2isrelatedtotheinterestingconceptPrimes,andFocusofAttention.Ashopedfor,allare3-Divs.Conjecture:xisaPrimesiffitssquareisaS-Diviffitisthesquare-rootofa3-Div.**Task162**RestrictSquaringto3-Divs,Squaringisinteresting,2-Divisinteresting,andanearliertaskspecificallysuggestedthisaction.TheresultiscalledSquare3.AM'spastfewsuccessfultaskshavenowinvrerentedtheWorthsofcertainactivitiesabovetheirtruevalue:AMwillnowbetiedupwithrestrictingSquaringandSquare-rootingtoalltheconceptsinvolved.Theneteffectwillbetolowerthoseinflatedworthratings,andtolowertheus,:r'sandthereader's-opinionofAM.%-7.7_N'NLAppendix5AMDiscoveryinMathematicsasHeuristicSearch-30-**Task163**RestrictSquare-rootingtoPrimes,Square-rootisinteresting,Primesisinteresting,andanearliertaskspecificallyrequestdthisaction.CalltheresultRoot2."*Task164**FillinexamplesofSquare3,becausenoneexistyet,andSquare3isrelatedtotheinterestingconcept3-Div,andSquareswasrecentlycreated.Only9examplesfound'.beforerunningoutofspace.Byanalogy,sinceDivisors-ofosquare2wasinteresting,AMconsiders:**Task165**ComposeDivisors-ofandSquare3,Analogictotripletons,andDivisors-ofisinteresting,andSquaresisinteresting,andtheprecedingtaskspecificallysuggestedthisaction.AMcallstheresultDiv-Sq3.**Task166**FillinexamplesofDiv-Sq3,becausenoneexistyet,andDiv.SqSwasjustcreated.9examplesfoundrightaway,bysimplyrunningDivisors.of.Algsonthe9knownexamplesofSquares.Task167**CheckexamplesofDiv-Sq3,becausemanyexampleshaverecentlybeenfound,butnotyetchecked.AllsuchexamplesareSame-size.AlthoughAMdoesn'thavethenotionof'5-ness'explicitly,theyeachhave5members.Aspecializedhackheuristicobservesthegeneralpattern:DivisorsoPrimesareallofthesamesize;DivisorsoSquaringoPrimesareallofthesamesize;DivisorsoSquaringoSquaringoPrimesareallofthesamesize;Anewconjectureisformulatedandtypedtotheuser:DivisorsoRepeat(Squaring)oPrimeswillallbethesamesize.Thisexpressesthefactthat,foragivenn,p2nhasthesamenumberofdivisorsforeachprimep.AMwasnotabletofigureoutthatnumberofdivisors(itis2n+]).Thiswouldbeatrivialsequenceextrapolationproblem,butAMofcoursehadnoheuristicsfordealingwithnumbers,hencenosequenceextrapolationtechniques.Derivingtheconceptofsequenceextrapolationitselfwouldhavebeenquiteastounding,butneveroccurred.DiscoveringtheconceptofInductiveinferenceandstudyingitexplicitlyinisolationisquiteasophisticatedachievementthat'swhatAlresearchersspendmuchoftheirtimetryingtoaccomplish.ThisisonetimewhenAMwasmuchfurtherfromdiscoveringatheoremthanitappearedtothecasualobservor.**Task168**,-175.Moreconfirmationsandexplorationsoftheaboveconjecture.Gradually,allitsramificationsleadtodead-ends(asfarasAMIsconcerned).**Task176**FillInexamplesofRoot2,becausenoneexistyet,andRoot2isrelatedtotheinterestingconceptPrimes.Butnoexamplesatallarefound.Thisisnotsurprising,sinceveryfewprimesarealsoperfectsquarf.s.AMconjecturesthattherearenone.WorthofRoot2islowered.s*Task177**CheckexamplesofInv-TIMES,becausemanyexampleshaverecentlybeenfound,butnotyetchecked.Thisisabreakintheprevioussmoothlineofdevelopment.Inv-TIMESappearstoalwayscontainasingletonbag;infact,inv-TIMES(x)alwayscontainsthesingletonbag(x).AnotherconjectureAMmakes:Inv-TIMES(x)alwayscontainsabagofprimes.Thislasthypothesissuggeststhefollowingtwotasks:-~*44.~...*J..rrct~.-....s'.~.-2Appendix5AMDiscoveryinMathematicsasHeuristicSearch-311-**Task178**RestricttherangeofInv-TIMEStobagsofprimes,becauseInv-TIMESisinteresting,isrelatedtotheveryinterestingconceptTIMES,primesaremoreinterestingthannumbersatthemoment,FocusofAttention,andtheprevioustaskspecificallysuggestedthisaction.AMcallsthenewresultPrime-Times.**Task179**RestricttherangeofInv-TIMEStosingletons,becauseInv.TIMESisinteresting,isrelatedtotheveryinterestingconceptTIMES,singletonsaremoreinterestingthansetsatthemoment,arecenttaskspecificallysuggestedthisaction,andFocusofAttention.AMcallsthenewresultSingle-Times.**Task180**FillinexamplesofPrime-times,becausenoneexistyet,andPrime-timeswasrecentlydefined,andPrime-timesisrelatedtotheinterestingconceptPrimes,andPrime-timesisrelatedtotheinterestingconceptTIMES.Manyexamplesarefound.**Task181**CheckexamplesofPrime-times,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention,andPrime-timesisrelatedtotheveryinterestingconceptTIMES.ThevalueofPrime-times(x)isalwaysasingletonset.Conjecture:Inv-TIMES(x)containspreciselyonebagofprimes.Userrenamesthisconjecture"Theuniquefactorizationtheorem".AMprintsoutthatthiswillprobablybeverynaturalandimportant.ThereasonforthisisthatPrimes-wasItselfderivedfromTIMES,soanyconjectureconnectingthemisquitenatural.Anyunexpectedsuchnaturalconjecturewillprobablybeuseful.**Tosk182**FillinexamplesofSingle-TIMES,becausenoneexistyet,andthisconceptisrelatedtotheveryinterestingconceptTIMES.Manyfound.**Task183**CheckexamplesofSingle-TIMES,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,anditisrelatedtotheveryinterestingconceptTIMES,andFocusofAttention.ThevalueofSingle-times(x)isalwaysasingletonset.Conjecture:Inv-TIMES(x)containspreciselyonesingletonbag.Single-TIMESisactuallythesameasBag-insert,inthesensethatbothSingle-TIMES(x)andBag-Insert(x)givethevalue(x)thebagcontainingonlyx.Inthelattercase,thisisbecauseBag-insertis"smart"enoughtosupplyanemptybagasthesecondargumentStoBag-insert(x,S),ifSismissing.ssTask184**FillinexamplesofSelf-set-union,becausenoneexistyet.AMhasdroppedthemomentumofitspreviouswhirlwindofdiscovery,andissimplymarkingtime,gatheringevidence.Manyexamplesarefound.*Task185**CheckexamplesofSelf-set-union,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.Apparently,thisconceptisthesameasIdentity(butwithdomain/rangerestrictedtoSets).Replacebyaconjecture.*Task186**FillinexamplesofSelf-bag-union,becausenoneexistyet.Onthesametrack,butboring.Manyfcund.**Task187**CheckexamplesofSelf-bag-union,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.Allareconfirmed.NothinginterestingLnoticed.r.~-Z-;t;Appendix5AMDiscoveryinMathematicsasHeuristicSearch-312-*iTask188FillinexamplesofInv-ADD,becausenoneexistyet.Slowly,exampleswerefound.A3Task189**CheckexamplesofInv-ADD,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.Inv-ADD(x)alwayscontainsasingletonbag(x),adoubletonbag,atripleton,abagofl's,...Somanyconjecturesthat:**Task1903*RestrictthedomainofInv-ADD,becauseInv-Addisinteresting,relatedtotheinterestingconceptAdd,FocusofAttention,andtheprevioustaskspecificallysuggestedthisaction.Whenthedomainisrestrictedtoprimes,AMdefines'Inv-Add-primes'.WhenitrestrictsInv-Addtoworkonlyonevens,AMtherebydefinestheoperationitcalls'Inv-Add-evens'.**Task19133Fillinexamplesofinv-add-primes,becausenoneexistyet,andthisconceptwasjustdefined,andFocusofAttention.Manyfound.**Task192CheckexamplesofInv-sdd-primes,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.Allwereconfirmed,butnothingspecial*noticed.**Task193**FillinexamplesofInv-add-evens,becausenoneexistyet,andthisconceptwasrecentlydefined.Manyexamplesfound.**Task194**CheckexamplesofInv-add-evens,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.Confirmed.Inv-Add-evens(x)alwayscontainsabagofprimes.Thisismildlysurprising,andprompts:**Task1953*Restricttherangeofirwv-Add-evenstobagsofprimes,becauselnv-Add-evensisrecentlyinteresting,andPrimesismoreinterestingthanNumbers,andtheprevioustaskspecificallyrequestedthisaction(henceFocusofAttention).AMnamesthenewoperationPrime-ADD.T*ask196**RestricttherangeofInv-ADDtosingletons,becauseInv-Addisinteresting,singletonsaremoreinterestingthansets,AMjustworkedonInv-Add,AMrecentlyworked*onInv-Add,andanearliertaskspecificallysuggestedthisaction.ThusSingle-Addisborn.3*Task197**FillinexamplesofPrime-ADD,becausenoneexistyet,andPrime-addwasrecentlydefined.Manyfound.*3Task198s*CheckexamplesofPrime-ADD,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.ThevalueofPrime-ADD(x)isalwaysanonemptyset(ofbagsofprimes).Soconjectured(domain/rangechanged).UserrenamesthisconjectureGoldbach'sciJecture*.*3Task199*-_FillinexamplesofSingle-ADD,becausenoneexistyet,andthisconceptwas.-recentlydefined.Manyfound.K.Appendix5AMDiscoveryinMathematic,asHeuristicSearch-323-sTk2**CheckexamplesofSingle-ADD,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocus,ofAttention.ThevalueofSingleIADD(x)isalwaysasingletonset.Co..Jecture:Inv-ADD(x)containspreciselyonesingletonbag.Single-ADDisactualythesameasBag-insert(andSingleTIMEOV.L:**Task201**RestricttherangeofPrime-ADDtosingletons,becauseanalogictoPrime-TIMES,andPrime-Addisinteresting,andSingletonsismoreinterestingthanSets.Thiswasinitiatedbyanalogy,notbyanearliertaskspecificallysuggestingthattherestrictionbedone.Inthiscase,AMisaskingwhichnumbersareuniquelyrepresentableasthesumofftwoprimes.ThenewoperationisPrime-ADD-s.+Task202**FillinexamplesofPrime-ADD-s,becausenoneexistyet,andPrime-ADD-swasjustdefined.Manyexamplesarefound,butafterahontrivialprocessingeffort.**Task203**CheckexamplesofPrime-ADD-u,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.Nothingspecialnoticed.**Task204**FillinexamplesofTimos-sq,becausenoneexistyet.Losingthethreadofdiscovery,movingbacktodata-gatheringblindness.RecallthatTimes-sqisjustTIMESrestrictedtooperateonperfectsquares.Manyexamplesfound.88Task2058*Checkdomin/rangeofTimes-sq,becausetherangeofthisoperationmayactuallybePerfect-squares,andexamplesofTimes-sqwerejustfilledin,andthisconceptisrelatedtotheveryinterestingconceptTIMES,andFocusofAttention.Therangereallydoesseemtobeashopedfor.Conjecture:theproductofperfectsquaresisaperfectsquare.88Task206**FillInexamplesofTimesl,becausenoneexistyet.RecallthatTimesl(x)"TIMES(l,x).Manyfound.*Task2078*CheckexamplesofTimesl,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.ApparentlyTimeslIsjustarestrictionofIdentity.Timeslisthereforereplacedbyaloneconjecture:Times(x,l)-x.8*Task208**CheckexamplesofTimes-qbecausemanyexampleshaverecentlybeenfound,butnotyetchecked.Confirmed.**Task209**FillinexamplesofTimes0,becausenoneexistyet,andTimesOisrelatedtotheveryinterestingconceptTIMES.Manyfound.,Task210**FillinexamplesofTimes2',becausenoneexistyet,andthisoperationisrelatedtotheveryinterestingconceptTIMES.Manyfound.RecallthatTimes2(x)isdifinedas2,x.as*.jk211CheckexamplesofTimes2',becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.Apparently,Times2'isthesameasDoubling.ThatIs,x+x-2,x.AverypowerfultiebetweenAddandTimes!Thiswashighlyunexpected.Itisnotpredictedbytheexistinganalogy.Byanalog',AMnowdefinesAd2(x)asx42,andwillinvesitigatethat._z..Appendix5AMDiscoveryInMathematicsasHouristicSearch-314-**Task212**FillInexamplesofAd2,becausenoneexistyet,andAd2wasjsstcreated.Manyexamplesfound.**Task213**CheckexamplesofAd2,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.Nothinginterestingnoticed.AMdidn'thavethenotionofAddloAddlatthatmoment,orItcouldhavederivedtheanalogicconjecturebetweensuccessorladditionthatitfoundbetweenadditionlmultiplication.Thesamelackofknowledgeaboutexponentiationinhibitedtheperceptionthetimes/exponentanalogicrelationship.EverylittlebitofknowledgaboutoperationsinvolvingAddservedtoraisetheworthofAddslightly.Finally,thefollowingtaskrisestothetop:**Task214**FillinspecializationsofAdd,becausethereareverymanyexamplesofAdd,andAddhasrecentlyrisenIninterest.Amongthosecreatedare:AddO(x+O),AddI,Add3,Add-sq(additionrestrictedtoperfectsquares),Add-ev(sumofevennumbers),Add-pr(sumofprimes),etc.ThetechniquesusedwerethesameonesusedtospecializeTIMESearlier.**Task215**CheckexamplesofTimosO,becausemanyexampleshaverecentlybeenfound,butnotyetchecked.Thevaluealwaysseemstobe0.Soconjectured.TimesOgoesaway.**Task216**FillinexamplesofTimes-ov,becausenoneexistyet.RecallthatTimes-evisjustlikeTIMESrestrictedtooperatingonevennumbers.Manyexamplesfound.**Task217**CheckexamplesofTimes-ev,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.ApparentlyalltheresultsareallEvens.Conjecture:theproductofevennumbersiseven.Notethatnoexplicittaskoftheform"CheckDIR"hadtobeexecutedinordertonoticeandcorrectthis.Thenetresulthereisthesame:aconjectureandanalterationoftheDomainlrangefacetofTimes-v.**Task218**FillinexamplesofTimes-to-ev,becausenoneexistyet.Thatis,considerbagsofnumberswhichmultiplytogiveanevennumber.Manyfound.**Task219**FillInexamplesofTimes-to-sq,becausenoneexistyet.Findbagsofnumberswhoseproductisaperfectsquare.Afewfoundrightaway,thengreatdifficultyinlocating,moreexamples.**Task220**CheckexamplesofTimes-to-sq,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.Allargumentsalwaysseemtobesquares.Conjec:Times-to-sqisreallythesameasTimes-sq.Mergethetwo.Thisisafalseconjecture,since,e.g.,theproductofthenumbersinthebag(2233)isaperfectsquare,but.=lofthosenumbersisitselfasquare.ThisdidAMnoharm,andAMneverdetecteditsmistake.curTask221**ChockexamplesofTimes-to-ev,becausemanyexampleshaverecentlybeenfound,butnotyetchecked.Thedomainalwaysseemstocontainanevennumber.Soconjectured.I.e.,iftheproductofsomenumbersiseven,thensoisoneofthosenumbers.Thisconjectureistrue,atleast.**Task222**FillinexamplesofSelf-Union,becausenoneexistyet.Reachingwaybackintime.Ugh.Manyfound.z..Appendix5AMDiscoveryinMathematicsasHeuristicSearch-315-**Task223**CheckexamplesofSelf-Union,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.Nothingspecialnoticed.s,Task224**FillinexamplesofSubSet,becausenoneexistyet.Manyfound.**Task22500ChockexampleofSubSet,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.Nothingspecialnoticed.Task226**FillinexamplesofSuperSet,becausenoneexistyet.Manyfound.**Task227**CheckexamplesofSuperSet.,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.AMnoticesthatif<x,y>arerelatedbySubSet,thenReverse-ord-palr(<x,y>)4rerelatedbySuperSet,andconversely.ThisisthebaseconnectionbetweenunionandIntersection(seeTasks29and39,wherethesetwoconceptsaredefined).Thatis,xcyiffyx.Ti7J2,,FillinexamplesofComposeoCompose-l,becausenoneexistyet.AMcreatessomepoorcombinations(e.g.,SquareoCountoADD'),someexplosiveones(e.g.,(ComposeoCompose*(ComposeoComposeo(ComposeoCompose)),andevenafewveryfew-winners(e.g.,SUBloCountoSelf-Insert).Thisistoomuchlikethrowing"flying,hookedatoms"upintotheair,andhopingthatthreeofthemcollidefortuitously.Whilealittleguidancemayhelpyoutofindgoodcollisionsof2suchfliers,thecombinatorialexplosionswampsthepoorresearcherwhenhetakesthemonthreeatatime.AsSt.Augustineobserved,theLatin'cogito'derivesfrom'shaketogether',but'intelligo'derivesfrom'selectamong'.To2**CheckexamplesofComposeoCompose-1,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.Nothinginterestingtofind.00Task230**FillinexamplesofComposeoCompose-2,becausenoneexistyet,RecallthatthedifferencebetweenthisoperationandthelastoneIsmerelyintheorderofthecomposing:Fo(GoH)versus(FoG)oH.AMrecreatesmanyoftheprevioustasks'operations.oTask231**CheckexamplesofComposeoCompose-2,becausemanyexampleshaverecentlybeenfound,butnotyetchecked,andFocusofAttention.Nothingnoticedyet.Lateron,AMfindsthatoneafteranotheroftheoperationscreatedintheprecedingtaskas,say,Composeocompose.l(FGH),isreallythesameasthecorrespondingoperationcreatedasComposeocompose.2(F,G,-l).Eventually,AMconjecturesthatthosetwoComposeoComposeoperationsarereallythesame;thatis,Composeisassociative.*TTsk232*0,-252.FillinandcheckexamplesofthelosingcompositionsJustcreated.*Task253*0FillinexamplesofAdd-sq,becausenoneexistyet,andAdd-sqisrelatedtotheinterestingconceptAdd.RecallthatAdd-sqisjustaddition,restrictedtoperfectsquares.Manyexamplesfound.-II.Appendix5AMDiscoveryinMathematicsasHeuristicetrch-316-*sTsk254**Checkdomain/rang,entriesofAdd-sq,becausetherangemayalsobePerfect-squares,andexamplesofAdd.sqwerejustfilledin(henceFocusofAttention),andAdd-sqisrelatedtotheinterestingconceptAdd.Therangeisn'tPerfect-squares(e.g.,4.9isnotsquare),butsomevaluesare,soAMdefinesthepredicateAdd-sq-sq(x,y),whichisTrue1ffxandyareperfectsquaresandtheirsumIsaperfectsquareaswell(e.g.,Add.sq.sq(16,9)).Add-sq-sq.DefnisapredicatewhichistrueifIts3argumentsaresquares,sayx2,y2z2,andifthesumofthefirsttwoisequaltothethird:x2+y2-z2.**Task255**FillinexamplesofAdd-pr,becausenoneexistyet,andAdd.prisrelatedtotheinterestingconceptAdd.Thatis,thesumofapairofprimes.**Task256**CheckDommin/rangeentriesofAdd-pr,becausemanyexampleshaverecentlybeenfound,butnotyetchecked.AMdefinesthesetofpairsofprimeswhosesumisalsoaprime(e.g.,Add-pr-pr(2,5)).Inaratherbizarreway,AMhasdefinedprimepairs.Thesumoftwoprimescanbeaprimeifoneofthemis2.SoAdd-pr-prcanreallybeconsidereda'":4predicateononeprimeargumentx,whichreturnsTrueiffx+2isaprime;I.e.,1ffxisthelowermemberofaprimepair.ThereIssomethingatonceawfulandsublimeaboutthisderivationofprimepairs.PerhapsthiscapturesthespiritofAMsactionsasawhole,solet'sstopthistracerighthere.Appendixs.An'Unadulterated'TraceHereisthewaythattheAMprogrambegins.Thehumanuser'stypingwillappearinitalicso.Hefirsttypes(START)tostartthesystem,afterwhichAMaskshimsomequestions.Finally,themainSelect&Execute-a-TASKloopofAMisentered.Thecarefulreaderwillnoticeseveralsmallchangesinthistranscript,comparedtothenicelydoctoredoneswhichprecededit.Foronething,thetasknumberinghereisnotpreciselythesameasintherestofthisdocument.AtaskIscalleda"Cand",andtheagendaiscalled"CANDS".Onlysomeofthereasonsareprintedout,andtheyarenotas"chatty"asthereasonsin.e.g.,Chapter2'sexampletrace.TheuserhasaskedAMtotypeoutthetopthreetasksontheagendaateach"cycle".Inabetterhardwareenvironment,theusercoulddynamicallywatchthetophundredtasksbubblingaroundononesideofaCRTscreen.ToInterruptAM,theusertypesCONTROL-I.Atthatmomenthehasaverylimitedsyntaxofquestionshemayask.See(o)below(page319).AnapproximateleveloffamiliarityoftheuserwiththeAMprogramismaintainedbyAM,asanumericvariable.Initially,itsvalueisdeterminedbythenumberoftimesthehumanuserhasusedAMinthepast.10Itgraduallychangesinvalueasasinglesessionproceeds.Manyprintstatementsusethisvariabletodeterminethenecessarylevelofdetailtotype.Forexample,contrastthelinepointedtobyanarrowlabelled(4)belowwiththe,7linelabelled().Inbetween,thevariableincreasedtothepointwhereadetailedmessage.gThisisnotadoctoring:Ihavewrittenani/oroutineforAMwhichprints24beforeeverythingtheusertypes,and2.1.%%afterwards.The'PUB'documentationprograminterpretsthistomean"switchtofont4"and"switchback10tofontI".ThimdocumentwasPUBBedwithfont4definedasitalics.I01hillresistthetemptationtocallthisasimple"usermodel*,eveninafootnote.J6\%%:..I.XAppendix5AMDiscoveryinMathematicsasHeuristicSearch-317-Ewasthoughttobesuperfluous.Thelevelofdetailneededforclarityshouldnotbeconfusedwiththelevelofverbosityofoutputthatisdesired,Shouldtheuserseeeveryfunctioncall,ortheresultsofeachtask,orjustmonitortheoverallcharacterofwhatAMisdoing?Aseparatevariableismaintainedforthisverbosityindication.Finally,anotherpartiallyindependentdimensionistheamountofcontroltheuserwishestohaveonAM.MustheapproveeachmoveAMmakes,occasionallyredirectAM,beabletoaskquestions?Anothervariableindicatesthelevelofusercontrolineffectatthemoment.Thefirstseveralquestionsdealwithsettinguptheseparameters.VINTERLISP-104-JAN-75...Goodafternoon,Doug.+-(START)Pleasetypeinyourlostnamethencarriage-return):FEIGENBAUMAlmostreadytoenterAM'smainloop,Ed.Ed,youhaveusedAMoncebefore.Doyoufeellikeyouneedsomerefreshingabouthowtoworkwithit?Y)sAMhas113conceptstostartwith,eachwithonlyabout5ofitspotential30facetsparts)filledin.Repeatedly,AMselectsapartofaconcept,andtriestofillitinorcheckit.Inthisprocess,newconceptsmayemergeandbegrantedfullstatus;inthosecases,almostalltheirpartswillbeemptyatthetimeoftheircreation.CANDSisalistofsuggestedfutureactivitiesforAM.Repeatedly,AMpicksaCandidatefromCANDSanddoeswhatitsays.AtypicalCandmightbe:(Fillinexamplesofinterestingcompositions).EachCandalsohasalistofreasonsexplainingwhyitwasproposed,andanumericratingofitsoverallvalue.DO-THRESHholdisanumericvariablethatindicatesthelowestratingaCandmayhaveandstillbeexecutedbyAM.IfnoCandonCANDSmeasuresup,thenalltheconceptstrytosuggestnewcandidates,whicharemergedintoCANDS.DISCLAIMER:Theuserinterfaceisstillunfinished,andinfacttheonlypolishedpartisthefollowingmessagedescribingit!Tryitatyourownrisk!You,Ed,canaffectthisconceptgrowingprocess.Atanytime,youmayhitti,whichwillInterruptme.Onceinterrupted,Iwillansweronequestionorperformonetask;atypicalquestionIcananswerisWHY;atypicaltaskisRaisetheInterestLeveloftheFrobnateConcept).AsecondwaytointeractwithmeistohelpmedecideAppendix5AMDiscoveryinMathematicsasHetiristicSearch-318-whichCandtodonexteachtime.Youcanseemytopchoices,theirreasons,andoverrulemeifyouwant.ThevariableSeencandsisthenumberofCandidatesyouseoeachtime,andUcontrolindicatestheamountofcontrolyouhaveovermychoosing.ThTokeepyiuinformed,Iwillperiodicallyprintoutmessages.Thelevelofverbositycanbechangedbyinterruptingme.Moredetailscanbeobtainedwhenyouinterruptwithti.VerbosityLevel(110,or?)....(Pleaseterminateyourresponsewithacarriage-return)...VerbositytheamountofdatathatAMspewsouttoEd.Inthissystem,Verbosityisjustanumeric-valuedvariablewhichthePrintingfunctionslookat.Verbositylevel0suppressesallmessages.Verbositylevel5letsmostimportantmessagesgetprinted.Verbositylevel10dumpsoutenoughtoactuallygetsomefeelingfortheinnerworkingsofAM.ThesuggestedvalueforEdis8.VerbosityLevel(110,or?)....(Pleaseterminateyourresponsewithacarriage-return)...10User-controlLevel010,or?)...?User-controlthedegreetowhichyousuperviseAM'sactivitiesInthissystem,User-controlisjustanumeric-valuedvariablewhichthetop-levelcontrolfunctionslookat.User-controllevel0letsyougaincontrolonlyviatl.User-controllevel5letsyouseeafewofAM'salternatives,andwaits6secondsforyoutoOKitschoice.User-controllevel10displaysseveralalternativeCandidates,andwaitsindefinitelyuntilyoutoselectone.User-controlLevel010,or?)...4BeforedecidingwhichnewCandtoworkon,I'llprintmytopchoices.HowmanyCandidateswouldyouliketoseeeachtime?Isuggest4):3ShouldItellyoumyreasonsforeachCandIamconsideringselectingeachtime?NoShouldItellyoumyreasonsfortheCandIactuallyselecteachtime?YesIfyouhavenottypedanythingwithin4secondsafteraprompt,thenAMwillfillinadefaultanswerforyou.AspacewillsufficetokeepAMfromdefaultingonyou,whileyouthinkaboutwhattoreplytoanyquestionAMasksyou.1k,Appendix5AMDiscoveryinMathematicsaHeuristicSearch-3)9-Ingeneral,yourresponseshouldbeterminatedbyacarriagereturn.Wouldyouliketoresetthiswaitingtime?NoEnteringAM'smainloopnow.NoCandonCANDSisgoodenuf.Do-threshreducedfrom500to333MustfindnewcandidatesandmergethemintoCANDS.Thetop3Candsare:1:FillinsomeexamplesofSet-struc-intersect2:FillinsomeexamplesofSet-struc-join3:FillinsomeexamplesofCoalesceIchoosefirstCand.OK?yes.ThereasonforconsideringthisCandis:(WehavenoexamplesforSET-STRUC-INTERSECTyet)Beginning1stcycle.Failed.TriedtofillinnewexamplesofSET-STRUC-INTERSECT.<Atthismoment,theuserhitcontrol-IandinterruptedAM.>?:(W,,E,N,?,Q)?Herearemoredetailedexplanationsofyouroptions:WWhy:AMgivesEdtheexplanationbehinditslastprintedmessage.IInterest:EdcanmodifytheinterestratingsofconceptsandCandidates.EEvaluate:EdtypesinanexpressionandAMrunsEVALonit.MMessage:WhatwasthelastmessagethatAMdidNOTtypeoutbecausetheverbositywastoolow?NName:Renamesomeconcepttowhateveryouwanttocallit.QQuit:resumeexecution.Ingeneral,AMwillautomaticallyresumeexecutionafteransweringonequery.YoumusthitTIagaintointerrupt.?:WWhy:(NoexamplesofSET-STRUC-INTERSECTwerefound;thereisnoreasontoevenconsiderspecializingitfurther)ThisCandused11.159cpuseconds.Ic%'Appendix5AMDiscoveryinMathematicsmeHeuristicSearch-320-Thetop3Candsare:1:FillinsomeexamplesofSet-struc2:FillinsomeexamplesofCoalesce3:FillInsomeexamplesofNonempty-strucIchoosefirstCand.OK?yes.The2reasonsforconsideringthisCandare:(Active-exsspecificallyaskedforsomeexamplesofSET-STRUCwhiletryingtoFillinsomeSet-struc-intersectexamples)(WehavenoexamplesforSET-STRUCyet)Beginning2ndcycle.CreatingnewBeing,similartoSET-STRUC,namedINT-SET-STRUC,butrestrictedsoastomakeitmoreinteresting.AnINT-SET-STRUCisanySET-STRUCforwhich(Eachpairof-'elementssatisfiesthesameinterestingpredicateP(forsomeP)).FilledinexamplesofSET-STRUC.0examplesexistedoriginallyonSET-STRUC.S11potentialnewentrieswerejustproposed.Eliminatingduplicates,thenewlyconstructedexamplesare:(CLASS)(CLASSDOUGCORDELLBRUCE)(CLASSRO-7RI-7R2-7R3-7R4-7R5-7R6-7R7-7)(CLASSA)(CLASSB)(CLASSAB)(CLASS0DFIM)Aftereliminatingduplicateandalready-knownentries,AMfindsthat.only7new,distinctexamplesofSET-STRUChadtobeadded.Do-threshraisedfrom332to346becausethislastCandsucceeded,soweraiseourhopes--andourst,ndards--temporarily.ThisCandused23.743cpuseconds.Thetop3Candsare;1:FillinsomeexamplesofInt-set-struc2:FillinsomeexamplesofCoalesce3:CheckallexamplesofSet-strucIchoosefirstCand.OK?yes.ThereasonforconsideringthisCandis:(AnyexampleofINT-SET-STRUCisautomaticallyaninterestingexampleofSET-STRUC)I:::Appendix5AMDiscoveryinMathematicsasHeurislcSearch-321-Eeginning3rdcycle.Won'ttrytocreatearestrictedinterestingversionofINT-SET-STRUC.FilledinexamplesofINT-SET-STRUC.0examplesexistedoriginallyonINI..SET-STRUC.13potentialnewentrieswerejistproposed.Eliminatingduplicates,thenewlyconstructedexamplesare:(CLASS)(CLASSA)(CLASSB)Aftereliminatingduplicateandalready-knownentries,AMfindsthat.only3new,distinctexamplesofINT-SET-STRUChadtobeadded,Do-threshraisedfrom346to358.ThisCandused11.881cpuseconds.Thetop3Candsare:1:FillinsomeexamplesofObj-equal2:CheckallexamplesofInt-set-struc3:CheckallexamplesofSet-strucIchoosefirstCand.OK?yes.ThereasonforconsideringthisCandis:(WehavenoexamplesforOBJ-EQUALyet)Beginning4thcycle.Recordofattemptstofindexamples:Anexsought)is:((CLASSA),(CLASSA)-+T)----Found6examplesand151non-exs),in11.644sacs.Ratioofexstonon-exsistoolow6151);Exsaretoosparse.AMwillsometimetrytogeneralizeOBJ-EQUAL.Won'ttrytocreatearestrictedinterestingversionofOBJ-EQUAL.FilledinexamplesofOBJ-EQUAL.0examplesexistedoriginallyonOBJ-EQUAL.6potentialnewentrieswerejustproposed.Eliminatingduplicates,thenewlyconstructedexamplesare:((CLASSA)(CLASSA)4T)((CLASSODFIM)(CLASSODFIM)T)(FALSEFALSET)I,-Appendix5AMDiscoveryinMathematicsasHeuristicSearch-322-Aftereliminatingduplicateandalready-knownentries,AMfindsthat.only3new,distinctexamplesofOBJ-EQUALhadtobeadded.Do-threshraisedfrom358to359.ThisCandused17.886cpuseconds.-NoCondonCANDSisgoodenuf.Do-threshreducedfrom359to239MustfindnewcandidatesandmergethemintoCANDS.Thetop3Candsare:1:FillinsomeexamplesofSet-struc-intersect2:CheckallexamplesofInt-set-struc3:FillinsomegeneralizationsofObj-equalIchoosefirstCand.OK?yes.ThereasonforconsideringthisCandis:(WehavenoexamplesforSET-STRUC-INTERSECTyet)AMrecentlytriedthissameCand,solet'sskipitnow.*Thetop3Candsare:1:CheckallexamplesofInt-set-struc2:FillinsomegeneralizationsofObj-equal3:CheckallexamplesofSet-strucIchoosefirstCand.GK?yes.ThereasonforconsideringthisCandis:(SomenewuncheckedexamplesofINT-SET-STRUChaverecentlybeenadded)Beginning5thcycle.AMisforgettingtheentireSUGGfacetoftheINT-SET-STRUCconcept.Because:(Nosenseusingthissuggestionmorethanonce).CheckedexamplesofINT-SET-STRUCandallentrieswereconfirmedThisCandused11.362cpuseconds.Thetop3Candsare:S-.-.,°...--Appendix5AMDiscoveryinMathematics.*HeuristicSearch-323-1:CheckallexamplesofSet-struc2:FillinsomegeneralizationsofObj-equal3:FillinsomeexamplesofCoalesceIchoosefirstCand.OK?yes.ThereasonforconsideringthisCandis:(Somenew,uncheckedexamplesofSET-STRUChaverecentlybeenadded)Beginning6thcycle.Basedonempiricalexperiments,AMbelievesthatSET-STRUCmayreallybenomorespecializedthanUNORD-OBJ.Closerinspectionrevealsthattheevidenceforthiswasquiteflimsy.AMwillwaituntilsomeexamplesofanyofthesehavebeenfound:(BAG-STRUC),andthenseeiftheytrulyalsoareSET-STRUC's.Basedonempiricalexperiments,AMbelievesthatSET-STRUCmayreallybenomorespecializedthanNONMULT-STRUC.Closerinspectionrevealsthattheevidenceforthiswasquiteflimsy.AMwidlwaituntilsomeexamplesofanyofthesehavebeenfound:(OSET-STRUC),andthenseeiftheytrulyalsoareSET-STRUC's.CheckedexamplesofSET-STRUC.5entrieswerethereinitially.1smallmodificationshadtobemade.5entriesarepresentnow.ThisCandused8.008cpuseconds.Thetop3Candsare:1:FillinsomeexamplesofBag-OAruc2:FillinsomeexamplesofOset-struc3:FillinsomegeneralizationsofObj-equalIchoosefirstCand.OK?yes.ThereasonforconsideringthisCandis:(WehavenoexamplesforBAG-STRUCyet)Beginning7thcycle.FilledinexamplesofBAG-STRLJC.Appendix5AMDiscoveryinMathenmticsnHeuristicSearch-324-0examplesexistedoriginallyonBAG-STRUC.19potentialnewentrieswerejustproposed.Eliminatingduplicates,thenewlyconstructedexamplesare:(BAG)(BAGA)(BAGB)(BAGAB)(BAGAA)(BAGAAB)(BAG0DFIM)(BAGAB(BAGB)(CLASS))(BAGBRUCECORDELLDOUG)(BAGRO-7RI-7R2-7R3-7R4-7R5-7R-4R7-7)Aftereliminatingduplicateandalready-knownentries,AMfindsthat.only10new,distinctexamplesofBAG-STRUChadtobeadded.XEQ-CAND5AIADo-threshraisedfrA239to264.ThisCandused17.692cpuseconds.Thetop3Candsare:1:FillinsomegeneralizationsofObj-equal2:FillinsomeexamplesofOset-struc3:FillinsomeexamplesofCoalesceIchoosefirstCand.OK?yes.'I,Thereasonis:(Theratioofexamplestonon-examplesofOBJ-EQUAListoolowOBJ-EQUAListoospecialized,toonarrow)Beginning8thcycle.ConsideringgenlizingarecursivedefnofOBJ-EQUALWilltrytoremoveaconjunct.2possibleconjunctstochoosefrom.AMgeneralizesOBJ-EQUALintothenewconceptGENL-OBJ-EQUAL,bynotrecursingontheCARofeacharg.i.e.,GENL-OBJ-EQUALwillnothavearecursivechecklikethisone,whichispresentinOBJ-EQUAL:APPLYB(QUOTEOBJ-EQUAL)-(QUOTEDEFN)(CARBAI)(CARBA2)AMgeneralizesOBJ-EQUALintothenewconceptGENL-OBJ-EQUAL-1,bynotrecursingontheCDRofeacharg.i.e.,GENL-OBJ-EQUAL-1willnothavearecursivecheckV-:--A-~7~±~-NAppendix5AMDiscoveryinMathenmticsasHoiuriicSearch-325-likethisone,whichispresentinOBJ-EQUAL:APPLYB(QUOTEOBJ-EQUAL)(QUOTEDEFN)(CDRBAI)(CDRBA2)Ifanyof(GENL-OBJ-EQUALGENL-OBJ-EQUAL-1)everseemstobetoospecialized,AMwillconsiderdisjoiningitwithothermembersofthatset.FilledingeneralizationsofOBJ-EQUAL.0generalizationsexistedoriginallyonOBJ-EQUAL.2potentialnewentrieswerejustproposed.Eliminatingduplicates,thenewlyconstructedgeneralizationsare:GENL-OBJ-EQUALGENL-OBJ-EQUAL-1Aftereliminatingduplicateandalready-knownentries,AMfindsthat.all2new,distinctgeneralizationsofOBJ-EQUALhadtobeadded.Do-threshraisedfrom264to335.ThisCandused6.667cpuseconds.Thetop3Candsare:1:FillinsomeexamplesofGenl-obj-equal-12:FillinsomeexamplesofGenl-obj-equal3:FillinsomeexampllsofOset-strucIchoosefirstCand.OK?yes.Thereasonis:(ThegeneralizationGENL-OBJ-EQUAL-1ofOBJ-EQUALisrelativelynewandhasnoexsofitsownyetexceptingthoseofOBJ-EQUAL)Beginning9thcycle.?.:NRenamewhichexistingconcept?GENL.OBJ.E(JA.,WhatIsItsnewname?SAME4iZEDone.Appendix5AMDiscoveryinMathematicsasHeuristicSearch-326-Recordofattemptstofindexamples:Anex(sought)is:((ECTORBAG)(VECTORB(BAG8)(CLASS)A))..-...-------------Found26examplesand10~inon-ex.),in&.037secs.Aniceratioofexs/non-exswasencounteredforGENL-OBJ-EQUAL-1VWon'ttrytocreatearestrictedinterestingversionofGENL-OBJ-EQUAL-1.FilledinexamplesofGENL-OBJ-EQUAL-1.0examplesexistedoriginallyonGENL-OB.J-EQUAL-1.26potentialnewentrieswerejustproposed.Eliminatingduplicates,thenewlyconstructedexamplesare:((VECTORBAG)(VECTORB(BAGB)(CLASS)A)-T)((OSET0DFIM)(OSET00FIM)-aT)((BAG)(BAGDONED)-4T)((OSETDMIF0)(OSETDM1IF0)-aT)(PAIRDOUGBRUCE)(PAIRDOUGBRUCE)-aT)((ECTORBAG)(VECTORDMIF0)-4T)((ECTORB)(VECTORDMIF0)-T)((BAGB)(BAGB)--T)((ECTORDMIF0)(VECTORAAB)-T)((BAGA)(BAGAB)-.T)((VECTOR)(VECTORB(BAGB)(CLASS)A)4T)((OSETBRUCEDON)(OSETBA)-*T?((PAIRCOMPOSE-EXSCOMPOSE-EY.S)(PAIRLIST-STRUC-INTERSECTANYB-SPEC)-#T)((OSETR2-1R2-2R2-3R2-4R2-5R2-6R3-1R3-2R3-3R3-4173-5R3-6R4-1R4-2R4-3R4-4R4-5R4-6145-1R5-2R5-3RS-4Rl5-5R5-6R6-1R6-2R6-3R6-4R6-5R6-6)(OSE70DFIM)4#T)((OSETAB(BAGB)(CLASS))(OSET0(BAGB)(CLASS)A)-aT)((OSET0DFIM)(OSETB)4-T)((ECTORAA)(VECTORAB)-)T)((OSETDONED)(OSETBAG)T)((BAGAAB)(BAG)-oT)((OSETB)(OSETBRUCEDON)41)((LASSDONED)(CLASSA)-)T)(PAIRLIST-STRUC-INSFRTCANON!ZE)(PAIRLIST-STRUC-INTERSECTANYB-SPEC)--oT)((VECTOR)(VECTORBAG)-oT)((OSETA)('OSETDMIf0)4-T)((VECTORBAG)(VECTORBAG)-#T)Aftereliminatingduplicateandalready-knownentries,AMfindsthat.only25new,distinctexamplesofGENL-OBJ-EQUAL-1hadtobeidded.Do-threshraisedfrom335to367,ThisCanciused29.095cpuseconds.Appendix5AMDiscovetyid~MathematicsasHeuristicSearch-327-Thetop3Candsarn:1:Fillinsom~eex~amplesofSame-size2:Check~allexzimplasotGeril-obi-equal-i3:FillinsomeexamplesofCoajesceIchoosefirstCand.OX?yes.The2reasonsare;(InterestingnessofSAME-SIZEhaschangedrecently)(TheaeneralizationSAME-SIZEofOBJ-EQUALisrelativelynewandhasnoexsofitsownyet,exceptingthoseofOBJ-EQUAL)Beginning10thcycle.Recordofattemptstofindexamples:Anexsought)is:((VECTORA)(OSETB))+---+----+----++---+----+-Found26examplesand102non-exs),in8.032secs.Aniceratioofexs/non-exswasencounteredforSAME-SIZEWon'ttrytocreatearestrictedinterestingversionofSAME-SIZE.FilledinexamplesofSAME-SIZE.0examplesexistedoriginallyonSAME-SIZE.36potentialnewentrieswerejustproposed.Eliminatingduplicates,thenewlyconstructedexamplesare:((OSETO0DFIM)(OSETOD0FIM)-T)((OSETDMIF0)(OSETDMIF0)-iT)((PAIRDOUGBRUCE)(PAIRDOUGBRUCE)-.T)((BAGB)(BAGB)-4T)((OSETBRUCEDON)(OSETBA)-+T)((PAIRCOMPOSE-EXSCOMPOSE-EXS)(PAIRLIST-STRUC-INTERSECTANYB-SPEC)4*T)((OSETAB(BAGB)(CLASS))(OSETB(BAGB)(CLASS)A)-oT)((ECTORAA)(VECTORAB)-+T)((PAIRLIST-STRUC-INSERTCANONIZE)(PAIRLIST-STRUC-INTERSECTANYB-SPEC)4#T)((VECTORBAG)(VECTORBAG)-4T)((ECTORA)(OSETB)4T)((BAGAB)(OSETBA)T)((LASS00OFIM)(BAG0DFIM)4T)((ECTORB)(BAGA)-4T)((PAIRLIST-STRUC-INTERSECTANYB-SPEC)(PAIRDOUGBRUCE)4T)((OSETDONED)(PAIRLIST-STRUC-INTERSECTANYB-SPEC).4T)((BAG0DFIM)(VECTORDMIF0)4T)7.((ECTORB)(BAGB)4T)7((OSETBAG)(OSETA)4T)((ECTORAA)(BAGAA)-+T)((LASSA)(VECTORBAG)-+T)((LASSAB)(OSETAB)-4T)(PAIRCOMPOSE-EXSCOMPOSE-EXS)(OSETDONED)4T)Appendix5AMDiscoveryinMathematicsisHeuristicSearch-328-((VECTORA)(OSETA)-T)((OSETBAG)(CLASSA)-.T)((OSETA)(CLASSA)-4T)((OSETB)(OSETA)4T)((BAG0DFIM)(OSET0DFIM)-#T)((OSETDONED)(OSETEDCORDELL)+T)((OSETEDCORDELL)(OSETBA)-#T)((OSETA)(BAGB)-4T)((OSETBA)(OSETAB)-T)((VECTORBA)(OSETEDCORDELL)T)((OSETA)(VECTORBAG)4T)((OSETBA)(OSETDONED)#T)Aftereliminatingduplicateandalready-knownentries,AMfindsthat.only35new,distinctexamplesofSAME-SIZEhadtobeadded.Do-threshraisedfrom367to406.ThisCandused21.725cpuseconds.Thetop3Candsare:1:CheckallexamplesofSame-size2:CheckallexamplesofGenl-oj-equal-l3:CheckallthingswhichjustbarelymissbeingexamplesofSame-sizeIchoosefirstCand.OK?yes.Thereasonis:(SomenewuncheckedexamplesofSAME-SIZEhaverecentlybeenadded)Beginningl1stcycle.CheckedexamplesofSAME-SIZE.35entrieswerethereinitially.1hadtobecompletelydiscarded.4hadtobetransferredelsewhere.30entriesarepresentnow.Do-threshraisedfrom406to421.ThisCandused6.917cpuseconds.Thetop3Candsare:1:CheckallexamplesofGenl-obj-equai-I2:CheckallthingswhichjustbarelymissbeingexamplesofAppendix5AMDiscoveryinMathematicssI'wristicSearch-329-Same-sizeI3:FillinsomeexamplesofCoalesceIchoosefirstCand.OK?yes.Thereasonis:(Somenew,uncheckedexamplesofGENL-OBJ-EQUAL-1haverecentlybeenadded)Beginning12ndcycle.CheckedexamplesofGENL-OBJ-EQUAL-1.25entrieswerethereinitially.1hadtobecompletelydiscarded.4hadtobetransferredelsewhere.20entriesarepresentnow.ThisCandused4.711cpuseconds.NoCandonCANDSisgoodenuf.Do-threshreducedfrom421to333MUstfindnewcandidatesandmergethemintoCANDS.Thetop3Candsare:1:Canonizethese2arguments:Genl-obj-equal-IandObj-equal2:Canonizethese2arguments:Same-sizeandObj-equal3:FillinsomeexamplesofCoalesceIchoosefirstCand.OK?yes.Thereasonis:(itwouldbenicetofindacanonicalwithrespecttoGeni-obj-equal-IandObj-equalrepresentationCforanyObjectXthatis,(GENL-OBJ-EQUAL-1xyiff(OBJ-EQUAL(Cx)(Cy)).)Beginning13rdcycle.ExperimentsindicatethatGENL-OBJ-EQUAL-1isaffectedbythevaryingthetypeofstructureofitsarguments.GENL-OBJ-EQUAL-1doesn'tlookatanyelementsofOBJECTexceptpossiblythecarofthestructurewhichdenotesitstype,soAMreplacesthetailofOBJECTbyacanonicaldistinguishedtail,sayNIL.Succeeded!SomeconjecturesthatAMconsidersbelievable:Appendix5AMDiscveryinMathematicsasHeuristicSearch-330-OBJ-EQUAL,restrictedtocanonicalOBJECT's,isihdistlnguishablefromGENL-OBJ-EQUAL-1.ThereisapowerfulanalogybetweenGENL-OBJ-EQUAL-1OBJ-EQUALOBJECTCANONICAL-OBJECToperatorsonandintothoseoperatorsrestrictedtoOBJECTCANONICAL-OBJECTstatementsinvolvingthesestatementsinvolvingtheseDo-threshraisedfrom333to341.ThisCandused9.02cpuseconds.Thetop3Candsare:1:FillinsomeexamplesofCanonical-object2:Restrictthefollowing:Genl-obj-equal-1Canonical-objectDomain3:Canonizethese2arguments:Same-sizeandObj-equalIchoosefirstCand.OK?yes.Thereasonis:(AnyexampleofCANONICAL-OBJECTisacanonicalexampleofOBJECT)Beginning14thcycle.AMwillnowtryt0produceexamplesofCANONICAL-OBJECTbyrunningthefollowingoperations:(CANONIZE-GENL-OBJ-EQUAL-1&OBJ-EQUAL).Won'ttrytocreatearestrictedinterestingversionofCANONICAL-OBJECT.FilledinexamplesofCANONICAL-OBJECT.0examplesexistedoriginallyonCANONICAL-OBJECT.165potentialnewentrieswerejustproposed.Eliminatingduplicates,thenewlyconstructedexamplesare:(VECTOR)(BAG)(CLASS)-(OSET)FALSET+,TRUE(PAIR)(T)L'¢-,Appendix5AMDiscoveryinMathematic,IsHeuristicSesrch-331-(NIL)(TRUE)(FALSE)Aftereliminatingduplicateandalready-knownentries,AMfindsthat.only12new,distinctexamplesofCANONICAL-OBJECThadtobeadded.Do-threshraisedfrom341to391.ThisCandused23.827cpuseconds.Thetop3Candsare:1:Restrictthefollowing:Genl-obj-equal-tCanonical-objectDomain2:Canonizethese2arguments:Same-sizeandObj-equal3:FillinexamplesofCoalesceIchoosefirstCand.OK?yes.Thereasonis:(GENL-OBJ-EQUAL-1wasoneofthepredicateswhichdefinedthenewconceptCANONICAL-OBJECT,soitIsworthconsideringtherestrictionofGENL-OBJ-EQUAL-1tothatsubsetofOBJECT's)Beginning15thcycle.Succeeded!Do-threshraisedfrom391to431.ThisCandused3.562cpuseconds.Thetop3Candsare:1:Canonizethese2arguments:Same-sizeandObj-equal2:FillinsomeexamplesofCoalesce3:Restrictthefollowing:Obj-equalCanonical-objectDomainIchoosefirstCand.OK?yes.ThereasonIs:(ItwouldbenicetofindacanonicalwithrespecttoSame-sizeandObj-equalrepresentationCforanyObjectX;thatis,,'(SAME-SIZExy)iff(OBJ-EQUAL(Cx)(Cy)).)'Iod.-,,P""-,',",*";'--%.-r,*,j"\.',,j'.,..,..-/%..:+.;;-Appendix5AMDiscoveryinMathemsticsasHeuristic$orch-332-Beginning16thcycle.ExperimentsindicatethatSAME-SIZEisnotaffectedbyvaryingthetypeofstructureofitsarguments.ExperimentsindicatethatSAME-SIZEisnotaffectedbyreorderingelementsofitsstructuralarguments.SoanycanonicalargumentscanbeBagsandSets.ExperimentsindicatethatSAME-SIZEisaffectedbythepresenceofmultipleelementsInitsstructuralarguments.SoanycanonicalargumentscanbeBagsaidLists.SAME-SIZEdoesn'tlookatthespecificelementsinOBJECT,likeOBJ-EQUALdoes,soAMcanreplacethemallbyisingledistinguishedelement,sayT.Succeeded!SomeconjecturesthatAMconsidersbelievable:OBJ-EQUAL,restrictedtocanonicalBAG-STRUC's,isindistinguishable..-.fromSAME-SIZE.ThereisapowerfulanalogybetweenSAME-SIZEOBJ-EQUALBAG-STRUCCANONICAL-BAG-STRUCoperatorsonandintothoseoperatorsrestrictedtoBAG-STRUCCANONICAL-BAG-STRUCstatementsinvolvingthesestatementsinvolvingtheseDo-threshraisedfrom431to457.ThisCandused17.297cpuseconds.Thetop3Candsare:1:FillInsomeexamplesofCanonical-bag-struc2:Restrictthefollowing:Same-sizeCanonical-bag-strucDomain3:Restrictthefollowing:Bag-struc-joinCanonical-bag-strucDomainIchoosefirstCand.OK?yes.Thereasonis:(AnyexampleofCANONICAL-BAG-STRUCisacanonicalexampleofBAG-STRUC)Beginning17thcycle.0',Appendix5AMDiscoveryinMathematicsasHeuristicSearch-333-AMwillnowtrytoproduceexamplesofCANONICAL-BAG-STRUCbyrunningthefollowingoperations:(CANONIZE-SAME-SIZE&OBJ-EQUAL).FilledinexamplesofCANONICAL-BAG-STRUC.0examplesexistedoriginallyonCANONICAL-BAG-STRUC.211potentialnewentrieswerejustproposed.Eliminatingduplicates,thenewlyconstructedexamplesare:(BAG)(BAGTT)(BAGTTT)(BAGT)(BAGTTTTT)(BAGTTTT)(BAGTT)Aftereliminatingduplicateandalready-knownentries,AMfindsthat.only7new,distinctexamplesofCANONICAL-BAG-STRUChadtobeadded.Do-threshraisedfrom457to478.ThisCandused35.918cpuseconds.Thetop3Candsare:1:Restrictthefollowing:Same-,izeCanonical-bag-strucDomain2:Restrictthefollowing:Bag-struc-joinCanonical-bag-strucDomain3:Restrictthefollowing:Obj-equalCanonical-objectDomainIchoosefirstCand.OK?yes.Thereasonis:(SAME-SIZEwasoneofthepredicateswhichdefinedthenewconceptCANONICAL-BAG-STRUC,soItisworthconsideringtherestrictionofSAME-SIZEtothatsubsetofBAG-STRUC's)Beginning18thcycle.Succeeded!Do-threshraisedfrom478to495.ThisCandused3.311cpuseconds.¥"?:N¢CAppendix5AMDiscoveryinMathematicsasHeuristicSearch-334-Renamewhichexistingconcept?CANONICAL-BAG-STRUCWhatisItsnewname?NUMBERDone.?:(W,I.E,M,N,?,Q)NRenamewhichexistingconcept?CANONIZE.SAME.SIZE&iOBJ.EQUALWhatisitsnewname?SIZEDone.Thetop3Candsare:1:CheckallexamplesofNumber2-Restrictthefollowing:Ob-qualCanonical-objectDomain3:CheckallexamplesofCanonical-objectIchoosefirstCand.OK?yes.The2reasonsare:(InterestingnessofNUMBERhaschangedrecently)(Somenew,uncheckedexamplesofNUMBERhaverecentlybeenadded)Beginning19thcycle.CheckedexamplesofNUMBERandallentrieswereconfirmedThisCandused1.909cpuseconds.Thetop3Candsare:1:CheckallexamplesofCanonical-object2:CheckallthingswhichjustbarelymissbeingexamplesofNumber3:Restrictthefollowing:Bag-struc-joinNumberDomainIchoosefirstCand.OK?yes.Thereasonis:(Somenew,uncheckedexamplesofCANONICAL-OBJECThaverecentlybeenadded)Beginning20thcycle..-I'6Appendix5AMDiscoveryinMathematicsasHeuristicSearch-335-CANONICAL-OBJECThas7exampleswhichoccupy11listcells,butisnotinterestingenoughtowarranttakingupthatmuchspace;soabout2willbeselectedatrandomandforgotten.CheckedexamplesofCANONICAL-OBJECT.12entrieswerethereinitially.10wereneverconfirmedorrejected.2hadtobecompletelydiscarded.5entriesarepresentnow.ThisCandused16.626cpuseconds.NoCandonCANDSisgoodenuf.Do-threshreducedfrom495to340MustfindnewcandidatesandmergethemintoCANDS.Thetop3Candsare:1:FillinsomeexamplesofSize2:FillinsomeexamplesofCoalesce3:Restrictthefollowing:Bag-struc-joinNumberDomainIchoosefirstCand.OK?yes.Thereasonis:(WehavenoexamplesforSIZEyet)Ber~inning21stcycle.Recordofattemptstofindexamples:Anex(sought)is:(BAGTT).+++.+++..++Found26examplesand0non-exs),in.996secs.Aniceratioofexs/non-exswasencounteredforSIZEWon'ttrytocreatearestrictedinterestingversionofSIZE.FilledinexamplesofSIZE.13examplesexistedoriginallyonSIZE.26potentialnewentrieswerejustproposed.Eliminatingduplicates,thenewlyconstructedexamplesare:((BAGTT)-+(BAGTT))((BAGTTTTT)-+(BAGTTTTT))((BAGB)-#(BAGT))((BAGAA)-4(BAGTT))((BAGTTT)4(BAGTTT))((BAGTTTT)--(BAGTTTT))((BAGAB)(BAGTT))((BAGR2-1R2-2R2-3R2-4R2-5R2-6R3-1R3-2R3-3R3-4R3-5R3-6R4-1R4-2R4-3R4-4R4-5R4-6R5-1R5-2R5-3R5-4R5-5R5-6R6-1R6-2R6-3R6-4R6-5R6-6)(BAGTTTTTTTTTTTTTTTTTT[Appendix5ADiscoveryiMathemeticsasHwisticSeerch-336-))((BAGAAR)-+(BAGTTT))((BAG0DFIM)-#(BAGTTTTT))((BAGA)(BAGT))((BAGTTTTTTTTTTTTTTTTTTTTTTTTTTTTT)-#(BAGTTTTTTT))((BAGDONED)-+(BAGTT))((BAGAB(BAG8)-(CLASS))(BAGTTTT))(,BAGAB)-+(BAGTT))Aftereliminatingduplicateandalready-knownentries,AMfindsthat.only14now,distinctexamplesofSIZEhadtobeadded.Do-threshraisedfrom340to414.ThisCandused9.2cpuseconds.N-337-Appendix6.BibliographyOfallthearticles,books,andmemoswhichwerereadasbackgroundforAM,Ihaveselectedthosewhichhadsomeimpactonthatwork(oratleast,onthisdocument).Whilenumerous,theyformafarfromcomprehensivelistofpublicationsdealingwithautomatedtheoryformation,withAIingeneral,andwitihowmathematiciansdoresearch.Precedingthelistingofthesereferences,Appendix6.1willprovidesomepointerstoreal-worlddocumentation,theAMprogramitself,etc.Appendix6.1.DocumentationBelowarelistedsomereferencestoearlierarticles,toon-linedocumentationaboutAM,totheAMprogramitself,etc.TheAMrepresentationisavariantofthe"Beings"ideas,amodularrepresentationforknowledge.InhissummaryofthestateofAutomaticProgramming[Bierman76),BiermancomparesBeingswithFrames,Actors,etc.,andgivesaniceexampleofBeingsinaction.HistorybuffsmaybeinterestedinperusingtheoriginalthesisproposalforAM(about50pageslong).ItiskeptasSYS4[tlk,dbl]eSU-AI.ThefullbodyofknowledgeprovidedtoAMisfoundinEnglishtranslationonfileGIVEN[tlkdblJ.SU-AI.Thisisalonger,fullertreatmentthan-'eonefoundinthisdocument,inAppendix2.1andAppendix3.TheknowledgeasusedisofcoursetheAMprogramitself.Needlesstosay,itismuchlongerthantheexcerptsshowninAppendix2.3.SaidrunningAMprogramisstoredatSUMEX,ondirectory<LENAT>.FromInterlisp,oneneedonlyloadinthefile<lenat>LT.Thisinturnwillloadinthreefiles:TOP6,CON6,andUTIL6.SoifyouwanttostealAM,takeallfourfiles!Onceloaded,theprogramisself.explanatory.Itwillinstructtheusertotype(START)tobeginAMitself.Oncehedoesthis,AMwillaskhimsomequestions,andthenentertheselect-and-execute.a-taskloop.Acrude"user'smanual"isstoredasfileMANUAL[am,dbl]*SU-AI.Thereadermaywish-_.toglanceoveritbeforerunningAM,sincemuchoftheactualLISPcodeismorecomplicatedthanthisthesismadeitseem(e.g.,therearetwodynamicaiiy.adjustedvariables,Verbosity-levelandExpert-level.Theformervariabledetermineswhicheventsgenerateamessage,andthelattervariableaffectsthetersenessofeachofthoseprintedmessages.)4.Appendix6AMDiscoveryinMathematicsasHeuristicSearch-338-Appendix6.2.ReferencesAdams,JamesL.,ConceptualBlockbusting,W.H.FreemanandCo.,SanFrancisco,1974.Amarel,Saul,OnRepresentationsandModellinginProblemSolvingandOnFutureDirectionsforIntelligentSystems,RCALabsScientificReportNo.2,Princeton,1967.Atkin,A.0.L.,andB.J.Birch,eds.,ComputersinNumberTheory,Proceedingsofthe1969.NSRCAOxfordSymposium,AcademicPress,NewYork,1971.Badre,NagibA.,ComputerLearningFromEnglishText,MemorandumNo.ERL-M372,ElectronicsResearchLaboratory,UCB,December20,1972.AlsosummarizedInCLETAComputerProgramthatLearnsArithmeticfromanElementaryTextbook,IBMResearchReportRC4235,February21,1973.Berliner,H.,ChessasProblemSolving:TheDevelopmentofaTacticsAnalyzer,Carnegie-MellonUniversityComputerScienceDepartmentThesis,March,1974.FBsth,E.W.,andJ.Piaget,MathematicalEpistemologyandPsychology,GordonandBreach,NewYork,1966.Beveridge,W.I.,TheArtofScientificInvestigation,VintageBooks,N.Y.1950.Biermann,A.W.,ApproachestoAutomaticProgramming,inAdvancesinComputers.v.15,AcademicPress,197.Black,M.,MarginsofPrecision,CornellUniversityPress,Ithaca,NewYork,1970.Blalock,H.M.,TheoryConstruction,Prentice-Hall,EnglewoodCliffs,N.J.,1969.Bledsoe,W.W.,SplittingandReductionHeuristicsinAutomaticTheoremProving,ArtificialIntelligence2,1971,pp.55-77.Bledsoe,W.W.,andBruell,Pezer,AMan-MachineTheorem-ProvingSystem,ArtificialIntelligence5,1974,51.72.Bobrow,D.,andA.Collins,editors,RepresentationandUnderstanding,AcademicPress,S.F.,1975.Bobrow,D.,andD.Norman,SomePrinciplesofMemorySchemata,XEROXPARCMemo-.CSL754,PaloAlto,July,1975.Bobrow,D.G.,andT.Winograd,AnOverviewofKRL,AKnowledgeRepresentation%::Language,JournalofCognitiveScience,Vol1,No1,January1977.Bourbaki,N.,TheArchitechtureofMathematics,AmericanMathematicsMonthly,v.57,pp.221-232,PublishedbytheMAA,Albany,N.Y.,1950.P--0.IAppendix6AMDiscoveryinMathematicsasHeuristicSearch-339-Boyer,R.S.,andJS.Moore,ProvingTheoremsaboutLISPFunctions,JACM,v.22,No.1,January,1975,pp.129-144.Brotz,D.K.,EmbeddingHeuristicProblemSolvingMethodsinaMechanicalTheoremProver,Ph.D.dissertationpublishedasStanfordComputerScienceReportSTAN-CS-74-443,August,1974.Bruijn,N.G.de,AUTOMATH,alantuageformathematics,LesPressesdeL'UniversitedeMontreal,Montreal,1973.Buchanan,B.G.,G.Sutherland,andE.Feigenbaum,HeuristicDendral:AProgramforGeneratingExplanatoryHypothesesinOrganicChemistry,in(MeltzerandMichie,eds.)MachineIntelligence4,AmericanElsevierPub.,N.Y.,1969,pp.209-254.Buchanan,B.G.,E.Feigenbaum,andSridharan,HeuristicTheoryFormation,MachineIntelligence7,1972,pp.267-290.Buchanan,B.0.,ScientificTheoryFormationbyComputer,NATOAdvancedStudyInstituteonComputerOrientedLearningProcesses,Bonas,France,1974.Buchanan,BruceG.,ApplicationsofArtificialIntelligencetoScientificReasoning,SecondUSA-JapanComputerConference,Tokyo,August26-28.PublishedbyAFIPSandIPSJ,Tokyo,1975,pp.189-194.Bundy,A.,DoingArithmeticwithDiagrams,SrdInternationalJointConferenceonArtificialIntelligence(rdIJCAI),Stanford,197S,pp.10-138.Burstall,R.,andJ.Darlington,ATransformationSystemforDevelopingRecursivePrograms,UniversityofEdinburghAIResearchReport,March,1976.Church,A.,ThecalculiofLambda-conversion,PrincetonUniversityPress,Princeton,1941.Cohen,P.J.,SetTheoryandtheContinuumHypothesii,W.A.Benjamin,Inc.,NewYork,1966.Colby,K.M.,"Simulationsofbeliefsystens",in[SchankandColby73).Copeland,R.W.,HowChildrenLearnMathematics,TheMacMillanCompany,London,1970.Courant,R.,andH.Robins,WhatisMathematics,OxfordUniversityPress,NewYork,1941.Dahl,0.,et.al.,SIMULA-67:ACommonBaseLanguage,NorwegianComputingCenterPublicationNo.S-2,Oslo,1968.Dariington,J.,andR.Burstall,ASystemWhichAutomaticallyImprovesPrograms,3rdIJCAI,197S,pp.479-485.-I'!Appendix6AMDiecoveryinMathematicsasHeuristicSearch-340-Davis,R.,andJ.King,AnOverviewofProductionSystems,StanfordAlLabMemo271,October,1975.Davis,R.,ApplicationsofMetaLevelKnowledgetotAeConstruction,MaintenanceandUseofLargeKnowledgeBases,StanfordAlLabMemo283,July,1976.Dijkstra,E.W.,ADisciplineofProgramming,Prentice-Hall,Inc.,EnglewoodCliffs,N.J.,1976.Eddington,SirA.S.,NewPathwaysinScience,MacmillanCo.,N.Y.,1935.Engelman,C.,MATHLAB:AProgramforOn-LineAssistanceinSymbolicComputation,inProceedingsoftheFJCC,v.2,SpartanBooks,1965.Engelman,C.,MATHLAB'68,inIFIP,Edinburgh,1968.Evans,T.G.,AProgramfortheSolutionofGeomtric-AnalogyIntelligenceTestQuestions,in[Minsky68,pp.271.353.Eynden,C.V.,NumberTheory:AnIntroductiontoProof,InternationalTextbookCompany,Scranton,Pennsylvania,1970.Feigenbaum,E.A.,EPAM:TAeSimulationofVerbalLearningBehavior,in[Feigenbaum&Feldman63),Part2,Section2,pp.297-309.Feigenbaum,E.A.,andJ.Feldman,editors,ComputersandThout,McGraw-HillBookCompany,NewYork,NewYork,1963.Feigenbaum,E.,B.Buchanan,andJ.Lederberg,OnGeneralityandProblemSolving:ACaseStudyUsingTheDENDRALProgram,in(MeltzerandMichie,eds.)MachineIntelligence6,1971,pp165-190.Fogel,L.,A.Owens,andM.Walsh,ArtificialIntelligenceThroughSimulatedEvolution,JohnWileySons,Inc.,N.Y.,1966.Fuller,R.B.,Synergetics,MacmillanCo.,N.Y.,1975.Gardner,M.,MathematicalGames,ScientificAmerican[numerouscolumns,includingespecially:February,1975.1Gelernter,H.,RealizationofaGeometry-TAeoremProvingMactine,in[Felgenbaum&Feldman6S],Part1,Section3,pages134-152.Goldstein,I.,ElementaryGeometryTheoremProving,MITAlMemo280,April,1973.Goodsteir,R.L.,FundamentalConceptsofMathematics,PergamonPress,NewYork,1962.Green,C.C.,R.Waldinger,D.Barstow,R.Elschlager,D.Lenat,B.McCune,D.Shaw,andL.Steinberg,ProgressReportonProgram-UnderstandingSystems,MemoAIM-240,CSReportSTAN-CS-74-444,ArtificialIntelligenceLaboratory,StanfordUniversity,August,1974.Appendix6AMDiscoveryinMathetticsasNeuriicStorch-341-Guard,J.R.,Eastmanetal.,Semi-AutomatedMathematics,JACM16,January,1969,pp.49-62.Hadamard,J.,ThePsychologyofInventionintheMathematicalField,DoverPublications,NewYork,1945.Halmos,P.R.,InnovationinMathematics,in[Kline68).OriginallyInScientificAmerican,September,1958.Hardy,G.H.,andE.M.Wright,AnIntroductiontotheTheoryofNumbers,OxfordU.Press,London,1938.(Fourthedition,1960)Hayes-Roth,F.,andV.R.Lesser,FocusofAttentioninaDistributedSpeechUnderstandingSystem,ComputerScienceDept.Memo,Carnegie-MellonUniversity,Pittsburgh,Pa.,January12,1976.Heripel,C.G.,FundamentalsofConceptFormationinEmpiricalScience,UniversityofChicagoPress,Chicago,1952.Hewitt.C.,AUniversalModularACTORFormalismforArtificialIntelligence,ThirdInternationalJointConferenceonArtificialIntelligence,1973,pp.235.245.Hewitt,C.,ViewingControlStructuresasPatternsofPassingMessages,MITAILabWorkingPaper92,April,1976.Hilpinen,R.,RulesofAcceptanceandInductiveLogic,ActaPhilosophicaFennica,Fasc.22,North-HollandPublishingCompany,Amsterdam,1968.Hintikka,J.,KnowledgeandBelieSCornellU.Press,Ithaca,N.Y.,1962.Hintikka,J.,andP.Suppes,editors,AspectsofInductiveLogic,North-HollandPublishingCompany,Amsterdam,1966.Iberall,A.S.,TowardaGeneralScienceofViableSystems,McCraw-HillBookCo.,N.Y.1972.Kershner,R.B.,andL.R.Wilcox,TheAnatomyofMathematics,TheRonaldPressCompany,NewYork,1950.Kline,M.(ed),MathematicsIntheModernWorld:ReadingsfromScientificAmerican,W.H.FreemanandCo.,SanFrancisco,1968.Kling,R.E.,ReasoningbyAnalogywithApplicationstoHeuristicProblemSolving:ACaseStudy,StanfordArtificialIntelligenceProjectMemoAIM-147,CSDepartmentreportCS-216,August,1971.Knuth,D.E.,FundamentalAlgorithms,v.IofTheArtofComputerProgramming.Addison-WesleyPublishingCompany,MenloPark,1968.-JAppendix6AMDiscoveryinMathematicsasHeuristicSearch-342-Knuth,D.E.,SurrealNumbers,Addison-WesleyPublishing'Zompany,Reading,Mass.,1974.Knuth,D.E.,AncientBabylonianAlgorithms,CACM15,July,1972,pp.671-677,Koestler,A.,TheActofCreation,NewYork,DellPub.,1967.Koppelman,E.,"ProgressinMathematics",intheproceedingsoftheWorkshopontheHistoricalDevelopmentofModernMathematics,July,1975.Lamon,W.E.,LearningandtheNatureofMathemaliccs,ScienceResearchAssociates,PaloAlto,1972.Lederberg,J.,DENDRAL-64:ASystemforComputerConstruction,Enumeration,andNotationofOrganicMoleculesasTreeStructuresandCyclicGraphs,PartsI-VoftheInterimReporttoNASA,1964.Lederberg,J.;NewYorkTimesreviewof[Weizenbaum76J;1976.Lefrancols,G.R.,PsychologicalTheoriesandHumanLearning,WadsworthPublishing,Belmont,Ca.,1972.Lenat,D.,SynthesisofLargeProgramsfromSpecificDialogues,ProceedingsoftheInternationalSymposiumonProvingandImprovingPrograms,LeChesnay,France,July,1975a.Lenat,D.,BEINGs:KnowledgeasInteractingExperts,4thIJCAI,Tbilisi,GeorgianSSR,USSR,1975b.Lesser,V.,R.D.Fennell,L.D.Erman,andD.R.Reddy,OrganizationoftheHearsay-liSpeechUnderstandingSystem,inIEEETransactionsonAcoustics,Speech,andSignalProcessing,v.ASSP-23,1975,pp.11-23.Llnderholm,C.E.,MathematicsMadeDifficult,WorldPublishingCo.,N.Y.1972.Lombardi,L.A.,andB.Raphael,LISPasthelanguageforanincrementalcomputer,in(E.C.BerkeleyandD.G.Bobrow,eds.)TheProgrammingLanguageLISP:ItsOperationandApplications,InformationInternationalInc.,1964.McDermott,D.,ArtificialIntelligenceMeetsNaturalStupidity,inSigartNewsletter,No.57,April,1976,pp.4.9.Martin,W.,andR.Fateman,TheMACSYMASystem,in(S.Petrick,ed.)SecondSymposiumonSymbolicandAlgebraicManipulation,ACMSIGSAM,N.Y.(conferencewasheldinLosAngeles),1971,pp.59-75.Minsky,M.,editor,SemanticInformationProcessing,TheMITPress,Cambridge,Massachusetts,1968.Minsky,M.,Frames,in[Winston75111_.-V-!_.INI~jWAppendix6AMDiscoveryinMathematicsasHeuristicSearch-343-Mirsky,L.,StudiesInPureMathematics,AcademicPress,NewYork,1971.Moore,JS.,IntroducingIterationintothePureLISPTheoremProver,XEROXPARCreportCSL.74-3,PaloAlto,1975.Moore,J.andA.Newell,"HowcanMERLINunderstand?,"in(Gregg,ed.)KnowledgeandtCognitionLawrenceErlbaumAssociates,1973.Moore,R.C.,D-SCRIPT:ACompuiationalTheoryofDescriptions,MITAlMemo278,February,1973.Neumann,J.von,ThMathematician,inR.B.Heywood(ed),TheWorksoftheMind,U.ChicagoPress,pp.180-196,1947.Nevins,ArthurJ.,AHumanOrientedLogicforAutomaticTheoremProving,MITAlMemo268,October,1972.Nevins,ArthurJ.,PlaneGeometryTheorenProvingUsingForwardChaining,ArtificialIntelligence6,Spring1975,pp.1-23.Newell,A.HeuristicProgramming.Ill-StructuredProblems,in(A.Aronofsky,ed.)ProgressinOperationsResearchIII.JohnWileyandSons,1969,Newell,A.,ProductionSystems:ModelsofControlStructures,May,197SCMUReport,alsopublishedin(W.G.Chase,ed.)VisuaiInformationProcesting.N.Y.:AcademicPress,Chapter10,pp.463-526.Newell,A.,J.Shaw,andH.Simon,EmpiricalExplorationsoftheLogicTheoryMachine:4CaseStudyinHeuristics,RANDCorp.ReportP-951,March,1957.Newell,A.,andH.Simon,HumanProblemSolving,Prentice-Hall,EnglewoodCliffs,NewJersey,1972.Newell,A.andH.Simon,ComputerScienceasEmpiricalInquiry:SymbolsandSearch,the1975ACMTuringAwardLecture,printedinCACM19,No.3,March,1976,pp.113-126.Nllsson,N.J.,Problem-solvingMethodsinArtificialIntelligence,McGraw-HillBookCompany,NewYork,NewYork,1971Norman,D.,andD.Bobrow,OnData-limitedandResource-limitedProcesses,JournalofCognitivePsychology,v.7,1975,pp.44-64.Norman,D.,andD.Rumelhart,ExplorationsinCognition,W.H.FreemanCo.,S.F.,1975.Ore,0.,NumberTheoryanditsHistory,McGraw-Hill,NewYork,1948.Papert,S.,TeachingChildrentobeMathematiciansVersusTeachingAboutMathematics,intheInternationalJournalofMathematicalEducationinScienceandTechnology,v.3,No.3,July-September,1972,pp.249-262.Appendix6AMDiscoveryinMathematicsasHeuristicSearch-344-Piaget,J.,TrheLanguageandThoughtoftheChild,TheWorldPublishingCo.,N.Y.,1955.Pietarinen,J.,Lawlikeness,Analogy,andInductiveLogic,North-Holland,Amsterdam,publishedasv.26oftheseriesActaPhilosophicaFennica(J.Hintikka,ed.),1972.Pitrat,J.,HeuristicInterestofusingMetatheorems,SymposiumonAutomaticDemonstration,Springer-Verlag,1970.Poincare',H.,TheFoundationsofScience:ScienceandHypothesis,TheValueofScience,ScienceandMethod,TheSciencePress,NewYork,1929.Polya,G.,MathematicsandPlausibleReasoning,PrincetonUniversityPress,Princeton,Vol.1,1954;Vol.2,1954.Polya,G.,HowToSolveIt,SecondEdition,DoubledayAnchorBooks,GardenCity,NewYork,1957.Polya,G.,MathematicalDiscovery,JohnWiley&Sons,NewYork,Vol.1,1962;Vol.2,1965.Ramanujan,S.A.,CollectedPapers,(Hardy,Aiyar,andWilson,eds.),ChelseaPublishingCompany,N.Y.,1927.Rulifson,J.,J.Derksen,andR.Waldinger,QA4:AProceduralCalculusforIntuitiveReasoning,SRIProject8721,TechnicalNote73,ArtificialIntelligenceCenter,SRI,MenloPark,California,November,1972.Saaty,T.L.,andF.J.Weyl,editors,TheSpiritandtheUsesoftheMathematicalSciences,McGraw-HillBookCompany,NewYork,1969.Samuel,A.,SomeStudiesinMachineLearningUsingtheGameofCheckersI.RecentProgress,intheIBMJournalofResearchandDevelopment,vol.11,no.6,pp.610.617,November,1967.Schank,R.andK.Colby,ComputerModelsofThoughtandLanguage.,W.H.Freeman,1973.Schminke,C.W.,andW.R.Arnold,editors,MathematicsisaVerb,TheDrydenPress,Hinsdale,Illinois,1971.Simon,H.A.,TheHeuristicCompiler,in[SimonSiklossy72J,Part1,Chapter1,pp.9-43,1972.Simon,H.A.,DoesScientificDiscoveryHaveaLogic?,PhilosophyofScience,v.40,No.4,December,1973,pp.471-480.Simon,H.A.,andL.Siklossy,editors,RepresentationandMeaning:ExperimentswithInformationProcessingSystems,Prentice-HallInc.,EnglewoldCliffs,N.J.,1972.Skemp,R.R.,ThePsychologyofLearningMathematics,PenguinBooks,Ltd.,Middlesex,England,1971.._-J.-LAppendix6AMDiscoveryinMathematicsasHeuristicSearch-345-Sloman,A.,InteractionsBetweenPhilosophyandArtificialIntelligence:TheRoleofintuitionandNon-LogicalReasoninginIntelligence,ArtificialIntelligence2,1971,pp.209-225.Smith,N.W.,AQuestion.AnsweringSystemforElementaryMathematics,StanfordInstituteklforMathematicalStudiesintheSocialSciences(IMSSS),TechnicalReport227,April19,1974.Spivak,M.,CalculusonManifolds,W.A.Benjamin,Inc.,N.Y.1965.Stein,S.K.,Mathematics:TheMan-MadeUniverse:'AnIntroductiontotheSpiritofMathematics,SecondEdition,W.H.FreemanandCompany,SanFrancisco,1969.Teitelman,W.,INTERLISPReferenceManual,XEROXPARC,1974.Tullock,G.,TheOrganizationofInquiry,DukeU.Press,Durham,N.C.,1966.Venn,J.,ThePrinciplesofEmpiricalorInductiveLogic,MacMillanandCo.,London,1889.Waismann,F.,IntroductiontoMathematicalThinking,FrederickUngarPublishingCo.,NewYork,1951.Wang,H.,TowardMechanicalMathematics,IBMJournalofResearchandDevelopment,v.4,Number1,January,1960,pp.2-22.Weizenbaum,J.,ComputerPowerandHumanReason,W.H.Freeman,S.F.,1976.Wickelgren,W.A.,HowtoSolveProblems:ElementsofaTheoryofProblemsandProblemSolving,W.H.FreemanandCo.,SanfFrancisco,1974.Wilder,R.L.,EvolutionofMathematicalConcepts,JohnWiley&Sons,Inc.,N.Y.,1968.Winograd,T.,UnderstandingNaturalLanguage,AcademicPress,Inc.,NewYork,NewYork,1972.Winston,P.,LearningStructuralDescriptionsfromExamples,Ph.D.thesis,Dept.ofElectricalEngineering,TR-76,ProjectMAC,TR-231,MITAlLab,September,1970.Winston,P.,editor,NewProgressinArtificialIntelligence,MITAlLabMemoAI-TR.10,June,1974.Winston,P.,editor,ThePsychologyofComputerVision,McGrawHill,N.Y.1975.